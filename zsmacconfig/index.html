<!DOCTYPE html>
<html lang="en">
<head>

    <title>ZsMacConfig</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=7d64696598.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css%3Fv=7d64696598.css" />
    <meta name="description" content="Config Backup" />
    <link rel="icon" href="../content/images/size/w256h256/2021/07/ghost-orb.png" type="image/png" />
    <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="zairesinatra" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="ZsMacConfig" />
    <meta property="og:description" content="Config Backup" />
    <meta property="og:url" content="https://zairesinatra.github.io//zsmacconfig/" />
    <meta property="og:image" content="https://zairesinatra.github.io//content/images/2023/02/adventure.jpg" />
    <meta property="article:published_time" content="2019-04-22T13:54:00.000Z" />
    <meta property="article:modified_time" content="2023-03-16T08:29:01.000Z" />
    <meta property="article:tag" content="Bugs handled" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ZsMacConfig" />
    <meta name="twitter:description" content="Config Backup" />
    <meta name="twitter:url" content="https://zairesinatra.github.io//zsmacconfig/" />
    <meta name="twitter:image" content="https://zairesinatra.github.io//content/images/2023/02/adventure.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Ziyi Xie" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Bugs handled" />
    <meta name="twitter:site" content="@xieziyi0422" />
    <meta property="og:image:width" content="1920" />
    <meta property="og:image:height" content="1080" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "zairesinatra",
        "url": "https://zairesinatra.github.io//",
        "logo": {
            "@type": "ImageObject",
            "url": "https://zairesinatra.github.io//content/images/2021/07/zs-1.JPG",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Ziyi Xie",
        "image": {
            "@type": "ImageObject",
            "url": "https://zairesinatra.github.io//content/images/2021/07/zs-2.JPG",
            "width": 1079,
            "height": 1079
        },
        "url": "https://zairesinatra.github.io//author/ziyi/",
        "sameAs": []
    },
    "headline": "ZsMacConfig",
    "url": "https://zairesinatra.github.io//zsmacconfig/",
    "datePublished": "2019-04-22T13:54:00.000Z",
    "dateModified": "2023-03-16T08:29:01.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://zairesinatra.github.io//content/images/2023/02/adventure.jpg",
        "width": 1920,
        "height": 1080
    },
    "keywords": "Bugs handled",
    "description": "Config Backup",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://zairesinatra.github.io//"
    }
}
    </script>

    <meta name="generator" content="Ghost 5.33" />
    <link rel="alternate" type="application/rss+xml" title="zairesinatra" href="../rss/index.html" />
    <script defer src="https://cdn.jsdelivr.net/ghost/portal@~2.24/umd/portal.min.js" data-ghost="https://zairesinatra.github.io//" data-key="f5d74add11f1d16d3e59c12945" data-api="https://zairesinatra.github.io//ghost/api/content/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="f5d74add11f1d16d3e59c12945" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://zairesinatra.github.io//" crossorigin="anonymous"></script>
    <link href="https://zairesinatra.github.io//webmentions/receive/" rel="webmention" />
    <script defer src="../public/cards.min.js%3Fv=7d64696598"></script>
    <link rel="stylesheet" type="text/css" href="../public/cards.min.css%3Fv=7d64696598.css">
    <script defer src="../public/member-attribution.min.js%3Fv=7d64696598"></script>
    <!-- Google tag (gtag.js) -->

<!-- Ghost Init -->
<style>
    .post-template .gh-head,.page-template .gh-head {
    	background: #000000 !important;
    }
    .site-footer {
    	background: #000000 !important;
    }
    .post-card-tags {
    	color: var(--color-secondary-text) !important;
    }
    .gh-portal-triggerbtn-container.with-label::before {
        display:none !important;
    }
    /* 需提前，否则闪烁 */
    .footer-cta,
    a.gh-head-button { display: none; }
    .algoliaouterwrapper i svg {
    	width: 0;
    }
</style>

<!-- 2023 => prismjs -->
<script src="https://res.cloudinary.com/dzb9ldnvl/raw/upload/v1679662056/Ghost/prism_i9a8up.js"></script>
<link rel="stylesheet" href="https://res.cloudinary.com/dzb9ldnvl/raw/upload/v1679662068/Ghost/prism_mdfwkg.css"/>
<!-- Patch: additional supported languages -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-vim.min.js" integrity="sha512-P1MRK1H11qw68MAfAYVyjumLuurOQKO4wwcx4S2Nbbae9CndG92dkIXq34lsOeMFlWZoT7nVPgsOy3gepk93Bg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!-- Activate Line Numbers in PrismJS -->
<script>
	window.addEventListener('DOMContentLoaded', (event) => {      
		document.querySelectorAll('pre[class*=language-]').forEach(function(node) {
			node.classList.add('line-numbers');
            node.style.border = 'solid #FFFFFF 1px'
		});
		Prism.highlightAll();
	});
</script>
<!-- Resize Pre Area in PrismJS -->
<style>
    pre[class*="language-"].line-numbers{
		font-size: 0.8em;
        background-color: #202324;
    }
    code[class*="language-"] {
        background-color: transparent !important;
    }
</style>

<!-- TOC -->
<style>
    .toc > .toc-list li:first-child {
      margin-top: 8px;
    }
    .toc-list a {
      color: #000000 !important;
      text-decoration: none;
      word-break: break-word;
    }
    .toc > ol, .toc > li{
      font-size: 1.4rem;
    }
    
    .toc.active > .toc-list li:first-child {
      margin-top: 8px;
    }
    .toc.active .toc-list a {
      color: #FFFFFF !important;
      text-decoration: none;
      word-break: break-word;
    }
    .toc.active > ol, .toc.active > li{
      font-size: 1.4rem;
    }
</style>

<!-- ghost style by wkzs -->
<style>
.gh-content > [id] + * {
  margin-top: 2.5rem !important;
}
.gh-content > [id]:not(:first-child) {
  margin: 1.5em 0 0;
}
.gh-content > hr + *, .gh-content > blockquote + * {
  margin-top: max(1.1rem, 16px) !important;
}
.gh-content > [id]:not(:first-child) {
  margin: 1em 0 0;
}
.gh-content > * + * {
  margin-top: max(1.6vmin, 16px);
  margin-bottom: 0;
}
.gh-content > blockquote:not([class]), .gh-content > ol, .gh-content > ul, .gh-content > dl, .gh-content > p {
    font-family: var(--font-serif);
    font-weight: 400;
    font-size: 1.6rem;
    line-height: 1.6em;
    margin-top: 1.6rem;
}
</style>

<!-- Theme Change -->
<style>
    .theme-switcher-wrap {
        width: 42px;
        height: 24px;
        text-align: right;
    }
    .theme-switcher{
        display: inline-block;
        cursor: pointer;
    }
    .switch-path {
        width: 42px;
        height: 24px;
        border-radius: 10px;
        background-color: #f2f2f2;
        border: #dddfe6 1px solid;
    }
    .switch-path > .switch-handle {
        background-color: #ffffff;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        transition: all 0.3s ease-in-out;
    }
    .switch-handle .dark-icon {
        visibility: hidden;
        display: none;
    }
    .theme-switcher.active  .switch-path {
        background-color: #555;
    }
    .theme-switcher.active  .switch-handle {
        transform: translateX(20px);
        background-color: #101115;
    }
    .theme-switcher.active .switch-handle .light-icon {
      visibility: hidden;
    }
    .theme-switcher.active .switch-handle .dark-icon {
      visibility: visible;
      display: block;
    }
</style>

<!-- Arrow up -->
<style>
    .arrowup {
    	position: fixed;
        width: 50px;
        height: 50px;
        left: 35px;
        bottom: 3.1rem;
        z-index: 99;
        background-color: #15171A;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
        cursor: pointer;
        opacity: 1;
  		transition: opacity 0.3s ease-in-out;
    }
    .arrowup svg {
    	fill: #FFFFFF;
    }
    .arrowup:hover {
      opacity: 0.8;
    }
</style><style>:root {--ghost-accent-color: #15171A;}</style>
</head>
<body class="post-template tag-bugs-handled is-head-left-logo has-cover">
<div class="viewport">
    <header id="gh-head" class="gh-head outer">
        <div class="gh-head-inner inner">
            <div class="gh-head-brand">
                <a class="gh-head-logo" href="../index.html">
                        <img src="../content/images/2021/07/zs-1.JPG" alt="zairesinatra">
                </a>
                <button class="gh-search gh-icon-btn" onclick="searchFuncMobile()"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="../index.html">Home</a></li>
    <li class="nav-welcome"><a href="../welcome/index.html">Welcome</a></li>
    <li class="nav-author"><a href="../selfintro/index.html">Author</a></li>
    <li class="nav-tags"><a href="../tags/index.html">Tags</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                <div class="theme-switcher-wrap">
                    <div class="theme-switcher" onclick="switchTheme()">
                    <div class="switch-path">
                        <div class="switch-handle">
                        <svg viewBox="0 0 24 24" class="dark-icon">
                            <path
                            d="M11.01 3.05C6.51 3.54 3 7.36 3 12a9 9 0 0 0 9 9c4.63 0 8.45-3.5 8.95-8c.09-.79-.78-1.42-1.54-.95A5.403 5.403 0 0 1 11.1 7.5c0-1.06.31-2.06.84-2.89c.45-.67-.04-1.63-.93-1.56z"
                            fill="#CFD3DC"
                            ></path>
                        </svg>
                        <svg viewBox="0 0 24 24" class="light-icon">
                            <path
                            d="M6.05 4.14l-.39-.39a.993.993 0 0 0-1.4 0l-.01.01a.984.984 0 0 0 0 1.4l.39.39c.39.39 1.01.39 1.4 0l.01-.01a.984.984 0 0 0 0-1.4zM3.01 10.5H1.99c-.55 0-.99.44-.99.99v.01c0 .55.44.99.99.99H3c.56.01 1-.43 1-.98v-.01c0-.56-.44-1-.99-1zm9-9.95H12c-.56 0-1 .44-1 .99v.96c0 .55.44.99.99.99H12c.56.01 1-.43 1-.98v-.97c0-.55-.44-.99-.99-.99zm7.74 3.21c-.39-.39-1.02-.39-1.41-.01l-.39.39a.984.984 0 0 0 0 1.4l.01.01c.39.39 1.02.39 1.4 0l.39-.39a.984.984 0 0 0 0-1.4zm-1.81 15.1l.39.39a.996.996 0 1 0 1.41-1.41l-.39-.39a.993.993 0 0 0-1.4 0c-.4.4-.4 1.02-.01 1.41zM20 11.49v.01c0 .55.44.99.99.99H22c.55 0 .99-.44.99-.99v-.01c0-.55-.44-.99-.99-.99h-1.01c-.55 0-.99.44-.99.99zM12 5.5c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6s-2.69-6-6-6zm-.01 16.95H12c.55 0 .99-.44.99-.99v-.96c0-.55-.44-.99-.99-.99h-.01c-.55 0-.99.44-.99.99v.96c0 .55.44.99.99.99zm-7.74-3.21c.39.39 1.02.39 1.41 0l.39-.39a.993.993 0 0 0 0-1.4l-.01-.01a.996.996 0 0 0-1.41 0l-.39.39c-.38.4-.38 1.02.01 1.41z"
                            fill="#606266"
                            ></path>
                        </svg>
                        </div>
                    </div>
                    </div>
                </div>
                    <button class="gh-search gh-icon-btn" onclick="searchFunc()"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                    <div class="gh-head-members">
                                <a class="gh-head-link" href="index.html#/portal/signin" data-portal="signin">Sign in</a>
                                <a class="gh-head-button" href="index.html#/portal/signup" data-portal="signup">Subscribe</a>
                    </div>
            </div>
        </div>
    </header>

    <div class="algoliaouterwrapper" onclick="outerwrapperFunc(event)"><i><?xml version="1.0" encoding="utf-8"?>
<!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="style=doutone">
<g id="error-box">
<path id="vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M1.25 8C1.25 4.27208 4.27208 1.25 8 1.25H16C19.7279 1.25 22.75 4.27208 22.75 8V16C22.75 19.7279 19.7279 22.75 16 22.75H8C4.27208 22.75 1.25 19.7279 1.25 16V8ZM8 2.75C5.10051 2.75 2.75 5.10051 2.75 8V16C2.75 18.8995 5.10051 21.25 8 21.25H16C18.8995 21.25 21.25 18.8995 21.25 16V8C21.25 5.10051 18.8995 2.75 16 2.75H8Z" fill="#000000"/>
<path id="vector (Stroke)_2" fill-rule="evenodd" clip-rule="evenodd" d="M8.46967 8.46967C8.76257 8.17678 9.23744 8.17678 9.53033 8.46967L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7625 15.8232 14.4696 15.5303L8.46967 9.53033C8.17678 9.23743 8.17678 8.76256 8.46967 8.46967Z" fill="#BFBFBF"/>
<path id="vector (Stroke)_3" fill-rule="evenodd" clip-rule="evenodd" d="M15.5303 8.46967C15.8232 8.76257 15.8232 9.23744 15.5303 9.53033L9.53033 15.5303C9.23743 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7625 8.46967 14.4696L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z" fill="#BFBFBF"/>
</g>
</g>
</svg></i></div>
    <div class="site-content">
        



<main id="site-main" class="site-main">
<article class="article post tag-bugs-handled ">

    <header class="article-header gh-canvas">

        <div class="article-tag post-card-tags">
                <span class="post-card-primary-tag">
                    <a href="../tag/bugs-handled/index.html">Bugs handled</a>
                </span>
        </div>

        <h1 class="article-title">ZsMacConfig</h1>

            <p class="article-excerpt">Config Backup</p>

        <div class="article-byline">
        <section class="article-byline-content">

            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../author/ziyi/index.html" class="author-avatar">
                        <img class="author-profile-image" src="../content/images/size/w100/2021/07/zs-2.JPG" alt="Ziyi Xie" />
                    </a>
                </li>
            </ul>

            <div class="article-byline-meta">
                <h4 class="author-name"><a href="../author/ziyi/index.html">Ziyi Xie</a></h4>
                <div class="byline-meta-content">
                    <time class="byline-meta-date" datetime="2019-04-22">Apr 22, 2019</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 13 min read</span>
                </div>
            </div>

        </section>
        </div>

            <figure class="article-image">
                <img
                    srcset="../content/images/size/w1000/2023/02/adventure.jpg 1000w"
                    sizes="(min-width: 1400px) 1400px, 92vw"
                    src="../content/images/size/w2000/2023/02/adventure.jpg"
                    alt="life is an adventure"
                />
                    <figcaption>life is an adventure</figcaption>
            </figure>

    </header>

    <section class="gh-content gh-canvas">
    <aside class="toc-container">
        <div class="toc"></div>
    </aside>
    <!--kg-card-begin: markdown--><h2 id="brew-tools-record-backup">Brew Tools Record Backup</h2>
<h3 id="%E9%BC%A0%E9%AC%9A%E7%AE%A1-squirrel">鼠鬚管 Squirrel</h3>
<blockquote>
<p>中州韻輸入法引擎，是一個跨平臺的輸入法算法框架。基於這一框架，Rime 開發者與其他開源社區的參與者在 Windows、macOS、Linux、Android 等平臺上創造了不同的輸入法前端實現。</p>
</blockquote>
<p>经 <code>brew install --cask squirrel</code> 安装<a href="https://github.com/rime/squirrel">鼠鬚管</a>后的注意点与配置：</p>
<ul>
<li>切换 squirrel 输入法后才会生成 <code>~/Library</code> 下的 <code>Rime</code> 文件夹</li>
<li>在此目录下新增 <code>default.custom.yaml</code> 与 <code>squirrel.custom.yaml</code></li>
</ul>
<pre><code class="language-shell">touch ~/Library/Rime/default.custom.yaml ~/Library/Rime/squirrel.custom.yaml
</code></pre>
<pre><code class="language-yaml"># default.custom.yaml
# 使用九个候选词，而非默认的五个候选词
patch:
  menu/page_size: 8
</code></pre>
<pre><code class="language-yaml"># squirrel.custom.yaml
# 候选词菜单横向排列，而非默认的纵向排列；
# apathy 配色方案需要花园明朝字体以显示生僻字，在 http://fonts.jp/hanazono/
# 下载 hanazono-20170904.zip，将字体放入 ~/Library/Fonts/ 下。
patch:
  style/horizontal: true
  style/color_scheme: zsxzy
  preset_color_schemes/zsxzy :
  #Rime theme
    name: zsxzy
    author: zsxzy
    back_color: '0x424242'
    text_color: '0xFFFFFF'
    hilited_text_color: '0xFEB406'
    hilited_back_color: '0xDD9650'
    hilited_candidate_text_color: '0x2B64FF'
    hilited_candidate_back_color: '0x000000'
    hilited_candidate_label_color: '0x2B64FF'
    hilited_comment_text_color: '0x2B64FF'
    candidate_text_color: '0xFFFFFF'
    label_color: '0xFFFFFF'
    comment_text_color: '0xFFFFFF'

  #   &quot; style/color_scheme &quot; : starcraft     #这项用于选中下面定义的新方案
  # &quot; preset_color_schemes/starcraft &quot; :   #在配色方案列表里加入标识为starcraft的新方案
  #   name :星际我争霸／StarCraft 
  #   author : Contralisk &lt;contralisk@gmail.com&gt;, original artwork by Blizzard Entertainment 
  #   text_color : 0xccaa88              #编码行文字颜色，24位色值，用十六进制书写方便些，顺序是蓝绿红0xBBGGRR 
  #   candidate_text_color : 0x30bb55    #候选项文字颜色，当与文字颜色不同时指定
  #   back_color : 0x000000              #底色
  #   border_color : 0x1010a0            #边框颜色，与底色相同则为无边框的效果
  #   hilited_text_color : 0xfecb96      #高亮文字，即与当前高亮候选对应的那部份输入码
  #   hilited_back_color : 0x000000      #设定高亮文字的底色，可起到凸显高亮部份的作用
  #   hilited_candidate_text_color : 0x60ffa8   #高亮候选项的文字颜色，要醒目！
  #   hilited_candidate_back_color : 0x000000   #高亮候选项的底色，若与背景色不同就会显出光棒
</code></pre>
<pre><code class="language-yaml"># 更改 user.yaml
var:
  last_build_time: 1625667403
  previously_selected_schema: luna_pinyin_simp
  schema_access_time:
    luna_pinyin: 1624705156
    luna_pinyin_fluency: 1624705052
    luna_pinyin_simp: 1624705159
</code></pre>
<h3 id="formulae-%E4%B8%8D%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97">Formulae 不完全指南</h3>
<p>通过 smartmontools 进行硬盘写入查询的代码如下。</p>
<pre><code class="language-shell">$ brew install smartmontools
$ smartctl -a disk0
$ brew uninstall smartmontools 
</code></pre>
<p>使用 libarchive 的开源 unar 支持广泛格式；unrar 不是免费软件，且只能处理 rar 格式。通过 unar 解压带有 rar 后缀文件的代码如下。</p>
<pre><code class="language-shell">$ unar -help
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7">包管理工具</h2>
<h3 id="npm-yarn">npm &amp; yarn</h3>
<p>NPM CLI Commond Line Interface：与 GUI 图形化操作界面对立，仅通过键盘录入指令，不支持鼠标操作。</p>
<p>NPM 安装包到生产或开发环境：--save 或 --save-dev。</p>
<p>从 npm@5 开始，通过将完整性不匹配视为缓存未命中，缓存可以从损坏问题中自我修复，因此从缓存中提取的数据保证有效。删除缓存只会让包管理器运行效率降低，且不能纠正遇到的任何问题。</p>
<pre><code class="language-shell"># 查看某个 package 的最新版本|在 npm 服务器上所有发布过的版本
$ npm view &lt;packageName&gt; version|versions # 具体版本
$ npm info &lt;packageName&gt; # 更加详细
</code></pre>
<pre><code class="language-shell"># npm 查看本地安装的包版本号
$ npm ls &lt;packageName&gt; # 本地包
$ npm ls &lt;packageName&gt; -g # 全局安装包
</code></pre>
<pre><code class="language-shell"># 查看本机 npm 缓存的位置
$ npm config get cache
# 清除 npm 缓存
$ npm cache clean -f
</code></pre>
<p>不将 node-modules 提交：安装包可能出现版本不兼容、补丁或次版缺陷的问题。</p>
<p>NPM5 引入的 package-lock.json：跟踪并固化安装包的确切版本。</p>
<p>package-lock.json 文件：integrity 校验软件包；resolved 指向包位置。</p>
<p>通过 package.json 的 <a href="https://github.com/npm/node-semver">semver</a> 表示法设置要升级的版本：</p>
<ul>
<li>版本号严格按照 &quot;主版本号.次版本号.修订号&quot; 格式命名</li>
<li>在版本改动较大且非稳定时，通常先发布一个先行版本</li>
<li>内部版本 alpha、公测版本 beta、正式版的候选 rc Release candiate</li>
</ul>
<pre><code class="language-shell">a.b.c-beta.d # 先行版本号
~a.b.c # 取最新的 c 版本号 -&gt; a、b 不变
^a.b.c # 取 b 和 c 最新版本号 -&gt; a 不变
a.b.c # 始终使用确切的版本
</code></pre>
<p>自行发布包并在修改模块后需要更新发布的版本：</p>
<ul>
<li>升级修订版本号 =&gt; npm version patch</li>
<li>升级次版本号 =&gt; npm version minor</li>
<li>升级主版本号 =&gt; npm version major</li>
</ul>
<p>NPM 从命令行、环境变量和 <code>.npmrc</code> 用户配置文件获取配置设置。</p>
<p>使用 <code>npm config</code> 相关命令可更新和编辑用户与全局 <code>.npmrc</code> 文件的内容。</p>
<pre><code class="language-shell"># 查看路径
npm config get userconfig
# 显示当前仓库源
npm config get registry
# 设置国内镜像|官方镜像
npm config set registry=https://registry.npm.taobao.org|https://registry.npmjs.org
</code></pre>
<p>NPM <a href="http://nodejs.cn/learn/where-does-npm-install-the-packages">全局模块安装路径</a>：通过 NVM 安装 Node 所带的 NPM。</p>
<p>全局安装：将 npm 包安装在对应 Node 目录下的 node_modules 文件夹中。</p>
<pre><code class="language-shell">$ npm root -g # 打印全局的位置
/Users/xieziyi/.nvm/versions/node/v16.14.2/lib/node_modules
</code></pre>
<p>yarn 会缓存下载的包，并通过并行操作提高资源的利用率。</p>
<p>通过 Homebrew 安装的 yarn 位置：</p>
<ul>
<li>x86 架构 =&gt; /usr/local/Cellar/yarn</li>
<li>arm64 架构 =&gt; /opt/homebrew/Cellar/yarn</li>
</ul>
<p>指令查看 yarn 全局安装包目录位置（适用 x86 &amp; arm64）：</p>
<pre><code class="language-shell">$ yarn global dir
/Users/xieziyi/.config/yarn/global
</code></pre>
<h3 id="bugs-%E8%A7%A3%E5%86%B3">Bugs 解决</h3>
<p>Fix the upstream dependency conflict, or retry this command with --force, or --legacy-peer-deps to accept an incorrect (and potentially broken) dependency resolution.</p>
<p>npm7- 遇到依赖冲突会忽视冲突，继续安装；npm7+ 需要手动处理。</p>
<pre><code class="language-shell">$ npm i --legacy-peer-deps
$ npm i --force
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="iterm2-config">iTerm2 Config</h2>
<h3 id="install-and-uninstall">Install and Uninstall</h3>
<p>经 <code>brew install --cask iterm2</code> 完成安装后可进行如下的基本配置：</p>
<ul>
<li>更改默认的黑白色调为彩色显示：iTerm2 -&gt; Preferences -&gt; Profiles -&gt; Terminal -&gt; Report Terminal Type -&gt; xterm-256color</li>
<li>更改颜色主题：iTerm2 -&gt; Preferences -&gt; Profiles -&gt; Colors -&gt; Color Presets -&gt; Pastel(Dark Background)</li>
</ul>
<h3 id="use-oh-my-zsh">Use oh-my-zsh</h3>
<blockquote>
<p>Oh My Zsh comes bundled with thousands of helpful functions, helpers, plugins, themes, and a few things that unleash your terminal like never before.</p>
</blockquote>
<p><a href="https://github.com/ohmyzsh/ohmyzsh">Oh My Zsh</a> 是用于管理 Zsh 配置的开源社区框架。Zsh shell 既是一个 interactive shell，又是一个 scripting language interpreter。</p>
<blockquote>
<p>Zsh is a powerful shell that operates as both an interactive shell and as a scripting language interpreter. While being compatible with the POSIX sh (not by default, only if issuing emulate sh), it offers advantages such as improved tab completion and globbing.</p>
</blockquote>
<p>macOS 自带的 Zsh 位于 <code>/bin/zsh</code>，而使用 <code>brew</code> 安裝的 Zsh 根据架构的不同可能分别位于 <code>/usr/local/bin/zsh</code> 或 <code>/opt/homebrew/bin/zsh</code>。需要获取当前 Zsh 的具体所属时可以使用 <code>which zsh</code>。</p>
<p>Zsh 会在 shell 启动时有序地加载一系列的配置文件，细节<a href="https://unix.stackexchange.com/questions/71253/what-should-shouldnt-go-in-zshenv-zshrc-zlogin-zprofile-zlogout">点此</a>。</p>
<blockquote>
<p>For mac users running ZSH, the ~/. zshrc file is evaluated every time a shell is launched. The ~/. zprofile file is only evaluated when you login to your mac user account. The .zprofile should be used for any commands and variables which need to be set once or which don't need to be updated frequently.</p>
</blockquote>
<blockquote>
<p>Order of reading startup files in zsh: .zshenv → .zprofile → .zshrc → .zlogin</p>
</blockquote>
<blockquote>
<p>Order of reading startup files in bash: /etc/profile → .bash_profile → .bash_login → .profile</p>
</blockquote>
<div style="display:flex; align-items:center; flex-direction: column;"><img width="60%" alt="BashStartupFiles" title="BashStartupFiles" src="https://res.cloudinary.com/dzb9ldnvl/image/upload/v1677522540/Ghost/zsmacconfig/BashStartupFiles_tqjrr4.png"><a href="http://www.solipsys.co.uk/new/BashInitialisationFiles.html">By Bash Initialisation Files</a></div>
<table>
<thead>
<tr>
<th style="text-align:center">all users</th>
<th style="text-align:center">user</th>
<th style="text-align:center">login shell</th>
<th style="text-align:center">interactive shell</th>
<th style="text-align:center">scripts</th>
<th style="text-align:center">Terminal.app</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/etc/zshenv</td>
<td style="text-align:center">.zshenv</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
<td style="text-align:center">√</td>
</tr>
<tr>
<td style="text-align:center">/etc/zprofile</td>
<td style="text-align:center">.zprofile</td>
<td style="text-align:center">√</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
</tr>
<tr>
<td style="text-align:center">/etc/zshrc</td>
<td style="text-align:center">.zshrc</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
</tr>
<tr>
<td style="text-align:center">/etc/zlogin</td>
<td style="text-align:center">.zlogin</td>
<td style="text-align:center">√</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
</tr>
<tr>
<td style="text-align:center">/etc/zlogout</td>
<td style="text-align:center">.zlogout</td>
<td style="text-align:center">√</td>
<td style="text-align:center">x</td>
<td style="text-align:center">x</td>
<td style="text-align:center">√</td>
</tr>
</tbody>
</table>
<p>在执行<a href="https://github.com/ohmyzsh/ohmyzsh/wiki">安装脚本</a>后会自动新建 <code>~/.oh-my-zsh</code> 目录，原本存储在 <code>~/.zshrc</code> 中的设置都会被统一的迁移到文件 <code>.zshrc.pre-oh-my-zsh</code> 中。</p>
<p>执行 <code>brew uninstall --cask iterm2</code> 不足以完全卸载 iTerm2 的历史残留。</p>
<blockquote>
<p>iTerm2 settings storage location: Preferences, including profiles, are stored in <code>~/Library/Preferences/com.googlecode.iterm2.plist</code>. To modify it, use the &quot;defaults&quot; command. <a href="https://iterm2.com/faq.html">FAQ</a> <a href="https://stackoverflow.com/questions/32483710/how-to-uninstall-iterm2">SOF</a></p>
</blockquote>
<pre><code class="language-shell">defaults delete com.googlecode.iterm2
</code></pre>
<h3 id="use-powerlevel10k">Use Powerlevel10k</h3>
<p>Zsh 主题 <a href="https://github.com/romkatv/powerlevel10k">Powerlevel10k</a> 配合 Oh My Zsh 时需要注意存放位置的问题。Oh My Zsh 中第三方主题的存放路径是 <code>~/.oh-my-zsh/custom/themes</code> 而非 Standard 主题目录 <code>~/.oh-my-zsh/themes</code>。</p>
<pre><code class="language-shell"># 推荐
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
</code></pre>
<p>安装完成后要将 <code>ZSH_THEME</code> 的值设置为 <code>&quot;powerlevel10k/powerlevel10k&quot;</code>。</p>
<p>此外也可以通过 Homebrew 来安装 Powerlevel10k，在 ARM 架构下的 <code>$(brew --prefix)</code> 值是 <code>/opt/homebrew</code>。</p>
<p>配置向导 Configuration Wizard 启动时会先检测当前的设备是否有安装字体 Meslo Nerd Font，在设备未安装的情况下会进行安装询问。</p>
<blockquote>
<p>On the first run, Powerlevel10k configuration wizard will ask you a few questions and configure your prompt. If it doesn't trigger automatically, type <code>p10k configure</code>. Configuration wizard creates <code>~/.p10k.zsh</code> based on your preferences. 需要重新设置时也可以使用 <code>p10k configure</code> 命令。</p>
</blockquote>
<h3 id="use-plugins">Use Plugins</h3>
<p>插件主推自动提示 <a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a> 与语法高亮 <a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a>。</p>
<pre><code class="language-shell"># zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-autosuggestions.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
</code></pre>
<pre><code class="language-shell"># zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
</code></pre>
<p>Oh My Zsh 插件同样也需要注意 Standard 与 Custom 存放目录的区别。安装完成后在 <code>~/.zshrc</code> 中更新 <code>plugins</code> 的值。</p>
<pre><code class="language-shell">Plugins plugins=(git zsh-autosuggestions zsh-syntax-highlighting)
</code></pre>
<h3 id="operation-guide">Operation Guide</h3>
<p>在 iTerm2 中，可以使用以下命令进行分屏：</p>
<ul>
<li>垂直分屏：Cmd + D</li>
<li>水平分屏：Cmd + Shift + D</li>
<li>切换到上一个分屏：Cmd + Option + ←</li>
<li>切换到下一个分屏：Cmd + Option + →</li>
<li>关闭当前分屏：Cmd + W</li>
</ul>
<p>上述这些快捷键可以在 iTerm2 的 Preferences 偏好设置中进行自定义配置。</p>
<p>在 iTerm2 中，使用 Cmd + T 可以打开一个新的标签页。不同标签页的切换可以使用以下快捷键：</p>
<ul>
<li>Cmd + 数字：切换到对应标签页</li>
<li>Cmd + ←：切换到左边的标签页</li>
<li>Cmd + →：切换到右边的标签页</li>
<li>Cmd + Shift + ←：将当前标签页向左移动</li>
<li>Cmd + Shift + →：将当前标签页向右移动</li>
</ul>
<h3 id="iterm2-bug-fixes">iTerm2 Bug Fixes</h3>
<p>issues-01 =&gt; 开启终端出现提示 &quot;insecure directories&quot;</p>
<pre><code class="language-shell">zsh compinit: insecure directories, run compaudit for list. Ignore insecure directories and continue [y] or abort compinit [n]?
</code></pre>
<p>解决方式是通过列出不安全的目录后，将对应的目录赋与权限。</p>
<pre><code class="language-shell">$ compaudit # 列出不安全目录
/usr/local/share/zsh
$ cd /usr/local/share/
$ sudo chmod -R 755 ./zsh # 对应的目录赋与权限
</code></pre>
<p><a href="https://github.com/romkatv/powerlevel10k/issues/1023">issues-02</a> =&gt; [WARNING]: Console output during zsh initialization detected</p>
<p>可于 p10k configure 或手动抑制此警告定义，需要在 ~./zshrc 中定义参数变量。</p>
<pre><code class="language-shell">typeset -g POWERLEVEL9K_INSTANT_PROMPT=quiet
</code></pre>
<pre><code class="language-shell">$ echo $POWERLEVEL9K_INSTANT_PROMPT
</code></pre>
<p><a href="https://stackoverflow.com/questions/33486633/upgrading-oh-my-zsh-gives-me-not-a-git-repository-error">issues-03</a> =&gt; [oh-my-zsh] Can't update: not a git repository</p>
<pre><code class="language-shell"># SOF STEPS
$ cd ~/.oh-my-zsh
$ git init # you've already done this step, so you can skip
$ git remote add origin https://github.com/robbyrussell/oh-my-zsh.git
$ git fetch
$ git reset --hard origin/master
</code></pre>
<pre><code class="language-shell"># MY SOLUTION
$ cd ~/.oh-my-zsh
$ git init
$ sudo xcodebuild -license
</code></pre>
<p><a href="https://github.com/romkatv/powerlevel10k#extra-or-missing-spaces-in-prompt-compared-to-powerlevel9k">issues-04</a> =&gt; One char gap between terminal edge and right prompt</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="neovim">Neovim</h2>
<h3 id="env-config">Env Config</h3>
<p>经 Homebrew 下载的 Neovim 会额外安装如下的依赖：</p>
<ul>
<li>x86 架构的安装目录：<code>/usr/local/Cellar/</code></li>
<li>arm 架构的安装目录：<code>/opt/homebrew/Cellar</code></li>
</ul>
<pre><code class="language-shell">Installing dependencies for neovim: unibilium, libtermkey, libvterm, luajit, luv, msgpack and tree-sitter
</code></pre>
<p>不同架构时，文件 <code>~/.zshrc</code> 中 Neovim 的配置如下。</p>
<pre><code class="language-shell"># x86
export PATH=&quot;/usr/local/opt/luajit-openresty/bin:$PATH&quot;
export LDFLAGS=&quot;-L/usr/local/opt/luajit-openresty/lib&quot;
export CPPFLAGS=&quot;-I/usr/local/opt/luajit-openresty/include&quot;
[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion
export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm
export PATH=&quot;/usr/local/sbin:$PATH&quot;
</code></pre>
<pre><code class="language-shell"># arm64
export PATH=&quot;/opt/homebrew/Cellar/luajit//2.1.0-beta3-20230104.2/bin:$PATH&quot;
export LDFLAGS=&quot;-L/opt/homebrew/Cellar/luajit/2.1.0-beta3-20230104.2/lib&quot;
export CPPFLAGS=&quot;-I/opt/homebrew/Cellar/luajit/2.1.0-beta3-20230104.2/include&quot;
[ -s &quot;$NVM_DIR/bash_completion&quot; ] &amp;&amp; \. &quot;$NVM_DIR/bash_completion&quot;  # This loads nvm bash_completion
export NVM_DIR=&quot;$HOME/.nvm&quot;
[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm
export PATH=&quot;/usr/local/sbin:$PATH&quot;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="bugs-handling">Bugs Handling</h2>
<h3 id="mac-bugs">Mac Bugs</h3>
<p>issues-01 =&gt; 打开 txt 文件出现中文乱码</p>
<p>进入 TextEdit 的 Preferences 面板，点击 Open and Save 页签，在 Plain Text File Encoding 内的 Opening files 选择 Chinese GB 18030，乱码问题即可解决。</p>
<p>issues-02 =&gt; 中文编码的 txt 文件打不开</p>
<p>&quot;The document “.txt” could not be opened. Text encoding Chinese (GB 18030) isn’t applicable.&quot;</p>
<ul>
<li>对于内容较少的可以拖入浏览器，依靠其自动识别编码打开</li>
<li><code>iconv -c -f GB18030 -t UTF-8 [INPUTFILE...] &gt;&gt; [新文件名称]</code></li>
</ul>
<p>issues-03 =&gt; 按键失灵</p>
<p>esc 失效，此时有外接键盘。失效应先进行<a href="https://www.onlinemictest.com/zh/keyboard-test/">键盘测试</a>。重启服务即可。</p>
<p>issues-04 =&gt; Allow apps downloaded from</p>
<blockquote>
<p>Gatekeeper 是 macOS 操作系统中的一项安全功能。它会强制执行代码签名并在下载的应用程序运行前进行验证，从而降低无意中执行恶意软件的可能性。</p>
</blockquote>
<blockquote>
<p>Allows all applications to be launched. This effectively turns Gatekeeper off.</p>
</blockquote>
<blockquote>
<p>This option can be re-enabled by using the 'sudo spctl --master-disable' command from the Terminal and authenticating with an admin password.</p>
</blockquote>
<pre><code class="language-shell">$ sudo spctl --master-disable
$ sudo spctl --global-disable # 新版本
</code></pre>
<p>issues-05 =&gt; screen recording no voice</p>
<p>可以参考此条 <a href="https://www.youtube.com/watch?v=FKDGwwOqUsk">Youtube</a>，下载 soundflower，但是通过 homebrew 不能成功安装。</p>
<pre><code class="language-shell">Error: Failure while executing; `/usr/bin/sudo -E -- /usr/bin/env LOGNAME=xxx USER=xxx USERNAME=xxx /usr/sbin/installer -pkg /opt/homebrew/Caskroom/soundflower/2.0b2/Soundflower.pkg -target /` exited with 1. Here's the output:
installer: Package name is Soundflower
installer: Installing at base path /
installer: The install failed. (The Installer encountered an error that caused the installation to fail. Contact the software manufacturer for assistance. An error occurred while running scripts from the package “Soundflower.pkg”.)
</code></pre>
<p>issues-06 =&gt; Mac 外放没有声音</p>
<p>mbp 被迫喝咖啡后存在渗入腐蚀风险，在完成硬件清理后发现无法外放声音。</p>
<p>通过蓝牙连接以及 3.5mm 耳机测试还是存在声音，排除硬件模组受损。但是对于有线耳机会存在电流声，通过查阅相关的问题，主要可能是系统更新所导致。</p>
<blockquote>
<p>=&gt; <a href="https://support.apple.com/zh-hk/HT203186">如果 Mac 內置喇叭無法正常運作</a><br>
从 Apple 选单  中，选择「系统偏好设定」。按一下「声音」。按一下「输出」分页，然后选择内置喇叭。如果「输出」音量滑杆设定过低，请将滑杆向右移，然后再测试一次。如有勾选「静音」选框，请取消勾选，然后再测试一次。</p>
</blockquote>
<p>issues-07 =&gt; Caps Lock 更改语言</p>
<ul>
<li>System Preferences -&gt; Keyboard -&gt; 勾选 Use the Caps Lock key to switch to and from US. press and hold to enable typing in all uppercase.</li>
<li>System Preferences -&gt; Keyboard -&gt; Modifier Keys -&gt; 有 Caps Lock 动作</li>
</ul>
<p>issues-08 =&gt; 显示隐藏文件</p>
<ul>
<li>通知 finder 显示所有文件并重启 finder</li>
</ul>
<pre><code class="language-shell">defaults write com.apple.Finder AppleShowAllFiles true &amp;&amp; killall Finder
</code></pre>
<ul>
<li>通知 finder 隐藏所有文件并重启 finder</li>
</ul>
<pre><code class="language-shell">defaults write com.apple.Finder AppleShowAllFiles false &amp;&amp; killall Finder
</code></pre>
<h3 id="code-error">Code Error</h3>
<p>issues-01 =&gt; 进行 Homebrew 更新时，出现错误阻止了更新</p>
<pre><code class="language-shell">shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
</code></pre>
<p><code>getcwd</code> 全称是 get current working directory。</p>
<p>出现此错误的原因通常是无法定位到当前的工作目录，即系统隐藏文件内概率不能定位路径操作。</p>
<h3 id="terminal-bugs">Terminal Bugs</h3>
<p>issues-01 =&gt; Set Terminal Title</p>
<p>2 ways for changing zsh auto titles to hide user and host:</p>
<ol>
<li>在 <code>~/.zshrc</code> 中禁用自动生成 title，且 <code>echo</code> 指定标题 =&gt; <a href="https://superuser.com/questions/105499/change-terminal-title-in-mac-os-x">相关</a></li>
<li>未使用：改变 ZSH THEME 的 <code>ZSH_THEME_TERM_TITLE_IDLE</code> =&gt; <a href="https://superuser.com/questions/1242884/change-zsh-auto-titles-to-hide-user-and-host">相关</a></li>
</ol>
<pre><code class="language-shell">DISABLE_AUTO_TITLE=&quot;true&quot;
TERMINAL_TITLE=&quot;zairesinatra&quot;
echo -n -e &quot;\033];$TERMINAL_TITLE\007&quot;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">结束</h2>
<p>本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>协议，转载请注明出处！</p>
<!--kg-card-end: markdown-->
    </section>

    <section class="article-comments gh-canvas">
        
        <div id="gitalk-container"></div>
    </section>

</article>
</main>

    <section class="footer-cta outer">
        <div class="inner">
            <h2 class="footer-cta-title">Sign up for more like this.</h2>
            <a class="footer-cta-button" href="index.html#/portal" data-portal>
                <div class="footer-cta-input">Enter your email</div>
                <span>Subscribe</span>
            </a>
        </div>
    </section>



            <aside class="read-more-wrap outer">
                <div class="read-more inner">
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../vim-neovim/index.html">

        <img class="post-card-image"
            srcset="../content/images/size/w1000/2023/03/ScenicViewOfBeachDuringDaytime.jpg 1000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="../content/images/size/w600/2023/03/ScenicViewOfBeachDuringDaytime.jpg"
            alt="Scenic View Of Beach During Daytime"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../vim-neovim/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Vim &amp; Neovim
                </h2>
            </header>
                <div class="post-card-excerpt">Vim ninjas count every keystroke!</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2022-12-12">Dec 12, 2022</time>
                <span class="post-card-meta-length">19 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../design-patterns/index.html">

        <img class="post-card-image"
            srcset="../content/images/size/w1000/2023/03/SixHalogenBulbs.jpg 1000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="../content/images/size/w600/2023/03/SixHalogenBulbs.jpg"
            alt="Six Halogen Bulbs"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../design-patterns/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Design Patterns And ...
                </h2>
            </header>
                <div class="post-card-excerpt">"A good programmer is someone who always looks both ways before crossing a one-way street." - Doug Linder</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2022-08-08">Aug 8, 2022</time>
                <span class="post-card-meta-length">35 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../g-toc-css/index.html">

        <img class="post-card-image"
            srcset="../content/images/size/w1000/2023/03/GlassBottleFilledWithBlackStrawonBrownWoodenTable.jpg 1000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="../content/images/size/w600/2023/03/GlassBottleFilledWithBlackStrawonBrownWoodenTable.jpg"
            alt="Glass Bottle Filled With Black Straw on Brown Wooden Table"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../g-toc-css/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    G&amp;TOC&amp;CSS
                </h2>
            </header>
                <div class="post-card-excerpt">TOC 的需求实现以及相关的思考总结。</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2022-05-01">May 1, 2022</time>
                <span class="post-card-meta-length">6 min read</span>
        </footer>

    </div>

</article>
                </div>
            </aside>



    </div>
    <div class="algoliawrapper"><div id="autocomplete"></div></div>
    <div class="arrowup">
      <svg
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        width="20px"
        height="20px"
        viewBox="0 0 122.883 122.882"
        enable-background="new 0 0 20 20"
        xml:space="preserve"
      >
        <g>
          <path
            d="M0,61.441L0,61.441h0.018c0,16.976,6.872,32.335,17.98,43.443c11.108,11.107,26.467,17.979,43.441,17.979v0.018h0.001 h0.001v-0.018c16.974,0,32.335-6.872,43.443-17.98s17.98-26.467,17.98-43.441h0.018v-0.001V61.44h-0.018 c0-16.975-6.873-32.334-17.98-43.443C93.775,6.89,78.418,0.018,61.443,0.018V0h-0.002l0,0v0.018 c-16.975,0-32.335,6.872-43.443,17.98C6.89,29.106,0.018,44.465,0.018,61.439H0V61.441L0,61.441z M42.48,71.7 c-1.962,1.908-5.101,1.865-7.009-0.098c-1.909-1.962-1.865-5.101,0.097-7.009l22.521-21.839l3.456,3.553l-3.46-3.569 c1.971-1.911,5.117-1.862,7.029,0.108c0.055,0.058,0.109,0.115,0.16,0.175L87.33,64.594c1.963,1.908,2.006,5.047,0.098,7.009 c-1.908,1.963-5.047,2.006-7.01,0.098L61.53,53.227L42.48,71.7L42.48,71.7z"
          />
        </g>
      </svg>
    </div>
    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="../index.html">zairesinatra</a> &copy; 2023</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>
</div>


<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="../assets/built/casper.js%3Fv=7d64696598"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js"></script>
<script>
  tocbot.init({
    tocSelector: '.toc',
    contentSelector: '.gh-content',
    hasInnerContainers: true
  });
  var tc = document.querySelector(".toc-container");
  if(tc){
    var tch = tc.clientHeight;
    var ah = document.querySelector(".article-header");
    var ahh = ah.clientHeight;
    window.addEventListener("scroll", function () {
    if(document.body.clientWidth > 1170){
      var scrollY = document.documentElement.scrollTop || document.body.scrollTop;
      var ihh = window.innerHeight;
      if(scrollY >= ihh + tch + ahh){
        var ctc = document.querySelector(".toc-container");
        ctc.style.position="sticky";
        ctc.style.position="-webkit-sticky";
        ctc.style.top = "120px";
        ctc.style.marginLeft = "800px";
        ctc.style.minWidth= "260px";
      }
      if(scrollY < tch + ahh -10){
        var ctc = document.querySelector(".toc-container");
        ctc.style.position="";
        ctc.style.top = "";
        ctc.style.marginLeft = "";
      }
    }})
  }
</script>
<script>
  function searchFunc(){
    let autocomplete = document.querySelector("#autocomplete");
    let algoliaouterwrapper = document.querySelector(".algoliaouterwrapper");
    // console.log(algoliaouterwrapper,autocomplete);
    autocomplete.parentNode.removeChild(autocomplete);
    algoliaouterwrapper.appendChild(autocomplete);
    autocomplete.style.marginTop = "50px";
    algoliaouterwrapper.style.background = '#F5F5FA';
    algoliaouterwrapper.style.display = "block";
    algoliaouterwrapper.style.zIndex = 99999;
    autocomplete.addEventListener('click', function(event) {
      event.stopPropagation();
    });
  }
  function outerwrapperFunc(event){
    event.stopPropagation();
    let autocomplete = document.querySelector("#autocomplete");
    let algoliawrapper = document.querySelector(".algoliawrapper");
    let algoliaouterwrapper = document.querySelector(".algoliaouterwrapper");
    autocomplete.parentNode.removeChild(autocomplete);
    algoliawrapper.appendChild(autocomplete);
    algoliaouterwrapper.style.background = '';
    algoliaouterwrapper.style.display = "none";
    algoliaouterwrapper.style.zIndex = 0;
    autocomplete.removeEventListener('click', function(event) {
      event.stopPropagation();
    });
  }
  function searchFuncMobile (){
    let mobileTrigger = document.querySelector(".aa-DetachedSearchButton");
    mobileTrigger.click();
  }
</script>

<!-- searchinghost-easy -->
<script src="https://cdn.jsdelivr.net/gh/gmfmi/searchinghost-easy@latest/dist/searchinghost-easy-basic.js"></script>
<script>
    new SearchinGhostEasy({
        contentApiKey: 'e93d8b3520ae46be52c9a4b140'
    });
</script>

<script>
    let currentTheme = localStorage.getItem("theme-color");
    const switchTheme = function () {
        const storedTheme = localStorage.getItem("theme-color") || "theme-light";
        if (
            storedTheme === "theme-dark" &&
            document.getElementsByTagName("html")[0].className !== ""
        ) {
            localStorage.setItem("theme-color", "theme-light");
            currentTheme = localStorage.getItem("theme-color");
            if (currentTheme === "theme-light") {
            document.getElementsByTagName("html")[0].classList.remove("dark-mode");
            document
                .getElementsByClassName("theme-switcher")[0]
                ?.classList.remove("active");
            document
                .getElementsByClassName("toc")[0]
                ?.classList.remove("active");
            }
        } else {
            localStorage.setItem("theme-color", "theme-dark");
            currentTheme = localStorage.getItem("theme-color");
            if (currentTheme === "theme-dark") {
            // console.log(document.getElementById("app"));
            document.getElementsByTagName("html")[0].classList.add("dark-mode");
            document
                .getElementsByClassName("theme-switcher")[0]
                ?.classList.add("active");
            document
                .getElementsByClassName("toc")[0]
                ?.classList.add("active");
            }
        }
    };
    const initTheme = function () {
    const storedTheme = localStorage.getItem("theme-color") || "theme-light";
    if (storedTheme === "theme-dark") {
        document
        .getElementsByClassName("theme-switcher")[0]
        ?.classList.add("active");
        document
        .getElementsByClassName("toc")[0]
        ?.classList.add("active");
        document.getElementsByTagName("html")[0].classList.add("dark-mode");
    }
    };
    initTheme()
</script>

<!-- Arrow up -->
<script>
const arrowup = document.querySelector(".arrowup");
arrowup.addEventListener("click", function() {
  const scrollDuration = 1500; // 滚动持续时间，单位毫秒
    const start = window.pageYOffset; // 当前滚动位置
    const end = 0; // 滚动结束位置
    const distance = end - start; // 滚动距离
    const startTime = performance.now(); // 动画开始时间

    function easeInOutCubic(t) {
      return t < 0.5
        ? 4 * t ** 3
        : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
    }

    function scrollToTopSmooth(timestamp) {
      const currentTime = timestamp - startTime; // 已经经过的时间
      const progress = currentTime / scrollDuration; // 滚动进度
      const position =
        start + distance * easeInOutCubic(Math.min(progress, 1)); // 当前滚动位置
      window.scrollTo(0, position); // 滚动到新位置

      if (currentTime < scrollDuration) {
        // 如果滚动还未结束，则继续执行动画
        requestAnimationFrame(scrollToTopSmooth);
      }
    }

    requestAnimationFrame(scrollToTopSmooth);
});
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
	if(window.document.getElementById("gitalk-container")){
    	const gitalk = new Gitalk({
		clientID: 'c32453e6d8bba943ee3a',
		clientSecret: '6ab6efd6f8d3c3f099466e708074a4ae289a13e4',
		repo: 'gittalk-comments',      // The repository of store comments,
		owner: 'Zairesinatra',
		admin: ['Zairesinatra'],
		id: location.pathname,      // Ensure uniqueness and length less than 50
  		distractionFreeMode: false  // Facebook-like distraction free mode
	})
	gitalk.render('gitalk-container')
    }
</script>
<style>
.gt-container .gt-svg {
    display: none;
}
</style>

<!-- Algolia -->
<!-- 在 HTML 文件中引入 Algolia 的库文件 -->
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-theme-classic"/>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.16.0/dist/algoliasearch.umd.min.js"></script>
<style>
.algoliawrapper	{
       margin-top:6rem;
    }
    .imgwrapper{
    	width: 5rem;
    }
    .algoliaouterwrapper{
    	position: absolute;
        top:0;
        left:0;
        right:0;
        bottom:0;
        display:none;
        z-index:0;
        height: 100%;
  		width: 100%;
    }
    .aa-Panel{
    	z-index:99999;
    }
    .algoliaouterwrapper i {
    	cursor: pointer;
    }
    .algoliaouterwrapper i svg {
    	width: 4rem;
        height: 4rem;
        position: absolute;
        right: 25px;
        top: 52px
    }
    .showwrapper{
    	display: flex;
        justify-content: space-between;
        align-items: center;
        direction: column;
    }
    #autocomplete{
        left: 50%;
        transform: translate(50%,0);
    	width: 50%;
    }
</style>
<script>
  const searchClient = algoliasearch('7PTB3E687I', '5d5c91cb3df27338c1b1ca5cd935338d');
  const { autocomplete, getAlgoliaResults } = window['@algolia/autocomplete-js'];
	function insertStr (str, index, insertStr) {
		const ary = str.split('');		// 转化为数组
		ary.splice(index, 0, insertStr);	// 使用数组方法插入字符串
		return ary.join('');				// 拼接成字符串后输出
	}
    let teststr = insertStr("https://zairesinatra.github.io/content/images/2023/03/ScenicViewOfBeachDuringDaytime.jpg",46,'size/w1000/')
    // insertStr(item.image,46,'size/w1000/')
    // console.log(teststr.substring(0,teststr.length-1));
    console.log(teststr)
  autocomplete({
    container: '#autocomplete',
    placeholder: 'Search for posts',
    displayKey: 'text',
  	getSources({ query }) {
    	return [
      {
        getItems() {
          return getAlgoliaResults({
            searchClient,
            queries: [
              {
                indexName: 'GithubIoIndex',
                query,
                params: {
                  hitsPerPage: 5,
                  snippetEllipsisText: '…',
                },
              },
            ],
          });
        },
        templates: {
          item({ item, html }) {
        	// return  html`<div><a href="https://zairesinatra.github.io//zsmacconfig/${item.url}"><div class="showwrapper"><div>${item.title}</div><div class="imgwrapper"><img src="https://zairesinatra.github.io//zsmacconfig/${item.image}/"></div></div></a></div>`;
          	return  html`<div><a href="https://zairesinatra.github.io//zsmacconfig/${(item.url).substring(31,)}"><div class="showwrapper"><div>${item.title}</div><div class="imgwrapper"></div></div></a></div>`;
          },
          noResults(){
            return 'No Results';
          }
        },
      },
    ]
  }
});
</script>

</body>
</html>
