<!DOCTYPE html>
<html ⚡>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <title>TypeScript</title>

    <meta name="description" content="微软于 2012 年推出的 TS 是 JS 的超集，支持 ECMAScript6 标准" />
    <link rel="icon" href="../../content/images/size/w256h256/2021/07/ghost-orb.png" type="image/png" />
    <link rel="canonical" href="../index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="zairesinatra" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="TypeScript" />
    <meta property="og:description" content="微软于 2012 年推出的 TS 是 JS 的超集，支持 ECMAScript6 标准" />
    <meta property="og:url" content="yourdomain.com/typescript/" />
    <meta property="og:image" content="yourdomain.com/content/images/2022/07/typescript.png" />
    <meta property="article:published_time" content="2020-05-01T14:56:00.000Z" />
    <meta property="article:modified_time" content="2022-12-17T12:34:48.000Z" />
    <meta property="article:tag" content="Technology growth" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="TypeScript" />
    <meta name="twitter:description" content="微软于 2012 年推出的 TS 是 JS 的超集，支持 ECMAScript6 标准" />
    <meta name="twitter:url" content="yourdomain.com/typescript/" />
    <meta name="twitter:image" content="yourdomain.com/content/images/2022/07/typescript.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Ziyi Xie" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Technology growth" />
    <meta name="twitter:site" content="@xieziyi0422" />
    <meta property="og:image:width" content="1920" />
    <meta property="og:image:height" content="1080" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "zairesinatra",
        "url": "yourdomain.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "yourdomain.com/content/images/2021/07/zs-1.JPG",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Ziyi Xie",
        "image": {
            "@type": "ImageObject",
            "url": "yourdomain.com/content/images/2021/07/zs-2.JPG",
            "width": 1079,
            "height": 1079
        },
        "url": "yourdomain.com/author/ziyi/",
        "sameAs": []
    },
    "headline": "TypeScript",
    "url": "yourdomain.com/typescript/",
    "datePublished": "2020-05-01T14:56:00.000Z",
    "dateModified": "2022-12-17T12:34:48.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "yourdomain.com/content/images/2022/07/typescript.png",
        "width": 1920,
        "height": 1080
    },
    "keywords": "Technology growth",
    "description": "微软于 2012 年推出的 TS 是 JS 的超集，支持 ECMAScript6 标准",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "yourdomain.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 5.25" />
    <link rel="alternate" type="application/rss+xml" title="zairesinatra" href="../../rss/index.html" />

    <style amp-custom>
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    html {
        overflow-x: hidden;
        overflow-y: scroll;
        font-size: 62.5%;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body {
        min-height: 100vh;
        margin: 0;
        padding: 0;
        color: #3a4145;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        font-size: 1.7rem;
        line-height: 1.55em;
        font-weight: 400;
        font-style: normal;
        background: #fff;
        scroll-behavior: smooth;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    p,
    ul,
    ol,
    li,
    dl,
    dd,
    hr,
    pre,
    form,
    table,
    video,
    figure,
    figcaption,
    blockquote {
        margin: 0;
        padding: 0;
    }

    ul[class],
    ol[class] {
        padding: 0;
        list-style: none;
    }

    img {
        display: block;
        max-width: 100%;
    }

    input,
    button,
    select,
    textarea {
        font: inherit;
        -webkit-appearance: none;
    }

    fieldset {
        margin: 0;
        padding: 0;
        border: 0;
    }

    label {
        display: block;
        font-size: 0.9em;
        font-weight: 700;
    }

    hr {
        position: relative;
        display: block;
        width: 100%;
        height: 1px;
        border: 0;
        border-top: 1px solid currentcolor;
        opacity: 0.1;
    }

    ::selection {
        text-shadow: none;
        background: #cbeafb;
    }

    mark {
        background-color: #fdffb6;
    }

    small {
        font-size: 80%;
    }

    sub,
    sup {
        position: relative;
        font-size: 75%;
        line-height: 0;
        vertical-align: baseline;
    }
    sup {
        top: -0.5em;
    }
    sub {
        bottom: -0.25em;
    }

    ul li + li {
        margin-top: 0.6em;
    }

    a {
        color: var(--ghost-accent-color, #1292EE);
        text-decoration-skip-ink: auto;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin: 0;
        font-weight: 700;
        color: #121212;
        line-height: 1.4em;
    }

    h1 {
        font-size: 3.4rem;
        line-height: 1.1em;
    }

    h2 {
        font-size: 2.4rem;
        line-height: 1.2em;
    }

    h3 {
        font-size: 1.8rem;
    }

    h4 {
        font-size: 1.7rem;
    }

    h5 {
        font-size: 1.6rem;
    }

    h6 {
        font-size: 1.6rem;
    }

    amp-img {
        height: 100%;
        width: 100%;
        max-width: 100%;
        max-height: 100%;
    }

    amp-img img {
        object-fit: cover;
    }
    
    amp-youtube {
        height: calc(100vw / 1.78);
        width: 100vw;
        position: relative;
    }

    amp-youtube img {
        position: absolute;
    }

    .page-header {
        padding: 50px 5vmin 30px;
        text-align: center;
        font-size: 2rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .page-header a {
        color: #121212;
        font-weight: 700;
        text-decoration: none;
        font-size: 1.6rem;
        letter-spacing: -0.1px;
    }

    .post {
        max-width: 680px;
        margin: 0 auto;
    }

    .post-header {
        margin: 0 5vmin 5vmin;
        text-align: center;
    }

    .post-meta {
        margin: 1rem 0 0 0;
        text-transform: uppercase;
        color: #738a94;
        font-weight: 500;
        font-size: 1.3rem;
    }

    .post-image {
        margin: 0 0 5vmin;
    }

    .post-image img {
        display: block;
        width: 100%;
        height: auto;
    }

    .post-content {
        padding: 0 5vmin;
    }

    .post-content > * + * {
        margin-top: 1.5em;
    }

    .post-content [id]:not(:first-child) {
        margin: 2em 0 0;
    }

    .post-content > [id] + * {
        margin-top: 1rem;
    }

    .post-content [id] + .kg-card,
    .post-content blockquote + .kg-card {
        margin-top: 40px;
    }

    .post-content > ul,
    .post-content > ol,
    .post-content > dl {
        padding-left: 1.9em;
    }

    .post-content hr {
        margin-top: 40px;
    }

    .post .post-content hr + * {
        margin-top: 40px;
    }

    .post-content amp-img {
        background-color: #f8f8f8;
    }

    .post-content blockquote {
        position: relative;
        font-style: italic;
    }

    .post-content blockquote::before {
        content: "";
        position: absolute;
        left: -1.5em;
        top: 0;
        bottom: 0;
        width: 0.3rem;
        background: var(--ghost-accent-color, #1292EE);
    }

    .post-content blockquote.kg-blockquote-alt {
        font-size: 1.2em;
        font-style: italic;
        line-height: 1.6em;
        text-align: center;
        color: #738a94;
        padding: 0.75em 3em 1.25em;
    }

    .post-content blockquote.kg-blockquote-alt::before {
        display: none;
    }

    .post-content :not(.kg-card):not([id]) + .kg-card {
        margin-top: 40px;
    }

    .post-content .kg-card + :not(.kg-card) {
        margin-top: 40px;
    }

    .kg-card figcaption {
        padding: 1.5rem 1.5rem 0;
        text-align: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.4em;
        opacity: 0.6;
    }

    .kg-card figcaption strong {
        color: rgba(0,0,0,0.8);
    }

    .post-content :not(pre) code {
        vertical-align: middle;
        padding: 0.15em 0.4em 0.15em;
        border: #e1eaef 1px solid;
        font-weight: 400;
        font-size: 0.9em;
        line-height: 1em;
        color: #15171a;
        background: #f0f6f9;
        border-radius: 0.25em;
    }

    .post-content > pre {
        overflow: scroll;
        padding: 16px 20px;
        color: #fff;
        background: #1F2428;
        border-radius: 5px;
        box-shadow: 0 2px 6px -2px rgba(0,0,0,.1), 0 0 1px rgba(0,0,0,.4);
    }

    .kg-embed-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }

    .kg-image-card img {
        margin: auto;
    }

    .kg-gallery-card + .kg-gallery-card {
        margin-top: 0.75em;
    }

    .kg-gallery-container {
        position: relative;
    }

    .kg-gallery-row {
        display: flex;
        flex-direction: row;
        justify-content: center;
    }

    .kg-gallery-image {
        width: 100%;
        height: 100%;
    }

    .kg-gallery-row:not(:first-of-type) {
        margin: 0.75em 0 0 0;
    }

    .kg-gallery-image:not(:first-of-type) {
        margin: 0 0 0 0.75em;
    }

    .kg-bookmark-card,
    .kg-bookmark-publisher {
        position: relative;
    }

    .kg-bookmark-container,
    .kg-bookmark-container:hover {
        display: flex;
        flex-wrap: wrap;
        flex-direction: row-reverse;
        color: currentColor;
        background: rgba(255,255,255,0.6);
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        text-decoration: none;
        border-radius: 3px;
        box-shadow: 0 2px 6px -2px rgba(0, 0, 0, 0.1), 0 0 1px rgba(0, 0, 0, 0.4);
        overflow: hidden;
    }

    .kg-bookmark-content {
        flex-basis: 0;
        flex-grow: 999;
        padding: 20px;
        order: 1;
    }

    .kg-bookmark-title {
        font-weight: 600;
        font-size: 1.5rem;
        line-height: 1.3em;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        max-height: 45px;
        margin: 0.5em 0 0 0;
        font-size: 1.4rem;
        line-height: 1.55em;
        overflow: hidden;
        opacity: 0.8;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .kg-bookmark-metadata {
        margin-top: 20px;
    }

    .kg-bookmark-metadata {
        display: flex;
        align-items: center;
        font-weight: 500;
        font-size: 1.3rem;
        line-height: 1.3em;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .kg-bookmark-description {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
    }

    .kg-bookmark-metadata amp-img {
        width: 18px;
        height: 18px;
        max-width: 18px;
        max-height: 18px;
        margin-right: 10px;
    }

    .kg-bookmark-thumbnail {
        display: flex;
        flex-basis: 20rem;
        flex-grow: 1;
        justify-content: flex-end;
    }

    .kg-bookmark-thumbnail amp-img {
        max-height: 200px;
    }

    .kg-bookmark-author {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .kg-bookmark-publisher::before {
        content: "•";
        margin: 0 .5em;
    }

    .kg-toggle-card-icon {
        display: none;
    }

    .kg-toggle-content {
        margin-top: 0.8rem;
    }

    .kg-product-card-container {
        background: transparent;
        padding: 20px;
        width: 100%;
        border-radius: 5px;
        box-shadow: inset 0 0 0 1px rgb(124 139 154 / 25%);
    }

    .kg-product-card-description p {
        margin-top: 1.5em;
    }

    .kg-product-card-description ul {
        margin-left: 24px;
    }

    .kg-product-card-title {
        font-size: 1.9rem;
        font-weight: 700;
    }

    .kg-product-card-rating-star {
        height: 28px;
        width: 20px;
        margin-right: 2px;
    }

    .kg-product-card-rating-star svg {
    width: 16px;
    height: 16px;
    fill: currentColor;
    opacity: 0.15;
    }

    .kg-product-card-rating-active.kg-product-card-rating-star svg {
    opacity: 1;
    }

    .kg-nft-card-container {
        position: relative;
        display: flex;
        flex: auto;
        flex-direction: column;
        text-decoration: none;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;
        font-size: 1.4rem;
        font-weight: 400;
        box-shadow: 0 2px 6px -2px rgb(0 0 0 / 10%), 0 0 1px rgb(0 0 0 / 40%);
        width: 100%;
        max-width: 512px;
        color: #15212A;
        background: #fff;
        border-radius: 5px;
        transition: none;
        margin: 0 auto;
    }

    .kg-nft-metadata {
        padding: 2.0rem;
    }

    .kg-nft-image-container {
        position: relative;
    }

    .kg-nft-image {
        display: flex;
        border-radius: 5px 5px 0 0;
    }

    .kg-nft-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        gap: 20px;
    }

    .kg-nft-header h4.kg-nft-title {
        font-size: 1.9rem;
        font-weight: 700;
        margin: 0;
        color: #15212A;
    }

    .kg-nft-header amp-img {
        max-width: 114px;
        max-height: 26px;
    }

    .kg-nft-opensea-logo {
        margin-top: 2px;
        width: 100px;
    }

    .kg-nft-creator {
        font-family: inherit;
        color: #95A1AD;
    }

    .kg-nft-creator span {
        font-weight: 500;
        color: #15212A;
    }

    .kg-nft-card p.kg-nft-description {
        font-size: 1.4rem;
        line-height: 1.4em;
        margin: 2.0rem 0 0;
        color: #222;
    }

    .kg-button-card {
        display: flex;
        position: static;
        align-items: center;
        width: 100%;
        justify-content: center;
    }

    .kg-btn {
        display: flex;
        position: static;
        align-items: center;
        padding: 0 2.0rem;
        height: 4.0rem;
        line-height: 4.0rem;
        font-size: 1.65rem;
        font-weight: 600;
        text-decoration: none;
        border-radius: 5px;
        transition: opacity 0.2s ease-in-out;
    }

    .kg-btn:hover {
        opacity: 0.85;
    }

    .kg-btn-accent {
        background-color: var(--ghost-accent-color, #1292EE);
        color: #fff;
    }

    .kg-callout-card {
        display: flex;
        padding: 20px 28px;
        border-radius: 3px;
    }

    .kg-callout-card-grey {
        background: rgba(124, 139, 154, 0.13);
    }

    .kg-callout-card-white {
        background: transparent;
        box-shadow: inset 0 0 0 1px rgba(124, 139, 154, 0.25);
    }

    .kg-callout-card-blue {
        background: rgba(33, 172, 232, 0.12);
    }

    .kg-callout-card-green {
        background: rgba(52, 183, 67, 0.12);
    }

    .kg-callout-card-yellow {
        background: rgba(240, 165, 15, 0.13);
    }

    .kg-callout-card-red {
        background: rgba(209, 46, 46, 0.11);
    }

    .kg-callout-card-pink {
        background: rgba(225, 71, 174, 0.11);
    }

    .kg-callout-card-purple {
        background: rgba(135, 85, 236, 0.12);
    }

    .kg-callout-card-accent {
        background: var(--ghost-accent-color);
        color: #fff;
    }

    .kg-callout-card-accent a {
        color: #fff;
    }

    .kg-callout-emoji {
        padding-right: 16px;
        line-height: 1.3;
        font-size: 1.25em;
    }

    .kg-header-card {
        padding: 6em 3em;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    .kg-header-card.kg-size-small {
        padding-top: 4em;
        padding-bottom: 4em;
    }

    .kg-header-card.kg-size-large {
        padding-top: 12em;
        padding-bottom: 12em;
    }

    .kg-header-card.kg-width-full {
        padding-left: 4em;
        padding-right: 4em;
    }

    .kg-header-card.kg-align-left {
        text-align: left;
        align-items: flex-start;
    }

    .kg-header-card.kg-style-dark {
        background: #15171a;
        color: #ffffff;
    }

    .kg-header-card.kg-style-light {
        color: #15171a;
        border: 1px solid rgba(124, 139, 154, 0.25);
        border-width: 1px 0;
    }

    .kg-header-card.kg-style-accent {
        background-color: var(--ghost-accent-color);
    }

    .kg-header-card.kg-style-image {
        background-color: #e7e7eb;
        background-size: cover;
        background-position: center center;
    }

    .kg-header-card h2 {
        font-size: 4em;
        font-weight: 700;
        line-height: 1.1em;
        margin: 0;
    }

    .kg-header-card h2 strong {
        font-weight: 800;
    }

    .kg-header-card.kg-size-small h2 {
        font-size: 3em;
    }

    .kg-header-card.kg-size-large h2 {
        font-size: 5em;
    }

    .kg-header-card h3 {
        font-size: 1.25em;
        font-weight: 500;
        line-height: 1.3em;
        margin: 0;
    }

    .kg-header-card h3 strong {
        font-weight: 600;
    }

    .kg-header-card.kg-size-small h3 {
        font-size: 1em;
    }

    .kg-header-card.kg-size-large h3 {
        font-size: 1.5em;
    }

    .kg-header-card:not(.kg-style-light) h2,
    .kg-header-card:not(.kg-style-light) h3 {
        color: #ffffff;
    }

    .kg-header-card a.kg-header-card-button {
        display: flex;
        position: static;
        align-items: center;
        padding: 0 1.2em;
        height: 2.4em;
        line-height: 1em;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-size: 0.95em;
        font-weight: 600;
        text-decoration: none;
        border-radius: 5px;
        transition: opacity 0.2s ease-in-out;
        background-color: var(--ghost-accent-color);
        color: #ffffff;
        margin: 1.75em 0 0;
    }

    .kg-header-card a.kg-header-card-button:hover {
        opacity: 0.85;
    }

    .kg-header-card.kg-size-large a.kg-header-card-button {
        margin-top: 2em;
    }

    .kg-header-card.kg-size-small a.kg-header-card-button {
        margin-top: 1.5em;
    }

    .kg-header-card.kg-style-image a.kg-header-card-button,
    .kg-header-card.kg-style-dark a.kg-header-card-button {
        background: #ffffff;
        color: #15171a;
    }

    .kg-header-card.kg-style-accent a.kg-header-card-button {
        background: #ffffff;
        color: var(--ghost-accent-color);
    }

    .kg-audio-card {
        display: flex;
        width: 100%;
        box-shadow: inset 0 0 0 1px rgba(124, 139, 154, 0.25);
    }

    .kg-audio-thumbnail {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 80px;
        min-width: 80px;
        height: 80px;
        background: transparent;
        object-fit: cover;
        aspect-ratio: 1/1;
        border-radius: 3px 0 0 3px;
    }

    .kg-audio-thumbnail.placeholder {
        background: var(--ghost-accent-color);
    }

    .kg-audio-thumbnail.placeholder svg {
        width: 24px;
        height: 24px;
        fill: white;
    }

    .kg-audio-player-container {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: 100%;
        --seek-before-width: 0%;
        --volume-before-width: 100%;
        --buffered-width: 0%;
    }

    .kg-audio-title {
        width: 100%;
        padding: 8px 12px 0;
        border: none;
        font-family: inherit;
        font-size: 1.1em;
        font-weight: 700;
        background: transparent;
    }

    .kg-audio-player {
        display: none;
    }

    .kg-width-full.kg-card-hascaption {
        display: grid;
        grid-template-columns: inherit;
    }

    .post-content table {
        border-collapse: collapse;
        width: 100%;
    }

    .post-content th {
        padding: 0.5em 0.8em;
        text-align: left;
        font-size: .75em;
        text-transform: uppercase;
    }

    .post-content td {
        padding: 0.4em 0.7em;
    }

    .post-content tbody tr:nth-child(2n + 1) {
        background-color: rgba(0,0,0,0.1);
        padding: 1px;
    }

    .post-content tbody tr:nth-child(2n + 2) td:last-child {
        box-shadow:
            inset 1px 0 rgba(0,0,0,0.1),
            inset -1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:nth-child(2n + 2) td {
        box-shadow: inset 1px 0 rgba(0,0,0,0.1);
    }

    .post-content tbody tr:last-child {
        border-bottom: 1px solid rgba(0,0,0,.1);
    }

    .page-footer {
        padding: 60px 5vmin;
        margin: 60px auto 0;
        text-align: center;
        background-color: #f8f8f8;
    }

    .page-footer h3 {
        margin: 0.5rem 0 0 0;
    }

    .page-footer p {
        max-width: 500px;
        margin: 1rem auto 1.5rem;
        font-size: 1.7rem;
        line-height: 1.5em;
        color: rgba(0,0,0,0.6)
    }

    .powered {
        display: inline-flex;
        align-items: center;
        margin: 30px 0 0;
        padding: 6px 9px 6px 6px;
        border: rgba(0,0,0,0.1) 1px solid;
        font-size: 12px;
        line-height: 12px;
        letter-spacing: -0.2px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
        font-weight: 500;
        color: #222;
        text-decoration: none;
        background: #fff;
        border-radius: 6px;
    }

    .powered svg {
        height: 16px;
        width: 16px;
        margin: 0 6px 0 0;
    }

    @media (max-width: 600px) {
        body {
            font-size: 1.6rem;
        }
        h1 {
            font-size: 3rem;
        }

        h2 {
            font-size: 2.2rem;
        }
    }

    @media (max-width: 400px) {
        h1 {
            font-size: 2.6rem;
            line-height: 1.15em;
        }
        h2 {
            font-size: 2rem;
            line-height: 1.2em;
        }
        h3 {
            font-size: 1.7rem;
        }
    }

    :root {--ghost-accent-color: #15171A;}
    </style>

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>

    

</head>

<body class="amp-template">
    <header class="page-header">
        <a href="../../index.html">
                <amp-img class="site-icon" src="yourdomain.com/content/images/2021/07/ghost-orb.png" width="50" height="50" layout="fixed" alt="zairesinatra"></amp-img>
        </a>
    </header>

    <main class="content" role="main">
        <article class="post">

            <header class="post-header">
                <h1 class="post-title">TypeScript</h1>
                <section class="post-meta">
                    Ziyi Xie -
                    <time class="post-date" datetime="2020-05-01">01 May 2020</time>
                </section>
            </header>
            <figure class="post-image">
                <amp-img src="yourdomain.com/content/images/2022/07/typescript.png" width="600" height="340" layout="responsive" 
                alt="typescript"
                ></amp-img>
            </figure>
            <section class="post-content">

                <h2 id="%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B">快速上手</h2>
<p>动态弱类型类型的语言，在快速上手同时也存在很多让开发诟病的缺点。典型的变量可以赋值为任意类型，会为后续维护埋下隐患。TS 可以在任何支持 JS 的平台执行，但是 TS 不能被 JS 解析器直接执行，需要进一步编译成 JS。</p>
<p>作为语言扩展，增加的功能包括类型批注和编译时类型检查、类型推断与擦除、接口、枚举、泛型编程、命名空间、元组 Tuple、Mixin、Await。</p>
<h3 id="hello-typescript">Hello TypeScript</h3>
<ul>
<li>开发配置</li>
</ul>
<pre><code class="language-shell"># NPM 安装 TypeScript
npm install -g typescript
# 查看 TypeScript 版本
tsc -v
npm view typescript version
# 运行 TypeScript 编译器 =&gt; 在当前目录下会生成一个同名的 .js 文件
tsc xxx.ts
</code></pre>
<pre><code class="language-shell"># 监视 TS 文件改变自动编译
tsc file.ts -w # 等同于 --watch
# 根目录存在 tsconfig.json 时进行全局监视
tsc -w
</code></pre>
<p>为阻止编辑器提示函数重复实现和无法重新声明块范围变量的问题，可通过生成独立作用域或产生配置文件进行解决。该问题产生的原因是由于默认情况下的目录中所有 TS 文件都是在同一作用域下进行编译。</p>
<pre><code class="language-typescript">export { ... } // 模块中有独立作用域
</code></pre>
<pre><code class="language-shell">$ tsc --init # 生成一个 tsconfig 文件
</code></pre>
<ul>
<li>ts-node &amp; tslib &amp; @types/node 运行环境搭建</li>
</ul>
<p>ts-node 将 TS 转换为 JS，无需预编译即可直接在 Node.js 上执行 TypeScript。</p>
<p>ts-node 需要依赖 tslib 和 @types/node 两个包。</p>
<pre><code class="language-shell">$ npm i ts-node tslib @types/node -g
</code></pre>
<ul>
<li>Webpack 对 TS 进行编译打包</li>
</ul>
<pre><code class="language-shell">$ npm init
$ npm i webpack webpack-cli -D
$ npm i ts-loader typescript -D
$ tsc --init
$ npm i webpack-dev-server -D
$ npm i html-webpack-plugin -D
</code></pre>
<pre><code class="language-json">/* package.json */
"script": {
  "build": "webpack",
  "serve": "webpack serve"
}
</code></pre>
<pre><code class="language-js">/* webpack.config.js */
const path = require("path");
const HtmlWebpackPlugin = require("html-webpack-plugin");
module.exports = {
  mode: "development",
  entry: "./src/main.ts",
  output: {
    path: path.resolve(__dirname, "./dist"),
    filename: "bundle.js"
  },
  devServer: {},
  resolve: {
    extensions: [".ts", ".js", ".cjs", ".json"]
  },
  module: {
    rules: [
      {
        test: /\.ts$/i,
        loader: "ts-loader"
      }
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: "./index.html"
    })
  ]
}
</code></pre>
<h3 id="ts-%E7%BC%96%E8%AF%91%E5%99%A8%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">ts 编译器配置文件</h3>
<ol>
<li>
<p>tsconfig.json 文件所在的目录，标识为 TypeScript 项目的根目录。</p>
</li>
<li>
<p>tsconfig.json 配置文件指定编译项目所需的根文件和编译器选项。</p>
</li>
</ol>
<blockquote>
<p>（不带任何输入文件的情况下）调用 tsc 编译项目时，编译器默认从当前目录向上查找 tsconfig.json，除非使用命令行参数 --project（或 -p）指定含 tsconfig.json 文件的目录。当命令行上指定了输入文件时，tsconfig.json 文件会被忽略。</p>
</blockquote>
<p>JavaScript 项目可以使用 jsconfig.json 文件来代替，两者作用几乎相同，但默认启用了一些与 JavaScript 相关的编译器标志。</p>
<pre><code class="language-js">/* tsconfig.json */
{
  "include": [ // include 指定哪些 ts 文件需要进行编译
    "./src/**/*" // **任意目录 *任意文件
  ],
  "exclude": [ // exclude 指定哪些文件不需要进行编译
    "./src/exc/**/*" // 默认排除 ["node_modules", "bower_component", "jspm_packages"]
  ],
  "extend": "./config/base", // 当前配置文件会自动包含 config 目录下 base.json 中的所有配置信息
  "files": [ // 待编译的文件较少时可以使用 files 指定需要编译的内容 -&gt; 同 include
    "core.ts",
    "sys.ts",
    ...
  ],
  "compilerOptions": { // 在初始化 tsc 时会自动建立 compilerOptions 配置项 =&gt; compilerOptions 决定了编译器如何对 ts 文件进行编译
    "target": "es5", // 指定 ts 文件被编译为的 ES 版本
    "module": "commonjs", // 编译后的 js 需要使用的模块化规范
    // "lib": [], // 指定项目中需要用到的库 - 一般情况使用默认就好
    "outDir": "./dist", // 指定编译后文件所在目录
    // "outFile": "./", // 将代码合并为一个文件 - 若模块化则必须是 AMD 或者 system =&gt; 初始化默认注释
    "allowJs": true, // 是否对 JS 文件进行编译 - 默认为 false
    "checkJs": true, // 检查 JS 代码是否符合规范 -&gt; 通常与 allowJs 开关状态一致
    "removeComments": true, // 是否移除注释 —— 编译时是否携带注释
    "noEmit": false, // 不生成编译后的文件 =&gt; 不用编译功能而只检查语法
    "noEmitOnError": false, // 当有错误时不生成编译后的文件
    "strict": true, // 所有严格检查的总开关 -- 设置为 true 则所有严格模式全部打开
    /* 语法检查 */
    "alwaysStrict": false, // 编译后文件是否使用严格模式 =&gt; js 使用导入导出会默认开启严格模式所以不会显示 "use strict"
    "noImplicitAny": true, // 不允许隐式的 any 类型
    "noImplicitThis": true, // 不允许不明确类型的 this
    "strictNullChecks": false // 严格检查空值
    }
  }
}
</code></pre>
<h3 id="handbook">Handbook</h3>
<p>类型注解规范：大写表示 JS 中的包装类，小写才是 TS 中的类型。</p>
<ul>
<li>变量声明赋值同时进行 =&gt; 类型推导时可省略类型声明</li>
</ul>
<pre><code class="language-ts">function greeter(language: string, yearOfBirth: number): string { // 定义参数类型与返回值类型
  return "Hello, " + language + " =&gt; " + yearOfBirth;
}
let language = "Typescript";
let yearOfBirth: number; yearOfBirth = 2012;
console.log(greeter(language,yearOfBirth)); // Hello, Typescript =&gt; 2012
</code></pre>
<ul>
<li>null &amp; undefined</li>
</ul>
<p>对变量赋值为 null 或 undefined 时，推断类型会将这个变量视作 any 类型。</p>
<p>null 和 undefined 只能赋值给 void 和它们本身。</p>
<p>在 strictNullChecks 为 off 时，值可以是 null 或 undefined，类似于无空值检查。</p>
<p>在 strictNullChecks 为 on 时，对 null 与 undefined 使用方法前需要进行检查。</p>
<ul>
<li>Arrays 数组类型与 Tuple Types 元组类型</li>
</ul>
<p>数组用于存储同一类型或不同类型的元素集合，写法上可以在元素类型后面接上 [] 或使用数组泛型 <code>Array&lt;元素类型&gt;</code>。</p>
<pre><code class="language-typescript">const arr01: string[] = ["ok", "okk"];
const arr02: Array&lt;string&gt; = ["ok", "okk"];
</code></pre>
<p>元组类型表示已知元素数量和类型的数组，各元素的类型不必相同。当访问元组的越界元素时，会通过联合类型替代。</p>
<pre><code class="language-typescript">let tupleTypeTest01: [string, number]; // let tupleTypeTest01: Array&lt;string | number&gt;;
tupleTypeTest01 = ["hello", 6]; // 注意顺序
</code></pre>
<ul>
<li>Type Assertions 类型断言 =&gt; 实体具有比其现有类型更确切的类型</li>
</ul>
<p>类型断言的语法有尖括号和 as 两种形式，当使用 JSX 时，只有后者才被允许。</p>
<pre><code class="language-typescript">const myCanvas = document.getElementById("main_canvas") as HTMLCanvasElement;
const myCanvas = &lt;HTMLCanvasElement&gt;document.getElementById("main_canvas");
</code></pre>
<table>
<thead>
<tr>
<th>类型</th>
<th>示例</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>number</td>
<td>1, -22, 3.3...</td>
<td>任意数字 - primitive data type</td>
</tr>
<tr>
<td>string</td>
<td>'hi', "hi", hi...</td>
<td>任意字符串 - primitive data type</td>
</tr>
<tr>
<td>boolean</td>
<td>true、false</td>
<td>布尔值 true 或 false - primitive data type</td>
</tr>
<tr>
<td>字面量</td>
<td>22, "hello", "male|female"</td>
<td>限制变量的值就是该字面量的值 =&gt; 常使用 | 连接多个类型形成联合类型</td>
</tr>
<tr>
<td>any</td>
<td>*</td>
<td>任意类型 =&gt; 关闭这个变量的类型检测 - 且赋值给其他变量也会改变其他变量类型 =&gt; 声明变量不指定类型会被 TS 解析器自动判断类型为 any</td>
</tr>
<tr>
<td>unknown</td>
<td>*</td>
<td>类型安全的 any =&gt; 未知变量类型赋值给其他类型会报错 =&gt; TS2322: Type 'unknown' is not assignable to type 'xxx' =&gt; 包裹在 typeof 判断内解决或进行类型断言</td>
</tr>
<tr>
<td>void</td>
<td>空值/undefined</td>
<td>没有值/undefined =&gt; 常用做设置函数返回值</td>
</tr>
<tr>
<td>never</td>
<td>没有值</td>
<td>不能是任何值 =&gt; 常用做设置函数返回值 =&gt; 特别是用来指示报错的</td>
</tr>
<tr>
<td>object</td>
<td>{beverage:'Iced Americano'}</td>
<td>任意 JS 对象 =&gt; object 范围太大导致不实用 - {} 指定具体属性 - 箭头函数设置函数结构声明</td>
</tr>
<tr>
<td>array</td>
<td>number[]、string[]、Array&lt;T&gt;</td>
<td>存储相同类型的任意 JS 数组</td>
</tr>
<tr>
<td>tuple</td>
<td>[number, string, boolean]</td>
<td>元组 - TS 新增类型 - 固定长度数组且类型不限</td>
</tr>
<tr>
<td>enum</td>
<td>enum{A, B}</td>
<td>枚举 - TS 新增类型</td>
</tr>
<tr>
<td>Union</td>
<td>(type1 | type2 | type3 | .. | typeN)</td>
<td>TypeScript 允许为变量或函数参数使用多种数据类型 =&gt; 联合类型</td>
</tr>
</tbody>
</table>
<pre><code class="language-ts">// 可以直接使用字面量进行类型声明
let a: 10;
a = 10;
a = 11;❌
// 使用管道符连接多个类型 —— 联合类型
let b = "male" | "female";
let list: number[] | Array&lt;number&gt;; // 在元素类型后面接上[],表示由此类型元素组成的一个数组 | 使用数组泛型
list = [1, 2, 3];
// any表示任意类型,一个变量设置任意类型表示关闭了 TS 的类型检测
let d: any // 声明变量不指定类型也会隐式解析为 any 类型
d = '*'
// unknown 表示未知类型
let e: unknown; // any 可以赋值给任意变量; unknown 实际上是类型安全的 any
a = e;❌ // unknown 类型的变量不能直接赋值给其他变量,除非赋值前进行类型检查或者类型断言
a = e as number; // if( typeof e === 'number'){a = e} or a = &lt;number&gt;e
// void 表示函数无返回值,或者说返回空值
function voidfunc () { return }
// never 表示永远不会返回结果
function neverFunc (): never { throw new Error('your func has no return value') }
// object 表示一个js对象,由于不能指定具体对象类型使用较少
let obj: object;
obj = {}; obj = () =&gt; {}
// {} 常做指定对象中可以包含的属性 {属性名: 属性类型, ...}
let objj: {name: string, age?: number} // 属性名后加上 ? 表示属性可选
objj = {name: 'zszs', age: 23}
// 中括号表示任意属性
let objjj: {name: string, [propName: string]: any} // 可选任意属性名的任意属性
objjj = {name: 'zszs', age: 23, gender: 'male'}
// 设置函数结构的类型声明 (形参: 类型, ...) =&gt; 返回值类型
let func: (arg1: number, arg2: number) =&gt; number;
func = function(arg1, arg2) {return arg1 + arg2}
console.log(func(1, 2)); // 3
// TS 数组通常存储相同类型的值(类型后加[];Array&lt;类型&gt;)
let arr: string[] // 等价于 let arr: Array&lt;string&gt;
arr = ['z', 'y']
// 元组: 固定长度的数组(存储效率较好) —— Tuple
let tuple: [boolean, string]
tuple = [true, 'zyyy']
// enum 枚举
enum Gender { Male = 0, Female = 1 }
let enumtest: {name: string, gender: Gender};
enumtest = {
  name: 'Kakashi',
  gender: Gender.Male // 0
}
console.log(enumtest.gender === Gender.Male) // true
// &amp; 表示同时满足连接的条件
let j: {name: string} &amp; {age: number};
j = {name: 'kakashi', age: 24}
// 类型别名 —— 简化类型书写与使用
type myType = 1 | 2 | 3 | 4 | 5;
let k: myType;
k = 1
</code></pre>
<h3 id="reference">Reference</h3>
<ul>
<li>Symbols =&gt; 在 ES6 作为新的基本类型加入，通过构造函数创建实例</li>
</ul>
<p>不可改变且唯一是其特性。作为对象属性的键时，可用作解决同一对象中不能有两个相同键的问题。symbol 也可作为类成员使用。</p>
<pre><code class="language-typescript">let keyBySymbol = Symbol();
let obj = {
  [keyBySymbol]: "value"
};
console.log(obj[keyBySymbol]); // "value"
</code></pre>
<pre><code class="language-typescript">const getClassNameSymbol = Symbol();
class C {
  [getClassNameSymbol](){
    return "C";
  }
}
let c = new C();
let className = c[getClassNameSymbol](); // "C"
</code></pre>
<p>除用户定义的 symbols 外，还有一些的内置 symbols 用于表示语言内部的行为。</p>
<h3 id="operator">operator</h3>
<ul>
<li>optional chaining operator <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Optional_chaining">可选链运算符</a> =&gt; <code>?.</code></li>
<li>optional properties <a href="https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties">可选属性</a> =&gt; <code>?:</code></li>
<li>Numberic Separators <a href="https://github.com/tc39/proposal-numeric-separator">数字分隔符</a> =&gt; <code>_</code></li>
<li>Union Types <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types">联合类型</a> =&gt; <code>|</code></li>
<li>Intersection Types <a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types">交叉类型</a> =&gt; <code>&amp;</code></li>
<li>Nullish coalescing operator <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing">空值合并运算符</a> =&gt; <code>??</code></li>
<li>Non-null Assertion Operator <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#non-null-assertion-operator-postfix-">非空断言运算符</a> =&gt; <code>!</code></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html">Keyof</a> Type Operator &amp; <a href="https://www.typescriptlang.org/docs/handbook/2/typeof-types.html">Typeof</a> Type Operator</li>
</ul>
<h2 id="webpack-%E9%85%8D%E7%BD%AE-ts">Webpack 配置 TS</h2>
<h3 id="%E7%AE%80%E6%98%93%E9%85%8D%E7%BD%AE">简易配置</h3>
<ul>
<li>初始化项目并下载构建工具</li>
</ul>
<pre><code class="language-shell"># 初始化项目
npm init -y # 创建 package.json 文件
# 下载构建工具
npm i -D webpack webpack-cli typescript ts-loader # ts-loader =&gt; ts 加载器用于在 webpack 中编译 ts
npm i -D webpack-dev-server html-webpack-plugin clean-webpack-plugin # html-webpack-plugin =&gt; 用来自动创建 html 文件 \ clean-webpack-plugin =&gt; 每次构建都会先清除目录
</code></pre>
<ul>
<li>根目录下创建 Webpack 的配置文件 webpack.config.js</li>
</ul>
<pre><code class="language-js">/* webpack.config.js */
const path = require('path');
// 引入 html 插件 —— 自动生成 html 文件
const HTMLWebpackPlugin = require('html-webpack-plugin');
// 引入 clean 插件
const {CleanWebpackPlugin} = require('clean-webpack-plugin');
// webpack中的所有的配置信息都应该写在 module.exports 中
module.exports = {
  optimization:{
    minimize: false // 关闭代码压缩 - 可选
  },
  // 指定入口文件
  entry: "./src/index.ts",
  devtool: "inline-source-map", // 生成一个 DataUrl 形式的 SourceMap 文件
  devServer: {
    contentBase: './dist',
    open: {
      app: {  name: 'google-chrome', },
    },
  },
  // 指定打包文件所在目录
  output: {
    // 指定打包文件的目录
    path: path.resolve(__dirname, 'dist'),
    // 打包后文件的文件
    filename: "bundle.js",
    // 默认打包后是一个立即执行的箭头函数 =&gt; 在 IE11 中无法执行
    environment: { arrowFunction: false } // Webpack 打包时最外层不是箭头函数
  },
  resolve: { // 设置引用模块 —— 默认识别不出 .ts 结尾的模块
    extensions: ['.ts', '.js'] // 尝试按顺序解析这些后缀名
  }
  // 指定 Webpack 打包时要使用的模块
  module: {
    rules: [ // 指定要加载的规则 =&gt; 从后向前加载
      {
        test: /\.ts$/, // 指定规则生效的文件
        use: {
          loader:'ts-loader', // ts 转换为 js
        },
        exclude: /node-modules/ // 要排除的文件
      }
    ]
  },
  plugins: [
    new CleanWebpackPlugin(), // 编译前自动清空 dist 目录
    // html 文件的自定义配置 =&gt; 根据此 html 模板生成页面
    // template 使用时就没必要加上 title =&gt; 以指定文件为模板生产 html
    new HTMLWebpackPlugin({ title: "这是一个自定义的title", template: "./src/index.html" }),
  ],
}
</code></pre>
<ul>
<li>根目录下创建 tsconfig.json</li>
</ul>
<pre><code class="language-json">{
  "compilerOptions": {
    "target": "ES2015",
    "module": "ES2015",
    "strict": true
  }
}
</code></pre>
<ul>
<li>修改 package.json 配置</li>
</ul>
<pre><code class="language-json">{
  ...
  "scripts": {
    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",
    "build": "webpack",
    "start": "webpack serve --open-app-name 'google-chrome'"
  },
  ...
}
</code></pre>
<h3 id="babel">Babel</h3>
<p>在 Webpack 之外，开发中还经常需要 Babel 对代码进行转换以兼容到更多的浏览器，在此前配置的基础上，可通过以下新增配置将 Babel 引入项目。</p>
<ul>
<li>安装 Babel 依赖</li>
</ul>
<pre><code class="language-shell"># @babel/core =&gt; 核心工具、@babel/preset-env =&gt; 预定义环境、@babel-loader =&gt; 在 Webpack 中的加载器、core-js =&gt; 使老版本的浏览器支持新版 ES 语法
npm i -D @babel/core @babel/preset-env babel-loader core-js
</code></pre>
<ul>
<li>webpack.config.js 新增配置</li>
</ul>
<pre><code class="language-js">...
module: {
  rules: [
    {
      test: /\.ts$/,
      use: [
        {
          loader: "babel-loader",
          options:{
            presets: [
              [
                "@babel/preset-env",
                {
                  "targets":{ "chrome": "58", "ie": "11" },
                  "corejs":"3", // 模拟 js 运行环境代码 =&gt; 让旧版本浏览器使用新标准技术
                  "useBuiltIns": "usage" // corejs 按需加载
                }
              ]
            ]
          }
        },
        {
          loader: "ts-loader",
        }
      ],
      exclude: /node_modules/
    }
  ]
}
...
</code></pre>
<h2 id="%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-ts">面向对象 TS</h2>
<p>面向对象简而言之就是程序之中所有的操作都需要通过对象来完成。操作浏览器使用 window 对象；操作网页使用 document 对象；操作控制台使用 console 对象。</p>
<p>程序中所有的对象都被分成两个部分，数据和功能。数据在对象中被成为属性，而功能就被称为方法。所以简而言之，在程序中一切皆是对象。</p>
<h3 id="class-%E7%B1%BB">class 类</h3>
<ul>
<li>实例属性 &amp; 静态属性</li>
</ul>
<p>直接定义的属性是实例属性，需要对象实例去访问；使用 static 开头的属性是静态属性，可以直接通过类访问。readonly 修饰的属性为只读属性，无法修改。</p>
<pre><code class="language-ts">class Person {
  readonly name: string = 'kakashi'; // 不可被修该 —— 只读属性
  static age: number = 24;
}
const per = new Person();
console.log(Person.age, per.name); // 24 kakashi
</code></pre>
<ul>
<li>constructor 构造器</li>
</ul>
<p>通常一个类不可能只创建一种属性和方法都一致的对象，那么属性值不需要在定义类时指定，而是在创建对象时给变量赋值。可以通过在创建对象时被调用的构造函数来进行属性初始化，值得一提的是在构造函数中的 this 指向 new 出的实例。</p>
<pre><code class="language-ts">class Personn {
  name: string;
  age: number;
  constructor(name: string, age: number) {
    this.name = name; // 通过 this 向新建对象添加属性
    this.age = age;
    console.log(this); // Personn { name: 'zy', age: 22 }
  }
  sayHello() {
    console.log(`hello ${this.name} =&gt; ${this.age}`); // this 指调用方法的对象
  }
}
const p1 = new Personn("zy", 22);
p1.sayHello(); // hello zy =&gt; 22
</code></pre>
<ul>
<li>extends 继承</li>
</ul>
<p>Typescript 会检查不同文件中存在的变量名是否重复，可使用立即执行函数进行规避。不同的类中可能存在相同的属性与方法，可将这些重复内容封装成父类，让需要这些数据的子类进行继承。使用继承后，子类将拥有父类的所有方法与属性。若需在子类添加父类没有的属性与方法，那么直接添加即可。若在子类添加了父类的相同方法，则子类方法会重写父类方法。</p>
<p>父类也称为超类，所以 super 关键字可以代表父类，常见的使用情况是出现在构造器中对父类的构造函数进行调用，或调用父类的方法。这里注意的是，在子类中使用构造函数也会由于重写的问题而覆盖掉父类的构造函数，所以在子类的构造函数中必须通过 super(...args) 对父类的构造函数进行调用。</p>
<pre><code class="language-ts">(function () {
  class Fruit {
    name: string;
    constructor(name: string) {
      this.name = name;
    }
    sayHello() {
      console.log("Okk");
    }
  }
  class Coconut extends Fruit {
    age: number;
    constructor(name: string, age: number) {
      // 创建属性初始化必须调用构造函数去创建
      super(name);
      // 由于名字相同的函数会发生重写,在子类写构造函数相当于把父类构造函数覆盖掉了,那么父类构造函数不会执行,会导致 name 赋值失效,也就是继承失效
      this.age = age;
    }
    sayHello() {
      super.sayHello(); // super 表示当前类的父类
      console.log(`other methods =&gt; ${this.age} - ${this.name} - Fruit`); // other methods =&gt; 0.2 - coco - Fruit
    }
  }
  const coco = new Coconut("coco", 0.2);
  coco.sayHello(); // Okk —— 实际在调用父类的 sayHello
})();
</code></pre>
<ul>
<li>abstract 抽象类</li>
</ul>
<p>abstract 修饰的类是抽象类，类中存在抽象方法的类也是抽象类，抽象类可以没有抽象方法。抽象类不能直接创建对象，但可以被其他类继承。抽象方法不可以有方法体，继承的子类必须对抽象方法进行重写。如果想设计一个父类，但是父类中的通用方法不能满足每个子类的需求，那么通用方法的具体实现要由其子类确定，所以最好将这个父类定义为抽象类，该通用方法声明为抽象方法。</p>
<pre><code class="language-ts">(function () {
  abstract class Hello { // 没有抽象方法的抽象类
    sayHello(): void {
      console.log("hello zs");
    }
  }
  class ZShello extends Hello {}
  let zshello = new ZShello();
  zshello.sayHello(); // hello zs
})();
</code></pre>
<pre><code class="language-ts">(function () {
  abstract class Animal { // 无法创建抽象类的实例
    name: string;
    constructor(name: string) {
      this.name = name;
    }
    abstract sayHello(): void; // 通用方法不能满足每个类的需求
  }
  class Cat extends Animal {
    sayHello() {
      // 必须重写抽象方法
      console.log(`${this.name}` +" =&gt; cat class rewrite this method");
    }
  }
  let cat = new Cat("hello kitty");
  cat.sayHello(); // hello kitty =&gt; cat class rewrite this method
})();
</code></pre>
<h3 id="interface-%E6%8E%A5%E5%8F%A3">interface 接口</h3>
<p>接口泛指供他人调用的方法或函数，常封装对行为的抽象。Typescript 的接口可以作为类型声明去使用。接口的每个方法都是隐式抽象的，所以不需要使用 abstract 关键字，也不需要方法体。在一个实现某个接口的类中，需要满足接口的所有属性以及方法。</p>
<ul>
<li>对类加以对象类型或接口类型的限制</li>
</ul>
<pre><code class="language-ts">(function () {
  // 定义对象类型限制类的结构 =&gt; 对象类型只定义结构不考虑实际值
  type myType = { name: string; age: number };
  const obj01: myType = {
    name: "ok",
    age: 22,
  };
  // 若定义多个同名接口则默认会将其不重复内容合并
  interface mmyInterface {
    name: string;
  }
  interface mmyInterface {
    age: number;
  }
  const obj02: mmyInterface = {
    name: "obj02",
    age: 2,
  };
  // 定义接口限制类的结构 =&gt; 接口只定义结构不考虑实际值
  interface myInterface1 {
    name: string;
    age: number;
  }
  interface myInterface2 {
    sayHi(): void;
  }
  const obj03: myInterface1 &amp; myInterface2 = {
    name: "okk",
    age: 23,
    sayHi() {
      console.log("implements myInterface1 &amp; myInterface2"); // implements myInterface1 &amp; myInterface2
    },
  };
  obj03.sayHi();
  // 接口的实现
  class Obj04 implements myInterface1, myInterface2 {
    name = "obj03";
    age = 3;
    sayHi() {
      console.log("implements myInterface1 + myInterface2");
    }
  }
  const obj04 = new Obj04();
  obj03.sayHi(); // implements myInterface1 + myInterface2
})();
</code></pre>
<ul>
<li>实现接口的属性和方法</li>
</ul>
<pre><code class="language-ts">(function () {
  interface myInterface {
    name: string;
    age: number;
    sayHi(): void;
  }
  class MyClass implements myInterface { // 实现接口即使实现接口的所有属性与方法
    constructor(name: string, age: number) {
      this.name = name;
      this.age = age;
    }
    sayHi(): void {
    //   throw new Error("Guess method is not implemented.");
      console.log(`${this.name}` + ' =&gt; ' + `${this.age}`)
    }
    name: string;
    age: number;
  }
  const myclass = new MyClass("Test",123);
  myclass.sayHi() // Test =&gt; 123
})();
</code></pre>
<h3 id="%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8C%BA%E5%88%AB">抽象类和接口的区别</h3>
<ul>
<li>语法层面
<ol>
<li>抽象类可以提供成员方法的实现细节，而接口中只定义结构不考虑实际值；</li>
<li>抽象类中的成员变量修饰符可以是 public、protected、private 或 readonly，接口成员访问修饰符默认为 public，且不能显示使用访问修饰符；</li>
<li>接口中不能含有静态代码块以及静态方法，而抽象类可以有静态代码块和静态方法；</li>
<li>一个类只能继承一个抽象类，而一个类却可以实现多个接口。</li>
</ol>
</li>
<li>设计层面
<ol>
<li>抽象类是对类抽象，包括属性、行为；而接口是对行为的抽象；</li>
<li>飞机 -&gt; 类 Airplane、鸟 -&gt; 类 Bird、飞行 -&gt; 接口 flight；</li>
<li>开、关门方法应属于门这个类，实现报警功能作为一个接口；</li>
<li>继承是一个 "是不是" 的关系，接口实现是 "有没有" 的关系。</li>
</ol>
</li>
</ul>
<h3 id="modifiers-%E5%B1%9E%E6%80%A7%E4%BF%AE%E9%A5%B0%E7%AC%A6">Modifiers 属性修饰符</h3>
<p>不添加修饰符而直接设置的属性，可以被任意的修改，那么会导致数据的安全性下降。TS 允许在属性前添加属性的修饰符，限制属性的访问与修改。</p>
<p>Access Modifiers 访问修饰符分别是 public、private 和 protected。</p>
<ul>
<li>默认修饰符 =&gt; public 可以在任意位置访问与修改</li>
</ul>
<pre><code class="language-ts">class PersonOkk {
  public name: string; // 写或什么都不写都是public
  public age: number;
  private ok: string;
  constructor(name: string, age: number, ok: string) {
    this.name = name; // 可以在类中修改
    this.age = age;
    this.ok = ok;
  }
  getOk() {
    return this.ok;
  }
  setOk(value: string) {
    this.ok = value;
  }
}
const personOkk = new PersonOkk("wow", 21, "okkk");
// 通过 getter setter 方法获取私有属性
console.log(personOkk, personOkk.getOk); // PersonOkk { name: 'wow', age: 21, ok: 'okkk' } [Function: getOk]
personOkk.setOk("yes, ok!")
console.log(personOkk, personOkk.getOk); // PersonOkk { name: 'wow', age: 21, ok: 'yes, ok!' } [Function: getOk]

class PersonOkkExt extends PersonOkk {
  constructor(name: string, age: number, ok: string) {
    super(name, age, ok);
    this.name = name; //子类中可以修改
    this.age = age;
  }
}
const personOkkExt = new PersonOkkExt("personOkkExt", 22, "testOk");
console.log(personOkkExt); // PersonOkkExt { name: 'personOkkExt', age: 22, ok: 'testOk' }
</code></pre>
<ul>
<li>私有属性修饰符 private 修饰的属性禁止被外部修改，只能在类内部修改</li>
</ul>
<pre><code class="language-ts">class PersonOk {
  private name: string;
  private age: number;
  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }
}
let personOk = new PersonOk("Sasuke", 20);
console.log(personOk); // PersonOk { name: 'Sasuke', age: 20 }
personOk.age = 21; ❌ // 属性 age 为私有属性，只能在类 PersonOk 中访问 ts(2341)
</code></pre>
<p>由于 TS 里的属性修饰符不存在于 JS，所以在不配置选项 "noEmitOnError": true 的情况下，还是会导致在编译后的 JS 文件里属性被修改。noEmitOnError 设置为 true 是表示若编译不通过就不生成 JS 文件。</p>
<ul>
<li>属性修饰符 protected =&gt; 只能在当前类与当前类的子类中访问与修改</li>
</ul>
<pre><code class="language-ts">(function () {
  class A {
    protected num: number;
    constructor(num: number) {
      this.num = num;
    }
  }
  class B extends A {
    test() {
      console.log(this.num);
    }
  }
  const b = new B(1);
  // b.num 不可更改
  b.test(); // 1

  // 简化写法
  class C {
    // 可以直接将属性定义在构造函数中
    constructor(public name: string, public age: number) {}
  }
  const c = new C("ccc", 20);
  console.log(c); // C { name: 'ccc', age: 20 }
})();
</code></pre>
<p>只读修饰符 readonly 修饰的成员在初始化后只能读不能写，在 constructor 中可以初始化或更改。</p>
<p>静态修饰符 static 修饰的成员叫静态成员，静态成员无需实例化，可直接通过类名直接调用。</p>
<h3 id="generic-%E6%B3%9B%E5%9E%8B">generic 泛型</h3>
<p>定义函数或类时，有些情况下无法确定其中要使用的具体类型（返回值、参数、属性的类型不能确定），此时考虑泛型。泛型只有在执行时才会确定。</p>
<ul>
<li>既要避免使用 any，又要避免定义类型不明确的情况</li>
</ul>
<pre><code class="language-ts">// 修改前 =&gt; 使用 any
function test(arg: any): any{ // 跳过类型检查不可取
  return arg;
}
// 修改后 =&gt; 使用泛型
function test&lt;T&gt;(arg: T): T{ // 先进行定义泛型 T =&gt; &lt;T&gt; 再使用泛型 T =&gt; :T
  return arg;
}
test(10); // 直接调用具有泛型的函数 =&gt; 不指定泛型可以让 ts 自动对类型推断
test&lt;string&gt;('hello'); // 指定泛型
</code></pre>
<ul>
<li>指定多个泛型</li>
</ul>
<pre><code class="language-ts">function func&lt;T, K&gt;(a: T, b: K){
  console.log(b);
  return a
}
func&lt;number, string&gt;(123, 'hello')
</code></pre>
<ul>
<li>通过接口限制泛型范围</li>
</ul>
<pre><code class="language-ts">// T extends Inter 表示泛型必须是 Inter 实现类
interface Inter {
  length: number;
}
function fun&lt;T extends Inter&gt;(a: T): number { // 传入的参数必须实现指定的接口
  return a.length;
}
// 必须传入具有 length 属性的参数
console.log(fun("123"));
console.log(fun([1,2,3]));
</code></pre>
<ul>
<li>类中使用泛型</li>
</ul>
<pre><code class="language-ts">class MyGeneric&lt;G&gt; {
  name: G;
  constructor(name: G) {
    this.name = name;
  }
}
const mg = new MyGeneric&lt;string&gt;('MyGeneric')
</code></pre>
<h2 id="bugs-%E8%A7%A3%E5%86%B3">Bugs 解决</h2>
<ul>
<li>.ts 文件引入其他 .ts 文件暴露的变量时出现报错</li>
</ul>
<p>Webpack 默认不将 ts 作为模块使用，需进行配置通知哪些文件可作为模块使用。</p>
<pre><code class="language-js">/* webpack.config.js */
...
  // 设置哪些文件可作为模块使用
  resolve: {
    extensions: ['.ts','.js']
  }
...
</code></pre>
<ul>
<li>ts-node "xxx.ts" =&gt; zsh: command not found: ts-node =&gt; 缺失 ts-node</li>
</ul>
<p><a href="https://www.npmjs.com/package/ts-node">ts-node</a> 是一个 TypeScript 执行引擎和 Node.js 的 REPL =&gt; 交互式解释器。</p>
<ul>
<li>TS7016 =&gt; 无法找到模块 "x" 的声明文件。"x" 隐式拥有 "any" 类型。</li>
</ul>
<pre><code>// 默认提示 =&gt; 若 "?" 包实际公开了此模块，可尝试添加包含 `declare module "?/.../x";` 的新声明 (.d.ts) 文件。
</code></pre>
<p>此问题通常在 TypeScript 项目里使用第三方的 JavaScript 库时产生。</p>
<p>由于引入文件里的变量类型不明确，需要 .d.ts 声明文件通知变量类型。</p>
<p>通常 TypeScript 会解析项目中所有的 *.ts 文件（包含以 .d.ts 结尾的文件）。</p>
<p>若 .d.ts 文件没有用到 import 或 export，那么最顶层声明的变量就是全局变量。</p>
<pre><code>根目录创建 types 文件夹，并于此新建所需的模块类型声明文件；
tsconfig.json 中于 include 添加上 types。
</code></pre>
<ul>
<li>ts =&gt; 在配置文件 "/tsconfig.json "中找不到任何输入。指定的 "include" 路径为 <code>["**/*"]</code>，"exclude" 路径为 <code>[]</code>。</li>
</ul>
<p>tsconfig.json 存在后，VSC 会自动在 include 与 exclude 范围中查找 ts 文件，若找不到 ts 文件则报错。在 include 和 exclude 范围中添加 ts 文件可解决此问题。</p>
<figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://tutorialsteacher.com/typescript"><div class="kg-bookmark-content"><div class="kg-bookmark-title">Learn TypeScript using Step-by-Step Tutorials</div><div class="kg-bookmark-description">Learn ASP.NET Core step-by-step. Understand the basics of ASP.NET Core web framework with practical and easy to understand examples.</div><div class="kg-bookmark-metadata"><amp-img class="kg-bookmark-icon" src="https://tutorialsteacher.com/favicon.ico" alt width="16" height="16" layout="fixed"></amp-img><span class="kg-bookmark-author">LOGO</span></div></div><div class="kg-bookmark-thumbnail"><amp-img src="https://www.tutorialsteacher.com/assets/images/fbshare.jpg" alt width="200" height="200" layout="fixed"></amp-img></div></a></figure><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://typescript.bootcss.com/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">TypeScript 中文手册</div><div class="kg-bookmark-description">TypeScript 可用于替代应用级的 JavaScript 开发。TypeScript 为 JavaScript 添加了可选的类型、类和模块系统。TypeScript 支持大规模 JavaScript 应用程序开发工具，支持任何浏览器、主机和操作系统。TypeScript 能够编译为易于识读的、兼容标准的 JavaScript 代码。</div><div class="kg-bookmark-metadata"><amp-img class="kg-bookmark-icon" src="https://typescript.bootcss.com/apple-touch-icon-180x180.png" alt width="180" height="180" layout="fixed"></amp-img><span class="kg-bookmark-author">TypeScript 中文手册</span></div></div><div class="kg-bookmark-thumbnail"><amp-img src="https://typescript.bootcss.com/images/typescript.svg" alt width="512" height="125" layout="responsive"></amp-img></div></a></figure><h2 id="%E7%BB%93%E6%9D%9F">结束</h2>
<p>本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh"> CC BY-SA 4.0 </a>协议，转载请注明出处！</p>


            </section>

        </article>
    </main>
    <footer class="page-footer">
            <amp-img class="site-icon" src="yourdomain.com/content/images/2021/07/ghost-orb.png" width="50" height="50" layout="fixed" alt="zairesinatra"></amp-img>
        <h3>zairesinatra</h3>
            <p>The best time to recognize yourself is ten years ago, followed by now.</p>
        <p><a href="../../index.html">Read more posts →</a></p>
        <a class="powered" href="https://ghost.org" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 156 156"><g fill="none" fill-rule="evenodd"><rect fill="#15212B" width="156" height="156" rx="27"/><g transform="translate(36 36)" fill="#F6F8FA"><path d="M0 71.007A4.004 4.004 0 014 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0130 84H4a4 4 0 01-4-4.007v-8.986zM50 71.007A4.004 4.004 0 0154 67h26a4 4 0 014 4.007v8.986A4.004 4.004 0 0180 84H54a4 4 0 01-4-4.007v-8.986z"/><rect y="34" width="84" height="17" rx="4"/><path d="M0 4.007A4.007 4.007 0 014.007 0h41.986A4.003 4.003 0 0150 4.007v8.986A4.007 4.007 0 0145.993 17H4.007A4.003 4.003 0 010 12.993V4.007z"/><rect x="67" width="17" height="17" rx="4"/></g></g></svg> Published with Ghost</a>
    </footer>
    
</body>
</html>
